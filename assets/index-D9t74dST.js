(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();var Au={exports:{}},ki={},Ou={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf;function __(){if(qf)return q;qf=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),w=Symbol.iterator;function T(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,$={};function K(E,R,Y){this.props=E,this.context=R,this.refs=$,this.updater=Y||O}K.prototype.isReactComponent={},K.prototype.setState=function(E,R){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,R,"setState")},K.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function je(){}je.prototype=K.prototype;function Qe(E,R,Y){this.props=E,this.context=R,this.refs=$,this.updater=Y||O}var Ge=Qe.prototype=new je;Ge.constructor=Qe,W(Ge,K.prototype),Ge.isPureReactComponent=!0;var xe=Array.isArray,Ct=Object.prototype.hasOwnProperty,Ke={current:null},Xe={key:!0,ref:!0,__self:!0,__source:!0};function pt(E,R,Y){var J,ne={},re=null,ae=null;if(R!=null)for(J in R.ref!==void 0&&(ae=R.ref),R.key!==void 0&&(re=""+R.key),R)Ct.call(R,J)&&!Xe.hasOwnProperty(J)&&(ne[J]=R[J]);var oe=arguments.length-2;if(oe===1)ne.children=Y;else if(1<oe){for(var ge=Array(oe),at=0;at<oe;at++)ge[at]=arguments[at+2];ne.children=ge}if(E&&E.defaultProps)for(J in oe=E.defaultProps,oe)ne[J]===void 0&&(ne[J]=oe[J]);return{$$typeof:i,type:E,key:re,ref:ae,props:ne,_owner:Ke.current}}function rn(E,R){return{$$typeof:i,type:E.type,key:R,ref:E.ref,props:E.props,_owner:E._owner}}function Ht(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function Pn(E){var R={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Y){return R[Y]})}var Mt=/\/+/g;function ut(E,R){return typeof E=="object"&&E!==null&&E.key!=null?Pn(""+E.key):R.toString(36)}function St(E,R,Y,J,ne){var re=typeof E;(re==="undefined"||re==="boolean")&&(E=null);var ae=!1;if(E===null)ae=!0;else switch(re){case"string":case"number":ae=!0;break;case"object":switch(E.$$typeof){case i:case t:ae=!0}}if(ae)return ae=E,ne=ne(ae),E=J===""?"."+ut(ae,0):J,xe(ne)?(Y="",E!=null&&(Y=E.replace(Mt,"$&/")+"/"),St(ne,R,Y,"",function(at){return at})):ne!=null&&(Ht(ne)&&(ne=rn(ne,Y+(!ne.key||ae&&ae.key===ne.key?"":(""+ne.key).replace(Mt,"$&/")+"/")+E)),R.push(ne)),1;if(ae=0,J=J===""?".":J+":",xe(E))for(var oe=0;oe<E.length;oe++){re=E[oe];var ge=J+ut(re,oe);ae+=St(re,R,Y,ge,ne)}else if(ge=T(E),typeof ge=="function")for(E=ge.call(E),oe=0;!(re=E.next()).done;)re=re.value,ge=J+ut(re,oe++),ae+=St(re,R,Y,ge,ne);else if(re==="object")throw R=String(E),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return ae}function Lt(E,R,Y){if(E==null)return E;var J=[],ne=0;return St(E,J,"","",function(re){return R.call(Y,re,ne++)}),J}function Je(E){if(E._status===-1){var R=E._result;R=R(),R.then(function(Y){(E._status===0||E._status===-1)&&(E._status=1,E._result=Y)},function(Y){(E._status===0||E._status===-1)&&(E._status=2,E._result=Y)}),E._status===-1&&(E._status=0,E._result=R)}if(E._status===1)return E._result.default;throw E._result}var we={current:null},M={transition:null},b={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:M,ReactCurrentOwner:Ke};function z(){throw Error("act(...) is not supported in production builds of React.")}return q.Children={map:Lt,forEach:function(E,R,Y){Lt(E,function(){R.apply(this,arguments)},Y)},count:function(E){var R=0;return Lt(E,function(){R++}),R},toArray:function(E){return Lt(E,function(R){return R})||[]},only:function(E){if(!Ht(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},q.Component=K,q.Fragment=r,q.Profiler=u,q.PureComponent=Qe,q.StrictMode=o,q.Suspense=m,q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b,q.act=z,q.cloneElement=function(E,R,Y){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var J=W({},E.props),ne=E.key,re=E.ref,ae=E._owner;if(R!=null){if(R.ref!==void 0&&(re=R.ref,ae=Ke.current),R.key!==void 0&&(ne=""+R.key),E.type&&E.type.defaultProps)var oe=E.type.defaultProps;for(ge in R)Ct.call(R,ge)&&!Xe.hasOwnProperty(ge)&&(J[ge]=R[ge]===void 0&&oe!==void 0?oe[ge]:R[ge])}var ge=arguments.length-2;if(ge===1)J.children=Y;else if(1<ge){oe=Array(ge);for(var at=0;at<ge;at++)oe[at]=arguments[at+2];J.children=oe}return{$$typeof:i,type:E.type,key:ne,ref:re,props:J,_owner:ae}},q.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},q.createElement=pt,q.createFactory=function(E){var R=pt.bind(null,E);return R.type=E,R},q.createRef=function(){return{current:null}},q.forwardRef=function(E){return{$$typeof:p,render:E}},q.isValidElement=Ht,q.lazy=function(E){return{$$typeof:k,_payload:{_status:-1,_result:E},_init:Je}},q.memo=function(E,R){return{$$typeof:_,type:E,compare:R===void 0?null:R}},q.startTransition=function(E){var R=M.transition;M.transition={};try{E()}finally{M.transition=R}},q.unstable_act=z,q.useCallback=function(E,R){return we.current.useCallback(E,R)},q.useContext=function(E){return we.current.useContext(E)},q.useDebugValue=function(){},q.useDeferredValue=function(E){return we.current.useDeferredValue(E)},q.useEffect=function(E,R){return we.current.useEffect(E,R)},q.useId=function(){return we.current.useId()},q.useImperativeHandle=function(E,R,Y){return we.current.useImperativeHandle(E,R,Y)},q.useInsertionEffect=function(E,R){return we.current.useInsertionEffect(E,R)},q.useLayoutEffect=function(E,R){return we.current.useLayoutEffect(E,R)},q.useMemo=function(E,R){return we.current.useMemo(E,R)},q.useReducer=function(E,R,Y){return we.current.useReducer(E,R,Y)},q.useRef=function(E){return we.current.useRef(E)},q.useState=function(E){return we.current.useState(E)},q.useSyncExternalStore=function(E,R,Y){return we.current.useSyncExternalStore(E,R,Y)},q.useTransition=function(){return we.current.useTransition()},q.version="18.3.1",q}var Xf;function ma(){return Xf||(Xf=1,Ou.exports=__()),Ou.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf;function y_(){if(Jf)return ki;Jf=1;var i=ma(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,_){var k,w={},T=null,O=null;_!==void 0&&(T=""+_),m.key!==void 0&&(T=""+m.key),m.ref!==void 0&&(O=m.ref);for(k in m)o.call(m,k)&&!c.hasOwnProperty(k)&&(w[k]=m[k]);if(p&&p.defaultProps)for(k in m=p.defaultProps,m)w[k]===void 0&&(w[k]=m[k]);return{$$typeof:t,type:p,key:T,ref:O,props:w,_owner:u.current}}return ki.Fragment=r,ki.jsx=f,ki.jsxs=f,ki}var Zf;function v_(){return Zf||(Zf=1,Au.exports=y_()),Au.exports}var Dt=v_(),ao=ma(),oo={},Mu={exports:{}},it={},Lu={exports:{}},Fu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function w_(){return eh||(eh=1,function(i){function t(M,b){var z=M.length;M.push(b);e:for(;0<z;){var E=z-1>>>1,R=M[E];if(0<u(R,b))M[E]=b,M[z]=R,z=E;else break e}}function r(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var b=M[0],z=M.pop();if(z!==b){M[0]=z;e:for(var E=0,R=M.length,Y=R>>>1;E<Y;){var J=2*(E+1)-1,ne=M[J],re=J+1,ae=M[re];if(0>u(ne,z))re<R&&0>u(ae,ne)?(M[E]=ae,M[re]=z,E=re):(M[E]=ne,M[J]=z,E=J);else if(re<R&&0>u(ae,z))M[E]=ae,M[re]=z,E=re;else break e}}return b}function u(M,b){var z=M.sortIndex-b.sortIndex;return z!==0?z:M.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],_=[],k=1,w=null,T=3,O=!1,W=!1,$=!1,K=typeof setTimeout=="function"?setTimeout:null,je=typeof clearTimeout=="function"?clearTimeout:null,Qe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ge(M){for(var b=r(_);b!==null;){if(b.callback===null)o(_);else if(b.startTime<=M)o(_),b.sortIndex=b.expirationTime,t(m,b);else break;b=r(_)}}function xe(M){if($=!1,Ge(M),!W)if(r(m)!==null)W=!0,Je(Ct);else{var b=r(_);b!==null&&we(xe,b.startTime-M)}}function Ct(M,b){W=!1,$&&($=!1,je(pt),pt=-1),O=!0;var z=T;try{for(Ge(b),w=r(m);w!==null&&(!(w.expirationTime>b)||M&&!Pn());){var E=w.callback;if(typeof E=="function"){w.callback=null,T=w.priorityLevel;var R=E(w.expirationTime<=b);b=i.unstable_now(),typeof R=="function"?w.callback=R:w===r(m)&&o(m),Ge(b)}else o(m);w=r(m)}if(w!==null)var Y=!0;else{var J=r(_);J!==null&&we(xe,J.startTime-b),Y=!1}return Y}finally{w=null,T=z,O=!1}}var Ke=!1,Xe=null,pt=-1,rn=5,Ht=-1;function Pn(){return!(i.unstable_now()-Ht<rn)}function Mt(){if(Xe!==null){var M=i.unstable_now();Ht=M;var b=!0;try{b=Xe(!0,M)}finally{b?ut():(Ke=!1,Xe=null)}}else Ke=!1}var ut;if(typeof Qe=="function")ut=function(){Qe(Mt)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,Lt=St.port2;St.port1.onmessage=Mt,ut=function(){Lt.postMessage(null)}}else ut=function(){K(Mt,0)};function Je(M){Xe=M,Ke||(Ke=!0,ut())}function we(M,b){pt=K(function(){M(i.unstable_now())},b)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_continueExecution=function(){W||O||(W=!0,Je(Ct))},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rn=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(M){switch(T){case 1:case 2:case 3:var b=3;break;default:b=T}var z=T;T=b;try{return M()}finally{T=z}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(M,b){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var z=T;T=M;try{return b()}finally{T=z}},i.unstable_scheduleCallback=function(M,b,z){var E=i.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?E+z:E):z=E,M){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=z+R,M={id:k++,callback:b,priorityLevel:M,startTime:z,expirationTime:R,sortIndex:-1},z>E?(M.sortIndex=z,t(_,M),r(m)===null&&M===r(_)&&($?(je(pt),pt=-1):$=!0,we(xe,z-E))):(M.sortIndex=R,t(m,M),W||O||(W=!0,Je(Ct))),M},i.unstable_shouldYield=Pn,i.unstable_wrapCallback=function(M){var b=T;return function(){var z=T;T=b;try{return M.apply(this,arguments)}finally{T=z}}}}(Fu)),Fu}var th;function E_(){return th||(th=1,Lu.exports=w_()),Lu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function C_(){if(nh)return it;nh=1;var i=ma(),t=E_();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(u[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},w={};function T(e){return m.call(w,e)?!0:m.call(k,e)?!1:_.test(e)?w[e]=!0:(k[e]=!0,!1)}function O(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function W(e,n,s,l){if(n===null||typeof n>"u"||O(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function $(e,n,s,l,a,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){K[e]=new $(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];K[n]=new $(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){K[e]=new $(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){K[e]=new $(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){K[e]=new $(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){K[e]=new $(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){K[e]=new $(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){K[e]=new $(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){K[e]=new $(e,5,!1,e.toLowerCase(),null,!1,!1)});var je=/[\-:]([a-z])/g;function Qe(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(je,Qe);K[n]=new $(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(je,Qe);K[n]=new $(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(je,Qe);K[n]=new $(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){K[e]=new $(e,1,!1,e.toLowerCase(),null,!1,!1)}),K.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){K[e]=new $(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ge(e,n,s,l){var a=K.hasOwnProperty(n)?K[n]:null;(a!==null?a.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(W(n,s,a,l)&&(s=null),l||a===null?T(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(n=a.attributeName,l=a.attributeNamespace,s===null?e.removeAttribute(n):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var xe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ct=Symbol.for("react.element"),Ke=Symbol.for("react.portal"),Xe=Symbol.for("react.fragment"),pt=Symbol.for("react.strict_mode"),rn=Symbol.for("react.profiler"),Ht=Symbol.for("react.provider"),Pn=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),Lt=Symbol.for("react.memo"),Je=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),M=Symbol.iterator;function b(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,E;function R(e){if(E===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var Y=!1;function J(e,n){if(!e||Y)return"";Y=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(I){var l=I}Reflect.construct(e,[],n)}else{try{n.call()}catch(I){l=I}e.call(n.prototype)}else{try{throw Error()}catch(I){l=I}e()}}catch(I){if(I&&l&&typeof I.stack=="string"){for(var a=I.stack.split(`
`),d=l.stack.split(`
`),h=a.length-1,g=d.length-1;1<=h&&0<=g&&a[h]!==d[g];)g--;for(;1<=h&&0<=g;h--,g--)if(a[h]!==d[g]){if(h!==1||g!==1)do if(h--,g--,0>g||a[h]!==d[g]){var y=`
`+a[h].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=h&&0<=g);break}}}finally{Y=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?R(e):""}function ne(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=J(e.type,!1),e;case 11:return e=J(e.type.render,!1),e;case 1:return e=J(e.type,!0),e;default:return""}}function re(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xe:return"Fragment";case Ke:return"Portal";case rn:return"Profiler";case pt:return"StrictMode";case ut:return"Suspense";case St:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pn:return(e.displayName||"Context")+".Consumer";case Ht:return(e._context.displayName||"Context")+".Provider";case Mt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lt:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case Je:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}function ae(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(n);case 8:return n===pt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function oe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ge(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function at(e){var n=ge(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(h){l=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function qi(e){e._valueTracker||(e._valueTracker=at(e))}function tc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ge(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bo(e,n){var s=n.checked;return z({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function nc(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=oe(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function rc(e,n){n=n.checked,n!=null&&Ge(e,"checked",n,!1)}function Wo(e,n){rc(e,n);var s=oe(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?jo(e,n.type,s):n.hasOwnProperty("defaultValue")&&jo(e,n.type,oe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function ic(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function jo(e,n,s){(n!=="number"||Xi(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Br=Array.isArray;function er(e,n,s,l){if(e=e.options,n){n={};for(var a=0;a<s.length;a++)n["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=n.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&l&&(e[s].defaultSelected=!0)}else{for(s=""+oe(s),n=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}n!==null||e[a].disabled||(n=e[a])}n!==null&&(n.selected=!0)}}function Vo(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return z({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Br(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:oe(s)}}function oc(e,n){var s=oe(n.value),l=oe(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function lc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function uc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ho(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?uc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ji,ac=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,a){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,a)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ji=Ji||document.createElement("div"),Ji.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ji.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Wr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cm=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(e){Cm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),jr[n]=jr[e]})});function cc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||jr.hasOwnProperty(e)&&jr[e]?(""+n).trim():n+"px"}function dc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,a=cc(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,a):e[s]=a}}var Sm=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $o(e,n){if(n){if(Sm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function bo(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=null;function Go(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ko=null,tr=null,nr=null;function fc(e){if(e=ai(e)){if(typeof Ko!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Es(n),Ko(e.stateNode,e.type,n))}}function hc(e){tr?nr?nr.push(e):nr=[e]:tr=e}function pc(){if(tr){var e=tr,n=nr;if(nr=tr=null,fc(e),n)for(e=0;e<n.length;e++)fc(n[e])}}function mc(e,n){return e(n)}function gc(){}var Yo=!1;function _c(e,n,s){if(Yo)return e(n,s);Yo=!0;try{return mc(e,n,s)}finally{Yo=!1,(tr!==null||nr!==null)&&(gc(),pc())}}function Vr(e,n){var s=e.stateNode;if(s===null)return null;var l=Es(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var qo=!1;if(p)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){qo=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{qo=!1}function km(e,n,s,l,a,d,h,g,y){var I=Array.prototype.slice.call(arguments,3);try{n.apply(s,I)}catch(x){this.onError(x)}}var $r=!1,Zi=null,es=!1,Xo=null,Im={onError:function(e){$r=!0,Zi=e}};function Tm(e,n,s,l,a,d,h,g,y){$r=!1,Zi=null,km.apply(Im,arguments)}function Nm(e,n,s,l,a,d,h,g,y){if(Tm.apply(this,arguments),$r){if($r){var I=Zi;$r=!1,Zi=null}else throw Error(r(198));es||(es=!0,Xo=I)}}function Dn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function yc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function vc(e){if(Dn(e)!==e)throw Error(r(188))}function Rm(e){var n=e.alternate;if(!n){if(n=Dn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var a=s.return;if(a===null)break;var d=a.alternate;if(d===null){if(l=a.return,l!==null){s=l;continue}break}if(a.child===d.child){for(d=a.child;d;){if(d===s)return vc(a),e;if(d===l)return vc(a),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=a,l=d;else{for(var h=!1,g=a.child;g;){if(g===s){h=!0,s=a,l=d;break}if(g===l){h=!0,l=a,s=d;break}g=g.sibling}if(!h){for(g=d.child;g;){if(g===s){h=!0,s=d,l=a;break}if(g===l){h=!0,l=d,s=a;break}g=g.sibling}if(!h)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function wc(e){return e=Rm(e),e!==null?Ec(e):null}function Ec(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Ec(e);if(n!==null)return n;e=e.sibling}return null}var Cc=t.unstable_scheduleCallback,Sc=t.unstable_cancelCallback,xm=t.unstable_shouldYield,Pm=t.unstable_requestPaint,ke=t.unstable_now,Dm=t.unstable_getCurrentPriorityLevel,Jo=t.unstable_ImmediatePriority,kc=t.unstable_UserBlockingPriority,ts=t.unstable_NormalPriority,Am=t.unstable_LowPriority,Ic=t.unstable_IdlePriority,ns=null,Ft=null;function Om(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ns,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Fm,Mm=Math.log,Lm=Math.LN2;function Fm(e){return e>>>=0,e===0?32:31-(Mm(e)/Lm|0)|0}var rs=64,is=4194304;function br(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ss(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,a=e.suspendedLanes,d=e.pingedLanes,h=s&268435455;if(h!==0){var g=h&~a;g!==0?l=br(g):(d&=h,d!==0&&(l=br(d)))}else h=s&~a,h!==0?l=br(h):d!==0&&(l=br(d));if(l===0)return 0;if(n!==0&&n!==l&&!(n&a)&&(a=l&-l,d=n&-n,a>=d||a===16&&(d&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-kt(n),a=1<<s,l|=e[s],n&=~a;return l}function zm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Um(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-kt(d),g=1<<h,y=a[h];y===-1?(!(g&s)||g&l)&&(a[h]=zm(g,n)):y<=n&&(e.expiredLanes|=g),d&=~g}}function Zo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tc(){var e=rs;return rs<<=1,!(rs&4194240)&&(rs=64),e}function el(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Qr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-kt(n),e[n]=s}function Bm(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-kt(s),d=1<<a;n[a]=0,l[a]=-1,e[a]=-1,s&=~d}}function tl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-kt(s),a=1<<l;a&n|e[l]&n&&(e[l]|=n),s&=~a}}var le=0;function Nc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rc,nl,xc,Pc,Dc,rl=!1,os=[],sn=null,on=null,ln=null,Gr=new Map,Kr=new Map,un=[],Wm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ac(e,n){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":Gr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(n.pointerId)}}function Yr(e,n,s,l,a,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[a]},n!==null&&(n=ai(n),n!==null&&nl(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,a!==null&&n.indexOf(a)===-1&&n.push(a),e)}function jm(e,n,s,l,a){switch(n){case"focusin":return sn=Yr(sn,e,n,s,l,a),!0;case"dragenter":return on=Yr(on,e,n,s,l,a),!0;case"mouseover":return ln=Yr(ln,e,n,s,l,a),!0;case"pointerover":var d=a.pointerId;return Gr.set(d,Yr(Gr.get(d)||null,e,n,s,l,a)),!0;case"gotpointercapture":return d=a.pointerId,Kr.set(d,Yr(Kr.get(d)||null,e,n,s,l,a)),!0}return!1}function Oc(e){var n=An(e.target);if(n!==null){var s=Dn(n);if(s!==null){if(n=s.tag,n===13){if(n=yc(s),n!==null){e.blockedOn=n,Dc(e.priority,function(){xc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ls(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=sl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Qo=l,s.target.dispatchEvent(l),Qo=null}else return n=ai(s),n!==null&&nl(n),e.blockedOn=s,!1;n.shift()}return!0}function Mc(e,n,s){ls(e)&&s.delete(n)}function Vm(){rl=!1,sn!==null&&ls(sn)&&(sn=null),on!==null&&ls(on)&&(on=null),ln!==null&&ls(ln)&&(ln=null),Gr.forEach(Mc),Kr.forEach(Mc)}function qr(e,n){e.blockedOn===n&&(e.blockedOn=null,rl||(rl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Vm)))}function Xr(e){function n(a){return qr(a,e)}if(0<os.length){qr(os[0],e);for(var s=1;s<os.length;s++){var l=os[s];l.blockedOn===e&&(l.blockedOn=null)}}for(sn!==null&&qr(sn,e),on!==null&&qr(on,e),ln!==null&&qr(ln,e),Gr.forEach(n),Kr.forEach(n),s=0;s<un.length;s++)l=un[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<un.length&&(s=un[0],s.blockedOn===null);)Oc(s),s.blockedOn===null&&un.shift()}var rr=xe.ReactCurrentBatchConfig,us=!0;function Hm(e,n,s,l){var a=le,d=rr.transition;rr.transition=null;try{le=1,il(e,n,s,l)}finally{le=a,rr.transition=d}}function $m(e,n,s,l){var a=le,d=rr.transition;rr.transition=null;try{le=4,il(e,n,s,l)}finally{le=a,rr.transition=d}}function il(e,n,s,l){if(us){var a=sl(e,n,s,l);if(a===null)Cl(e,n,l,as,s),Ac(e,l);else if(jm(a,e,n,s,l))l.stopPropagation();else if(Ac(e,l),n&4&&-1<Wm.indexOf(e)){for(;a!==null;){var d=ai(a);if(d!==null&&Rc(d),d=sl(e,n,s,l),d===null&&Cl(e,n,l,as,s),d===a)break;a=d}a!==null&&l.stopPropagation()}else Cl(e,n,l,null,s)}}var as=null;function sl(e,n,s,l){if(as=null,e=Go(l),e=An(e),e!==null)if(n=Dn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=yc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return as=e,null}function Lc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dm()){case Jo:return 1;case kc:return 4;case ts:case Am:return 16;case Ic:return 536870912;default:return 16}default:return 16}}var an=null,ol=null,cs=null;function Fc(){if(cs)return cs;var e,n=ol,s=n.length,l,a="value"in an?an.value:an.textContent,d=a.length;for(e=0;e<s&&n[e]===a[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===a[d-l];l++);return cs=a.slice(e,1<l?1-l:void 0)}function ds(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function fs(){return!0}function zc(){return!1}function ct(e){function n(s,l,a,d,h){this._reactName=s,this._targetInst=a,this.type=l,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(s=e[g],this[g]=s?s(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?fs:zc,this.isPropagationStopped=zc,this}return z(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),n}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=ct(ir),Jr=z({},ir,{view:0,detail:0}),bm=ct(Jr),ul,al,Zr,hs=z({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zr&&(Zr&&e.type==="mousemove"?(ul=e.screenX-Zr.screenX,al=e.screenY-Zr.screenY):al=ul=0,Zr=e),ul)},movementY:function(e){return"movementY"in e?e.movementY:al}}),Uc=ct(hs),Qm=z({},hs,{dataTransfer:0}),Gm=ct(Qm),Km=z({},Jr,{relatedTarget:0}),cl=ct(Km),Ym=z({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),qm=ct(Ym),Xm=z({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jm=ct(Xm),Zm=z({},ir,{data:0}),Bc=ct(Zm),eg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ng[e])?!!n[e]:!1}function dl(){return rg}var ig=z({},Jr,{key:function(e){if(e.key){var n=eg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dl,charCode:function(e){return e.type==="keypress"?ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sg=ct(ig),og=z({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wc=ct(og),lg=z({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dl}),ug=ct(lg),ag=z({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),cg=ct(ag),dg=z({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fg=ct(dg),hg=[9,13,27,32],fl=p&&"CompositionEvent"in window,ei=null;p&&"documentMode"in document&&(ei=document.documentMode);var pg=p&&"TextEvent"in window&&!ei,jc=p&&(!fl||ei&&8<ei&&11>=ei),Vc=" ",Hc=!1;function $c(e,n){switch(e){case"keyup":return hg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function mg(e,n){switch(e){case"compositionend":return bc(n);case"keypress":return n.which!==32?null:(Hc=!0,Vc);case"textInput":return e=n.data,e===Vc&&Hc?null:e;default:return null}}function gg(e,n){if(sr)return e==="compositionend"||!fl&&$c(e,n)?(e=Fc(),cs=ol=an=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return jc&&n.locale!=="ko"?null:n.data;default:return null}}var _g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!_g[e.type]:n==="textarea"}function Gc(e,n,s,l){hc(l),n=ys(n,"onChange"),0<n.length&&(s=new ll("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ti=null,ni=null;function yg(e){dd(e,0)}function ps(e){var n=cr(e);if(tc(n))return e}function vg(e,n){if(e==="change")return n}var Kc=!1;if(p){var hl;if(p){var pl="oninput"in document;if(!pl){var Yc=document.createElement("div");Yc.setAttribute("oninput","return;"),pl=typeof Yc.oninput=="function"}hl=pl}else hl=!1;Kc=hl&&(!document.documentMode||9<document.documentMode)}function qc(){ti&&(ti.detachEvent("onpropertychange",Xc),ni=ti=null)}function Xc(e){if(e.propertyName==="value"&&ps(ni)){var n=[];Gc(n,ni,e,Go(e)),_c(yg,n)}}function wg(e,n,s){e==="focusin"?(qc(),ti=n,ni=s,ti.attachEvent("onpropertychange",Xc)):e==="focusout"&&qc()}function Eg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ps(ni)}function Cg(e,n){if(e==="click")return ps(n)}function Sg(e,n){if(e==="input"||e==="change")return ps(n)}function kg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var It=typeof Object.is=="function"?Object.is:kg;function ri(e,n){if(It(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var a=s[l];if(!m.call(n,a)||!It(e[a],n[a]))return!1}return!0}function Jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zc(e,n){var s=Jc(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Jc(s)}}function ed(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ed(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function td(){for(var e=window,n=Xi();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Xi(e.document)}return n}function ml(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Ig(e){var n=td(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&ed(s.ownerDocument.documentElement,s)){if(l!==null&&ml(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,d=Math.min(l.start,a);l=l.end===void 0?d:Math.min(l.end,a),!e.extend&&d>l&&(a=l,l=d,d=a),a=Zc(s,d);var h=Zc(s,l);a&&h&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(a.node,a.offset),e.removeAllRanges(),d>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tg=p&&"documentMode"in document&&11>=document.documentMode,or=null,gl=null,ii=null,_l=!1;function nd(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;_l||or==null||or!==Xi(l)||(l=or,"selectionStart"in l&&ml(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ii&&ri(ii,l)||(ii=l,l=ys(gl,"onSelect"),0<l.length&&(n=new ll("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=or)))}function ms(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var lr={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionend:ms("Transition","TransitionEnd")},yl={},rd={};p&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function gs(e){if(yl[e])return yl[e];if(!lr[e])return e;var n=lr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in rd)return yl[e]=n[s];return e}var id=gs("animationend"),sd=gs("animationiteration"),od=gs("animationstart"),ld=gs("transitionend"),ud=new Map,ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,n){ud.set(e,n),c(n,[e])}for(var vl=0;vl<ad.length;vl++){var wl=ad[vl],Ng=wl.toLowerCase(),Rg=wl[0].toUpperCase()+wl.slice(1);cn(Ng,"on"+Rg)}cn(id,"onAnimationEnd"),cn(sd,"onAnimationIteration"),cn(od,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(ld,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xg=new Set("cancel close invalid load scroll toggle".split(" ").concat(si));function cd(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,Nm(l,n,void 0,e),e.currentTarget=null}function dd(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],a=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var h=l.length-1;0<=h;h--){var g=l[h],y=g.instance,I=g.currentTarget;if(g=g.listener,y!==d&&a.isPropagationStopped())break e;cd(a,g,I),d=y}else for(h=0;h<l.length;h++){if(g=l[h],y=g.instance,I=g.currentTarget,g=g.listener,y!==d&&a.isPropagationStopped())break e;cd(a,g,I),d=y}}}if(es)throw e=Xo,es=!1,Xo=null,e}function pe(e,n){var s=n[Rl];s===void 0&&(s=n[Rl]=new Set);var l=e+"__bubble";s.has(l)||(fd(n,e,2,!1),s.add(l))}function El(e,n,s){var l=0;n&&(l|=4),fd(s,e,l,n)}var _s="_reactListening"+Math.random().toString(36).slice(2);function oi(e){if(!e[_s]){e[_s]=!0,o.forEach(function(s){s!=="selectionchange"&&(xg.has(s)||El(s,!1,e),El(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[_s]||(n[_s]=!0,El("selectionchange",!1,n))}}function fd(e,n,s,l){switch(Lc(n)){case 1:var a=Hm;break;case 4:a=$m;break;default:a=il}s=a.bind(null,n,s,e),a=void 0,!qo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(n,s,{capture:!0,passive:a}):e.addEventListener(n,s,!0):a!==void 0?e.addEventListener(n,s,{passive:a}):e.addEventListener(n,s,!1)}function Cl(e,n,s,l,a){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var g=l.stateNode.containerInfo;if(g===a||g.nodeType===8&&g.parentNode===a)break;if(h===4)for(h=l.return;h!==null;){var y=h.tag;if((y===3||y===4)&&(y=h.stateNode.containerInfo,y===a||y.nodeType===8&&y.parentNode===a))return;h=h.return}for(;g!==null;){if(h=An(g),h===null)return;if(y=h.tag,y===5||y===6){l=d=h;continue e}g=g.parentNode}}l=l.return}_c(function(){var I=d,x=Go(s),P=[];e:{var N=ud.get(e);if(N!==void 0){var L=ll,U=e;switch(e){case"keypress":if(ds(s)===0)break e;case"keydown":case"keyup":L=sg;break;case"focusin":U="focus",L=cl;break;case"focusout":U="blur",L=cl;break;case"beforeblur":case"afterblur":L=cl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Gm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=ug;break;case id:case sd:case od:L=qm;break;case ld:L=cg;break;case"scroll":L=bm;break;case"wheel":L=fg;break;case"copy":case"cut":case"paste":L=Jm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Wc}var B=(n&4)!==0,Ie=!B&&e==="scroll",C=B?N!==null?N+"Capture":null:N;B=[];for(var v=I,S;v!==null;){S=v;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,C!==null&&(D=Vr(v,C),D!=null&&B.push(li(v,D,S)))),Ie)break;v=v.return}0<B.length&&(N=new L(N,U,null,s,x),P.push({event:N,listeners:B}))}}if(!(n&7)){e:{if(N=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",N&&s!==Qo&&(U=s.relatedTarget||s.fromElement)&&(An(U)||U[$t]))break e;if((L||N)&&(N=x.window===x?x:(N=x.ownerDocument)?N.defaultView||N.parentWindow:window,L?(U=s.relatedTarget||s.toElement,L=I,U=U?An(U):null,U!==null&&(Ie=Dn(U),U!==Ie||U.tag!==5&&U.tag!==6)&&(U=null)):(L=null,U=I),L!==U)){if(B=Uc,D="onMouseLeave",C="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(B=Wc,D="onPointerLeave",C="onPointerEnter",v="pointer"),Ie=L==null?N:cr(L),S=U==null?N:cr(U),N=new B(D,v+"leave",L,s,x),N.target=Ie,N.relatedTarget=S,D=null,An(x)===I&&(B=new B(C,v+"enter",U,s,x),B.target=S,B.relatedTarget=Ie,D=B),Ie=D,L&&U)t:{for(B=L,C=U,v=0,S=B;S;S=ur(S))v++;for(S=0,D=C;D;D=ur(D))S++;for(;0<v-S;)B=ur(B),v--;for(;0<S-v;)C=ur(C),S--;for(;v--;){if(B===C||C!==null&&B===C.alternate)break t;B=ur(B),C=ur(C)}B=null}else B=null;L!==null&&hd(P,N,L,B,!1),U!==null&&Ie!==null&&hd(P,Ie,U,B,!0)}}e:{if(N=I?cr(I):window,L=N.nodeName&&N.nodeName.toLowerCase(),L==="select"||L==="input"&&N.type==="file")var j=vg;else if(Qc(N))if(Kc)j=Sg;else{j=Eg;var V=wg}else(L=N.nodeName)&&L.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(j=Cg);if(j&&(j=j(e,I))){Gc(P,j,s,x);break e}V&&V(e,N,I),e==="focusout"&&(V=N._wrapperState)&&V.controlled&&N.type==="number"&&jo(N,"number",N.value)}switch(V=I?cr(I):window,e){case"focusin":(Qc(V)||V.contentEditable==="true")&&(or=V,gl=I,ii=null);break;case"focusout":ii=gl=or=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,nd(P,s,x);break;case"selectionchange":if(Tg)break;case"keydown":case"keyup":nd(P,s,x)}var H;if(fl)e:{switch(e){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else sr?$c(e,s)&&(G="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(G="onCompositionStart");G&&(jc&&s.locale!=="ko"&&(sr||G!=="onCompositionStart"?G==="onCompositionEnd"&&sr&&(H=Fc()):(an=x,ol="value"in an?an.value:an.textContent,sr=!0)),V=ys(I,G),0<V.length&&(G=new Bc(G,e,null,s,x),P.push({event:G,listeners:V}),H?G.data=H:(H=bc(s),H!==null&&(G.data=H)))),(H=pg?mg(e,s):gg(e,s))&&(I=ys(I,"onBeforeInput"),0<I.length&&(x=new Bc("onBeforeInput","beforeinput",null,s,x),P.push({event:x,listeners:I}),x.data=H))}dd(P,n)})}function li(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ys(e,n){for(var s=n+"Capture",l=[];e!==null;){var a=e,d=a.stateNode;a.tag===5&&d!==null&&(a=d,d=Vr(e,s),d!=null&&l.unshift(li(e,d,a)),d=Vr(e,n),d!=null&&l.push(li(e,d,a))),e=e.return}return l}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hd(e,n,s,l,a){for(var d=n._reactName,h=[];s!==null&&s!==l;){var g=s,y=g.alternate,I=g.stateNode;if(y!==null&&y===l)break;g.tag===5&&I!==null&&(g=I,a?(y=Vr(s,d),y!=null&&h.unshift(li(s,y,g))):a||(y=Vr(s,d),y!=null&&h.push(li(s,y,g)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var Pg=/\r\n?/g,Dg=/\u0000|\uFFFD/g;function pd(e){return(typeof e=="string"?e:""+e).replace(Pg,`
`).replace(Dg,"")}function vs(e,n,s){if(n=pd(n),pd(e)!==n&&s)throw Error(r(425))}function ws(){}var Sl=null,kl=null;function Il(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tl=typeof setTimeout=="function"?setTimeout:void 0,Ag=typeof clearTimeout=="function"?clearTimeout:void 0,md=typeof Promise=="function"?Promise:void 0,Og=typeof queueMicrotask=="function"?queueMicrotask:typeof md<"u"?function(e){return md.resolve(null).then(e).catch(Mg)}:Tl;function Mg(e){setTimeout(function(){throw e})}function Nl(e,n){var s=n,l=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(l===0){e.removeChild(a),Xr(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=a}while(s);Xr(n)}function dn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function gd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var ar=Math.random().toString(36).slice(2),zt="__reactFiber$"+ar,ui="__reactProps$"+ar,$t="__reactContainer$"+ar,Rl="__reactEvents$"+ar,Lg="__reactListeners$"+ar,Fg="__reactHandles$"+ar;function An(e){var n=e[zt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[$t]||s[zt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=gd(e);e!==null;){if(s=e[zt])return s;e=gd(e)}return n}e=s,s=e.parentNode}return null}function ai(e){return e=e[zt]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Es(e){return e[ui]||null}var xl=[],dr=-1;function fn(e){return{current:e}}function me(e){0>dr||(e.current=xl[dr],xl[dr]=null,dr--)}function ce(e,n){dr++,xl[dr]=e.current,e.current=n}var hn={},Ve=fn(hn),Ze=fn(!1),On=hn;function fr(e,n){var s=e.type.contextTypes;if(!s)return hn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var a={},d;for(d in s)a[d]=n[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function et(e){return e=e.childContextTypes,e!=null}function Cs(){me(Ze),me(Ve)}function _d(e,n,s){if(Ve.current!==hn)throw Error(r(168));ce(Ve,n),ce(Ze,s)}function yd(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var a in l)if(!(a in n))throw Error(r(108,ae(e)||"Unknown",a));return z({},s,l)}function Ss(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,On=Ve.current,ce(Ve,e),ce(Ze,Ze.current),!0}function vd(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=yd(e,n,On),l.__reactInternalMemoizedMergedChildContext=e,me(Ze),me(Ve),ce(Ve,e)):me(Ze),ce(Ze,s)}var bt=null,ks=!1,Pl=!1;function wd(e){bt===null?bt=[e]:bt.push(e)}function zg(e){ks=!0,wd(e)}function pn(){if(!Pl&&bt!==null){Pl=!0;var e=0,n=le;try{var s=bt;for(le=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}bt=null,ks=!1}catch(a){throw bt!==null&&(bt=bt.slice(e+1)),Cc(Jo,pn),a}finally{le=n,Pl=!1}}return null}var hr=[],pr=0,Is=null,Ts=0,mt=[],gt=0,Mn=null,Qt=1,Gt="";function Ln(e,n){hr[pr++]=Ts,hr[pr++]=Is,Is=e,Ts=n}function Ed(e,n,s){mt[gt++]=Qt,mt[gt++]=Gt,mt[gt++]=Mn,Mn=e;var l=Qt;e=Gt;var a=32-kt(l)-1;l&=~(1<<a),s+=1;var d=32-kt(n)+a;if(30<d){var h=a-a%5;d=(l&(1<<h)-1).toString(32),l>>=h,a-=h,Qt=1<<32-kt(n)+a|s<<a|l,Gt=d+e}else Qt=1<<d|s<<a|l,Gt=e}function Dl(e){e.return!==null&&(Ln(e,1),Ed(e,1,0))}function Al(e){for(;e===Is;)Is=hr[--pr],hr[pr]=null,Ts=hr[--pr],hr[pr]=null;for(;e===Mn;)Mn=mt[--gt],mt[gt]=null,Gt=mt[--gt],mt[gt]=null,Qt=mt[--gt],mt[gt]=null}var dt=null,ft=null,_e=!1,Tt=null;function Cd(e,n){var s=wt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Sd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,dt=e,ft=dn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,dt=e,ft=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Mn!==null?{id:Qt,overflow:Gt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=wt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,dt=e,ft=null,!0):!1;default:return!1}}function Ol(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ml(e){if(_e){var n=ft;if(n){var s=n;if(!Sd(e,n)){if(Ol(e))throw Error(r(418));n=dn(s.nextSibling);var l=dt;n&&Sd(e,n)?Cd(l,s):(e.flags=e.flags&-4097|2,_e=!1,dt=e)}}else{if(Ol(e))throw Error(r(418));e.flags=e.flags&-4097|2,_e=!1,dt=e}}}function kd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function Ns(e){if(e!==dt)return!1;if(!_e)return kd(e),_e=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Il(e.type,e.memoizedProps)),n&&(n=ft)){if(Ol(e))throw Id(),Error(r(418));for(;n;)Cd(e,n),n=dn(n.nextSibling)}if(kd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){ft=dn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}ft=null}}else ft=dt?dn(e.stateNode.nextSibling):null;return!0}function Id(){for(var e=ft;e;)e=dn(e.nextSibling)}function mr(){ft=dt=null,_e=!1}function Ll(e){Tt===null?Tt=[e]:Tt.push(e)}var Ug=xe.ReactCurrentBatchConfig;function ci(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var a=l,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var g=a.refs;h===null?delete g[d]:g[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Rs(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Td(e){var n=e._init;return n(e._payload)}function Nd(e){function n(C,v){if(e){var S=C.deletions;S===null?(C.deletions=[v],C.flags|=16):S.push(v)}}function s(C,v){if(!e)return null;for(;v!==null;)n(C,v),v=v.sibling;return null}function l(C,v){for(C=new Map;v!==null;)v.key!==null?C.set(v.key,v):C.set(v.index,v),v=v.sibling;return C}function a(C,v){return C=Cn(C,v),C.index=0,C.sibling=null,C}function d(C,v,S){return C.index=S,e?(S=C.alternate,S!==null?(S=S.index,S<v?(C.flags|=2,v):S):(C.flags|=2,v)):(C.flags|=1048576,v)}function h(C){return e&&C.alternate===null&&(C.flags|=2),C}function g(C,v,S,D){return v===null||v.tag!==6?(v=Tu(S,C.mode,D),v.return=C,v):(v=a(v,S),v.return=C,v)}function y(C,v,S,D){var j=S.type;return j===Xe?x(C,v,S.props.children,D,S.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Je&&Td(j)===v.type)?(D=a(v,S.props),D.ref=ci(C,v,S),D.return=C,D):(D=Js(S.type,S.key,S.props,null,C.mode,D),D.ref=ci(C,v,S),D.return=C,D)}function I(C,v,S,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Nu(S,C.mode,D),v.return=C,v):(v=a(v,S.children||[]),v.return=C,v)}function x(C,v,S,D,j){return v===null||v.tag!==7?(v=Hn(S,C.mode,D,j),v.return=C,v):(v=a(v,S),v.return=C,v)}function P(C,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Tu(""+v,C.mode,S),v.return=C,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ct:return S=Js(v.type,v.key,v.props,null,C.mode,S),S.ref=ci(C,null,v),S.return=C,S;case Ke:return v=Nu(v,C.mode,S),v.return=C,v;case Je:var D=v._init;return P(C,D(v._payload),S)}if(Br(v)||b(v))return v=Hn(v,C.mode,S,null),v.return=C,v;Rs(C,v)}return null}function N(C,v,S,D){var j=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return j!==null?null:g(C,v,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ct:return S.key===j?y(C,v,S,D):null;case Ke:return S.key===j?I(C,v,S,D):null;case Je:return j=S._init,N(C,v,j(S._payload),D)}if(Br(S)||b(S))return j!==null?null:x(C,v,S,D,null);Rs(C,S)}return null}function L(C,v,S,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return C=C.get(S)||null,g(v,C,""+D,j);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ct:return C=C.get(D.key===null?S:D.key)||null,y(v,C,D,j);case Ke:return C=C.get(D.key===null?S:D.key)||null,I(v,C,D,j);case Je:var V=D._init;return L(C,v,S,V(D._payload),j)}if(Br(D)||b(D))return C=C.get(S)||null,x(v,C,D,j,null);Rs(v,D)}return null}function U(C,v,S,D){for(var j=null,V=null,H=v,G=v=0,Ae=null;H!==null&&G<S.length;G++){H.index>G?(Ae=H,H=null):Ae=H.sibling;var ie=N(C,H,S[G],D);if(ie===null){H===null&&(H=Ae);break}e&&H&&ie.alternate===null&&n(C,H),v=d(ie,v,G),V===null?j=ie:V.sibling=ie,V=ie,H=Ae}if(G===S.length)return s(C,H),_e&&Ln(C,G),j;if(H===null){for(;G<S.length;G++)H=P(C,S[G],D),H!==null&&(v=d(H,v,G),V===null?j=H:V.sibling=H,V=H);return _e&&Ln(C,G),j}for(H=l(C,H);G<S.length;G++)Ae=L(H,C,G,S[G],D),Ae!==null&&(e&&Ae.alternate!==null&&H.delete(Ae.key===null?G:Ae.key),v=d(Ae,v,G),V===null?j=Ae:V.sibling=Ae,V=Ae);return e&&H.forEach(function(Sn){return n(C,Sn)}),_e&&Ln(C,G),j}function B(C,v,S,D){var j=b(S);if(typeof j!="function")throw Error(r(150));if(S=j.call(S),S==null)throw Error(r(151));for(var V=j=null,H=v,G=v=0,Ae=null,ie=S.next();H!==null&&!ie.done;G++,ie=S.next()){H.index>G?(Ae=H,H=null):Ae=H.sibling;var Sn=N(C,H,ie.value,D);if(Sn===null){H===null&&(H=Ae);break}e&&H&&Sn.alternate===null&&n(C,H),v=d(Sn,v,G),V===null?j=Sn:V.sibling=Sn,V=Sn,H=Ae}if(ie.done)return s(C,H),_e&&Ln(C,G),j;if(H===null){for(;!ie.done;G++,ie=S.next())ie=P(C,ie.value,D),ie!==null&&(v=d(ie,v,G),V===null?j=ie:V.sibling=ie,V=ie);return _e&&Ln(C,G),j}for(H=l(C,H);!ie.done;G++,ie=S.next())ie=L(H,C,G,ie.value,D),ie!==null&&(e&&ie.alternate!==null&&H.delete(ie.key===null?G:ie.key),v=d(ie,v,G),V===null?j=ie:V.sibling=ie,V=ie);return e&&H.forEach(function(g_){return n(C,g_)}),_e&&Ln(C,G),j}function Ie(C,v,S,D){if(typeof S=="object"&&S!==null&&S.type===Xe&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ct:e:{for(var j=S.key,V=v;V!==null;){if(V.key===j){if(j=S.type,j===Xe){if(V.tag===7){s(C,V.sibling),v=a(V,S.props.children),v.return=C,C=v;break e}}else if(V.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Je&&Td(j)===V.type){s(C,V.sibling),v=a(V,S.props),v.ref=ci(C,V,S),v.return=C,C=v;break e}s(C,V);break}else n(C,V);V=V.sibling}S.type===Xe?(v=Hn(S.props.children,C.mode,D,S.key),v.return=C,C=v):(D=Js(S.type,S.key,S.props,null,C.mode,D),D.ref=ci(C,v,S),D.return=C,C=D)}return h(C);case Ke:e:{for(V=S.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){s(C,v.sibling),v=a(v,S.children||[]),v.return=C,C=v;break e}else{s(C,v);break}else n(C,v);v=v.sibling}v=Nu(S,C.mode,D),v.return=C,C=v}return h(C);case Je:return V=S._init,Ie(C,v,V(S._payload),D)}if(Br(S))return U(C,v,S,D);if(b(S))return B(C,v,S,D);Rs(C,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(s(C,v.sibling),v=a(v,S),v.return=C,C=v):(s(C,v),v=Tu(S,C.mode,D),v.return=C,C=v),h(C)):s(C,v)}return Ie}var gr=Nd(!0),Rd=Nd(!1),xs=fn(null),Ps=null,_r=null,Fl=null;function zl(){Fl=_r=Ps=null}function Ul(e){var n=xs.current;me(xs),e._currentValue=n}function Bl(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function yr(e,n){Ps=e,Fl=_r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(tt=!0),e.firstContext=null)}function _t(e){var n=e._currentValue;if(Fl!==e)if(e={context:e,memoizedValue:n,next:null},_r===null){if(Ps===null)throw Error(r(308));_r=e,Ps.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return n}var Fn=null;function Wl(e){Fn===null?Fn=[e]:Fn.push(e)}function xd(e,n,s,l){var a=n.interleaved;return a===null?(s.next=s,Wl(n)):(s.next=a.next,a.next=s),n.interleaved=s,Kt(e,l)}function Kt(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var mn=!1;function jl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function gn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,te&2){var a=l.pending;return a===null?n.next=n:(n.next=a.next,a.next=n),l.pending=n,Kt(e,s)}return a=l.interleaved,a===null?(n.next=n,Wl(l)):(n.next=a.next,a.next=n),l.interleaved=n,Kt(e,s)}function Ds(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,tl(e,s)}}function Dd(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var a=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?a=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?a=d=n:d=d.next=n}else a=d=n;s={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function As(e,n,s,l){var a=e.updateQueue;mn=!1;var d=a.firstBaseUpdate,h=a.lastBaseUpdate,g=a.shared.pending;if(g!==null){a.shared.pending=null;var y=g,I=y.next;y.next=null,h===null?d=I:h.next=I,h=y;var x=e.alternate;x!==null&&(x=x.updateQueue,g=x.lastBaseUpdate,g!==h&&(g===null?x.firstBaseUpdate=I:g.next=I,x.lastBaseUpdate=y))}if(d!==null){var P=a.baseState;h=0,x=I=y=null,g=d;do{var N=g.lane,L=g.eventTime;if((l&N)===N){x!==null&&(x=x.next={eventTime:L,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var U=e,B=g;switch(N=n,L=s,B.tag){case 1:if(U=B.payload,typeof U=="function"){P=U.call(L,P,N);break e}P=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=B.payload,N=typeof U=="function"?U.call(L,P,N):U,N==null)break e;P=z({},P,N);break e;case 2:mn=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,N=a.effects,N===null?a.effects=[g]:N.push(g))}else L={eventTime:L,lane:N,tag:g.tag,payload:g.payload,callback:g.callback,next:null},x===null?(I=x=L,y=P):x=x.next=L,h|=N;if(g=g.next,g===null){if(g=a.shared.pending,g===null)break;N=g,g=N.next,N.next=null,a.lastBaseUpdate=N,a.shared.pending=null}}while(!0);if(x===null&&(y=P),a.baseState=y,a.firstBaseUpdate=I,a.lastBaseUpdate=x,n=a.shared.interleaved,n!==null){a=n;do h|=a.lane,a=a.next;while(a!==n)}else d===null&&(a.shared.lanes=0);Bn|=h,e.lanes=h,e.memoizedState=P}}function Ad(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],a=l.callback;if(a!==null){if(l.callback=null,l=s,typeof a!="function")throw Error(r(191,a));a.call(l)}}}var di={},Ut=fn(di),fi=fn(di),hi=fn(di);function zn(e){if(e===di)throw Error(r(174));return e}function Vl(e,n){switch(ce(hi,n),ce(fi,e),ce(Ut,di),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ho(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ho(n,e)}me(Ut),ce(Ut,n)}function vr(){me(Ut),me(fi),me(hi)}function Od(e){zn(hi.current);var n=zn(Ut.current),s=Ho(n,e.type);n!==s&&(ce(fi,e),ce(Ut,s))}function Hl(e){fi.current===e&&(me(Ut),me(fi))}var ye=fn(0);function Os(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $l=[];function bl(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var Ms=xe.ReactCurrentDispatcher,Ql=xe.ReactCurrentBatchConfig,Un=0,ve=null,Ne=null,Pe=null,Ls=!1,pi=!1,mi=0,Bg=0;function He(){throw Error(r(321))}function Gl(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!It(e[s],n[s]))return!1;return!0}function Kl(e,n,s,l,a,d){if(Un=d,ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ms.current=e===null||e.memoizedState===null?Hg:$g,e=s(l,a),pi){d=0;do{if(pi=!1,mi=0,25<=d)throw Error(r(301));d+=1,Pe=Ne=null,n.updateQueue=null,Ms.current=bg,e=s(l,a)}while(pi)}if(Ms.current=Us,n=Ne!==null&&Ne.next!==null,Un=0,Pe=Ne=ve=null,Ls=!1,n)throw Error(r(300));return e}function Yl(){var e=mi!==0;return mi=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ve.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function yt(){if(Ne===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var n=Pe===null?ve.memoizedState:Pe.next;if(n!==null)Pe=n,Ne=e;else{if(e===null)throw Error(r(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Pe===null?ve.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function gi(e,n){return typeof n=="function"?n(e):n}function ql(e){var n=yt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Ne,a=l.baseQueue,d=s.pending;if(d!==null){if(a!==null){var h=a.next;a.next=d.next,d.next=h}l.baseQueue=a=d,s.pending=null}if(a!==null){d=a.next,l=l.baseState;var g=h=null,y=null,I=d;do{var x=I.lane;if((Un&x)===x)y!==null&&(y=y.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),l=I.hasEagerState?I.eagerState:e(l,I.action);else{var P={lane:x,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};y===null?(g=y=P,h=l):y=y.next=P,ve.lanes|=x,Bn|=x}I=I.next}while(I!==null&&I!==d);y===null?h=l:y.next=g,It(l,n.memoizedState)||(tt=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=y,s.lastRenderedState=l}if(e=s.interleaved,e!==null){a=e;do d=a.lane,ve.lanes|=d,Bn|=d,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Xl(e){var n=yt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,a=s.pending,d=n.memoizedState;if(a!==null){s.pending=null;var h=a=a.next;do d=e(d,h.action),h=h.next;while(h!==a);It(d,n.memoizedState)||(tt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Md(){}function Ld(e,n){var s=ve,l=yt(),a=n(),d=!It(l.memoizedState,a);if(d&&(l.memoizedState=a,tt=!0),l=l.queue,Jl(Ud.bind(null,s,l,e),[e]),l.getSnapshot!==n||d||Pe!==null&&Pe.memoizedState.tag&1){if(s.flags|=2048,_i(9,zd.bind(null,s,l,a,n),void 0,null),De===null)throw Error(r(349));Un&30||Fd(s,n,a)}return a}function Fd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=ve.updateQueue,n===null?(n={lastEffect:null,stores:null},ve.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function zd(e,n,s,l){n.value=s,n.getSnapshot=l,Bd(n)&&Wd(e)}function Ud(e,n,s){return s(function(){Bd(n)&&Wd(e)})}function Bd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!It(e,s)}catch{return!0}}function Wd(e){var n=Kt(e,1);n!==null&&Pt(n,e,1,-1)}function jd(e){var n=Bt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},n.queue=e,e=e.dispatch=Vg.bind(null,ve,e),[n.memoizedState,e]}function _i(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=ve.updateQueue,n===null?(n={lastEffect:null,stores:null},ve.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function Vd(){return yt().memoizedState}function Fs(e,n,s,l){var a=Bt();ve.flags|=e,a.memoizedState=_i(1|n,s,void 0,l===void 0?null:l)}function zs(e,n,s,l){var a=yt();l=l===void 0?null:l;var d=void 0;if(Ne!==null){var h=Ne.memoizedState;if(d=h.destroy,l!==null&&Gl(l,h.deps)){a.memoizedState=_i(n,s,d,l);return}}ve.flags|=e,a.memoizedState=_i(1|n,s,d,l)}function Hd(e,n){return Fs(8390656,8,e,n)}function Jl(e,n){return zs(2048,8,e,n)}function $d(e,n){return zs(4,2,e,n)}function bd(e,n){return zs(4,4,e,n)}function Qd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gd(e,n,s){return s=s!=null?s.concat([e]):null,zs(4,4,Qd.bind(null,n,e),s)}function Zl(){}function Kd(e,n){var s=yt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Gl(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Yd(e,n){var s=yt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Gl(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function qd(e,n,s){return Un&21?(It(s,n)||(s=Tc(),ve.lanes|=s,Bn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=s)}function Wg(e,n){var s=le;le=s!==0&&4>s?s:4,e(!0);var l=Ql.transition;Ql.transition={};try{e(!1),n()}finally{le=s,Ql.transition=l}}function Xd(){return yt().memoizedState}function jg(e,n,s){var l=wn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},Jd(e))Zd(n,s);else if(s=xd(e,n,s,l),s!==null){var a=qe();Pt(s,e,l,a),ef(s,n,l)}}function Vg(e,n,s){var l=wn(e),a={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(Jd(e))Zd(n,a);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,g=d(h,s);if(a.hasEagerState=!0,a.eagerState=g,It(g,h)){var y=n.interleaved;y===null?(a.next=a,Wl(n)):(a.next=y.next,y.next=a),n.interleaved=a;return}}catch{}finally{}s=xd(e,n,a,l),s!==null&&(a=qe(),Pt(s,e,l,a),ef(s,n,l))}}function Jd(e){var n=e.alternate;return e===ve||n!==null&&n===ve}function Zd(e,n){pi=Ls=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function ef(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,tl(e,s)}}var Us={readContext:_t,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Hg={readContext:_t,useCallback:function(e,n){return Bt().memoizedState=[e,n===void 0?null:n],e},useContext:_t,useEffect:Hd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Fs(4194308,4,Qd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Fs(4194308,4,e,n)},useInsertionEffect:function(e,n){return Fs(4,2,e,n)},useMemo:function(e,n){var s=Bt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Bt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=jg.bind(null,ve,e),[l.memoizedState,e]},useRef:function(e){var n=Bt();return e={current:e},n.memoizedState=e},useState:jd,useDebugValue:Zl,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=jd(!1),n=e[0];return e=Wg.bind(null,e[1]),Bt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=ve,a=Bt();if(_e){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),De===null)throw Error(r(349));Un&30||Fd(l,n,s)}a.memoizedState=s;var d={value:s,getSnapshot:n};return a.queue=d,Hd(Ud.bind(null,l,d,e),[e]),l.flags|=2048,_i(9,zd.bind(null,l,d,s,n),void 0,null),s},useId:function(){var e=Bt(),n=De.identifierPrefix;if(_e){var s=Gt,l=Qt;s=(l&~(1<<32-kt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=mi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Bg++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},$g={readContext:_t,useCallback:Kd,useContext:_t,useEffect:Jl,useImperativeHandle:Gd,useInsertionEffect:$d,useLayoutEffect:bd,useMemo:Yd,useReducer:ql,useRef:Vd,useState:function(){return ql(gi)},useDebugValue:Zl,useDeferredValue:function(e){var n=yt();return qd(n,Ne.memoizedState,e)},useTransition:function(){var e=ql(gi)[0],n=yt().memoizedState;return[e,n]},useMutableSource:Md,useSyncExternalStore:Ld,useId:Xd,unstable_isNewReconciler:!1},bg={readContext:_t,useCallback:Kd,useContext:_t,useEffect:Jl,useImperativeHandle:Gd,useInsertionEffect:$d,useLayoutEffect:bd,useMemo:Yd,useReducer:Xl,useRef:Vd,useState:function(){return Xl(gi)},useDebugValue:Zl,useDeferredValue:function(e){var n=yt();return Ne===null?n.memoizedState=e:qd(n,Ne.memoizedState,e)},useTransition:function(){var e=Xl(gi)[0],n=yt().memoizedState;return[e,n]},useMutableSource:Md,useSyncExternalStore:Ld,useId:Xd,unstable_isNewReconciler:!1};function Nt(e,n){if(e&&e.defaultProps){n=z({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function eu(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:z({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Bs={isMounted:function(e){return(e=e._reactInternals)?Dn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=qe(),a=wn(e),d=Yt(l,a);d.payload=n,s!=null&&(d.callback=s),n=gn(e,d,a),n!==null&&(Pt(n,e,a,l),Ds(n,e,a))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=qe(),a=wn(e),d=Yt(l,a);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=gn(e,d,a),n!==null&&(Pt(n,e,a,l),Ds(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=qe(),l=wn(e),a=Yt(s,l);a.tag=2,n!=null&&(a.callback=n),n=gn(e,a,l),n!==null&&(Pt(n,e,l,s),Ds(n,e,l))}};function tf(e,n,s,l,a,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,h):n.prototype&&n.prototype.isPureReactComponent?!ri(s,l)||!ri(a,d):!0}function nf(e,n,s){var l=!1,a=hn,d=n.contextType;return typeof d=="object"&&d!==null?d=_t(d):(a=et(n)?On:Ve.current,l=n.contextTypes,d=(l=l!=null)?fr(e,a):hn),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Bs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=d),n}function rf(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Bs.enqueueReplaceState(n,n.state,null)}function tu(e,n,s,l){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},jl(e);var d=n.contextType;typeof d=="object"&&d!==null?a.context=_t(d):(d=et(n)?On:Ve.current,a.context=fr(e,d)),a.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(eu(e,n,d,s),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(n=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),n!==a.state&&Bs.enqueueReplaceState(a,a.state,null),As(e,s,a,l),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function wr(e,n){try{var s="",l=n;do s+=ne(l),l=l.return;while(l);var a=s}catch(d){a=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:a,digest:null}}function nu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function ru(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Qg=typeof WeakMap=="function"?WeakMap:Map;function sf(e,n,s){s=Yt(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){Qs||(Qs=!0,yu=l),ru(e,n)},s}function of(e,n,s){s=Yt(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var a=n.value;s.payload=function(){return l(a)},s.callback=function(){ru(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){ru(e,n),typeof l!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function lf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Qg;var a=new Set;l.set(n,a)}else a=l.get(n),a===void 0&&(a=new Set,l.set(n,a));a.has(s)||(a.add(s),e=o_.bind(null,e,n,s),n.then(e,e))}function uf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function af(e,n,s,l,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Yt(-1,1),n.tag=2,gn(s,n,1))),s.lanes|=1),e)}var Gg=xe.ReactCurrentOwner,tt=!1;function Ye(e,n,s,l){n.child=e===null?Rd(n,null,s,l):gr(n,e.child,s,l)}function cf(e,n,s,l,a){s=s.render;var d=n.ref;return yr(n,a),l=Kl(e,n,s,l,d,a),s=Yl(),e!==null&&!tt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,qt(e,n,a)):(_e&&s&&Dl(n),n.flags|=1,Ye(e,n,l,a),n.child)}function df(e,n,s,l,a){if(e===null){var d=s.type;return typeof d=="function"&&!Iu(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,ff(e,n,d,l,a)):(e=Js(s.type,null,l,n,n.mode,a),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&a)){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:ri,s(h,l)&&e.ref===n.ref)return qt(e,n,a)}return n.flags|=1,e=Cn(d,l),e.ref=n.ref,e.return=n,n.child=e}function ff(e,n,s,l,a){if(e!==null){var d=e.memoizedProps;if(ri(d,l)&&e.ref===n.ref)if(tt=!1,n.pendingProps=l=d,(e.lanes&a)!==0)e.flags&131072&&(tt=!0);else return n.lanes=e.lanes,qt(e,n,a)}return iu(e,n,s,l,a)}function hf(e,n,s){var l=n.pendingProps,a=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Cr,ht),ht|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ce(Cr,ht),ht|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,ce(Cr,ht),ht|=l}else d!==null?(l=d.baseLanes|s,n.memoizedState=null):l=s,ce(Cr,ht),ht|=l;return Ye(e,n,a,s),n.child}function pf(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function iu(e,n,s,l,a){var d=et(s)?On:Ve.current;return d=fr(n,d),yr(n,a),s=Kl(e,n,s,l,d,a),l=Yl(),e!==null&&!tt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,qt(e,n,a)):(_e&&l&&Dl(n),n.flags|=1,Ye(e,n,s,a),n.child)}function mf(e,n,s,l,a){if(et(s)){var d=!0;Ss(n)}else d=!1;if(yr(n,a),n.stateNode===null)js(e,n),nf(n,s,l),tu(n,s,l,a),l=!0;else if(e===null){var h=n.stateNode,g=n.memoizedProps;h.props=g;var y=h.context,I=s.contextType;typeof I=="object"&&I!==null?I=_t(I):(I=et(s)?On:Ve.current,I=fr(n,I));var x=s.getDerivedStateFromProps,P=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function";P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==l||y!==I)&&rf(n,h,l,I),mn=!1;var N=n.memoizedState;h.state=N,As(n,l,h,a),y=n.memoizedState,g!==l||N!==y||Ze.current||mn?(typeof x=="function"&&(eu(n,s,x,l),y=n.memoizedState),(g=mn||tf(n,s,g,l,N,y,I))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=y),h.props=l,h.state=y,h.context=I,l=g):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Pd(e,n),g=n.memoizedProps,I=n.type===n.elementType?g:Nt(n.type,g),h.props=I,P=n.pendingProps,N=h.context,y=s.contextType,typeof y=="object"&&y!==null?y=_t(y):(y=et(s)?On:Ve.current,y=fr(n,y));var L=s.getDerivedStateFromProps;(x=typeof L=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==P||N!==y)&&rf(n,h,l,y),mn=!1,N=n.memoizedState,h.state=N,As(n,l,h,a);var U=n.memoizedState;g!==P||N!==U||Ze.current||mn?(typeof L=="function"&&(eu(n,s,L,l),U=n.memoizedState),(I=mn||tf(n,s,I,l,N,U,y)||!1)?(x||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,U,y),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,U,y)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=U),h.props=l,h.state=U,h.context=y,l=I):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),l=!1)}return su(e,n,s,l,d,a)}function su(e,n,s,l,a,d){pf(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return a&&vd(n,s,!1),qt(e,n,d);l=n.stateNode,Gg.current=n;var g=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=gr(n,e.child,null,d),n.child=gr(n,null,g,d)):Ye(e,n,g,d),n.memoizedState=l.state,a&&vd(n,s,!0),n.child}function gf(e){var n=e.stateNode;n.pendingContext?_d(e,n.pendingContext,n.pendingContext!==n.context):n.context&&_d(e,n.context,!1),Vl(e,n.containerInfo)}function _f(e,n,s,l,a){return mr(),Ll(a),n.flags|=256,Ye(e,n,s,l),n.child}var ou={dehydrated:null,treeContext:null,retryLane:0};function lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function yf(e,n,s){var l=n.pendingProps,a=ye.current,d=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(a&2)!==0),g?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ce(ye,a&1),e===null)return Ml(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(h=l.children,e=l.fallback,d?(l=n.mode,d=n.child,h={mode:"hidden",children:h},!(l&1)&&d!==null?(d.childLanes=0,d.pendingProps=h):d=Zs(h,l,0,null),e=Hn(e,l,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=lu(s),n.memoizedState=ou,e):uu(n,h));if(a=e.memoizedState,a!==null&&(g=a.dehydrated,g!==null))return Kg(e,n,h,l,g,a,s);if(d){d=l.fallback,h=n.mode,a=e.child,g=a.sibling;var y={mode:"hidden",children:l.children};return!(h&1)&&n.child!==a?(l=n.child,l.childLanes=0,l.pendingProps=y,n.deletions=null):(l=Cn(a,y),l.subtreeFlags=a.subtreeFlags&14680064),g!==null?d=Cn(g,d):(d=Hn(d,h,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,h=e.child.memoizedState,h=h===null?lu(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~s,n.memoizedState=ou,l}return d=e.child,e=d.sibling,l=Cn(d,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function uu(e,n){return n=Zs({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ws(e,n,s,l){return l!==null&&Ll(l),gr(n,e.child,null,s),e=uu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kg(e,n,s,l,a,d,h){if(s)return n.flags&256?(n.flags&=-257,l=nu(Error(r(422))),Ws(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=l.fallback,a=n.mode,l=Zs({mode:"visible",children:l.children},a,0,null),d=Hn(d,a,h,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,n.mode&1&&gr(n,e.child,null,h),n.child.memoizedState=lu(h),n.memoizedState=ou,d);if(!(n.mode&1))return Ws(e,n,h,null);if(a.data==="$!"){if(l=a.nextSibling&&a.nextSibling.dataset,l)var g=l.dgst;return l=g,d=Error(r(419)),l=nu(d,l,void 0),Ws(e,n,h,l)}if(g=(h&e.childLanes)!==0,tt||g){if(l=De,l!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(l.suspendedLanes|h)?0:a,a!==0&&a!==d.retryLane&&(d.retryLane=a,Kt(e,a),Pt(l,e,a,-1))}return ku(),l=nu(Error(r(421))),Ws(e,n,h,l)}return a.data==="$?"?(n.flags|=128,n.child=e.child,n=l_.bind(null,e),a._reactRetry=n,null):(e=d.treeContext,ft=dn(a.nextSibling),dt=n,_e=!0,Tt=null,e!==null&&(mt[gt++]=Qt,mt[gt++]=Gt,mt[gt++]=Mn,Qt=e.id,Gt=e.overflow,Mn=n),n=uu(n,l.children),n.flags|=4096,n)}function vf(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Bl(e.return,n,s)}function au(e,n,s,l,a){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:a}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=a)}function wf(e,n,s){var l=n.pendingProps,a=l.revealOrder,d=l.tail;if(Ye(e,n,l.children,s),l=ye.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vf(e,s,n);else if(e.tag===19)vf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(ce(ye,l),!(n.mode&1))n.memoizedState=null;else switch(a){case"forwards":for(s=n.child,a=null;s!==null;)e=s.alternate,e!==null&&Os(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=n.child,n.child=null):(a=s.sibling,s.sibling=null),au(n,!1,a,s,d);break;case"backwards":for(s=null,a=n.child,n.child=null;a!==null;){if(e=a.alternate,e!==null&&Os(e)===null){n.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}au(n,!0,s,null,d);break;case"together":au(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function js(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function qt(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Bn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Cn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Cn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Yg(e,n,s){switch(n.tag){case 3:gf(n),mr();break;case 5:Od(n);break;case 1:et(n.type)&&Ss(n);break;case 4:Vl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,a=n.memoizedProps.value;ce(xs,l._currentValue),l._currentValue=a;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(ce(ye,ye.current&1),n.flags|=128,null):s&n.child.childLanes?yf(e,n,s):(ce(ye,ye.current&1),e=qt(e,n,s),e!==null?e.sibling:null);ce(ye,ye.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return wf(e,n,s);n.flags|=128}if(a=n.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ce(ye,ye.current),l)break;return null;case 22:case 23:return n.lanes=0,hf(e,n,s)}return qt(e,n,s)}var Ef,cu,Cf,Sf;Ef=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},cu=function(){},Cf=function(e,n,s,l){var a=e.memoizedProps;if(a!==l){e=n.stateNode,zn(Ut.current);var d=null;switch(s){case"input":a=Bo(e,a),l=Bo(e,l),d=[];break;case"select":a=z({},a,{value:void 0}),l=z({},l,{value:void 0}),d=[];break;case"textarea":a=Vo(e,a),l=Vo(e,l),d=[];break;default:typeof a.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=ws)}$o(s,l);var h;s=null;for(I in a)if(!l.hasOwnProperty(I)&&a.hasOwnProperty(I)&&a[I]!=null)if(I==="style"){var g=a[I];for(h in g)g.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(u.hasOwnProperty(I)?d||(d=[]):(d=d||[]).push(I,null));for(I in l){var y=l[I];if(g=a!=null?a[I]:void 0,l.hasOwnProperty(I)&&y!==g&&(y!=null||g!=null))if(I==="style")if(g){for(h in g)!g.hasOwnProperty(h)||y&&y.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in y)y.hasOwnProperty(h)&&g[h]!==y[h]&&(s||(s={}),s[h]=y[h])}else s||(d||(d=[]),d.push(I,s)),s=y;else I==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,g=g?g.__html:void 0,y!=null&&g!==y&&(d=d||[]).push(I,y)):I==="children"?typeof y!="string"&&typeof y!="number"||(d=d||[]).push(I,""+y):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(u.hasOwnProperty(I)?(y!=null&&I==="onScroll"&&pe("scroll",e),d||g===y||(d=[])):(d=d||[]).push(I,y))}s&&(d=d||[]).push("style",s);var I=d;(n.updateQueue=I)&&(n.flags|=4)}},Sf=function(e,n,s,l){s!==l&&(n.flags|=4)};function yi(e,n){if(!_e)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function $e(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags&14680064,l|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function qg(e,n,s){var l=n.pendingProps;switch(Al(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(n),null;case 1:return et(n.type)&&Cs(),$e(n),null;case 3:return l=n.stateNode,vr(),me(Ze),me(Ve),bl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ns(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Tt!==null&&(Eu(Tt),Tt=null))),cu(e,n),$e(n),null;case 5:Hl(n);var a=zn(hi.current);if(s=n.type,e!==null&&n.stateNode!=null)Cf(e,n,s,l,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return $e(n),null}if(e=zn(Ut.current),Ns(n)){l=n.stateNode,s=n.type;var d=n.memoizedProps;switch(l[zt]=n,l[ui]=d,e=(n.mode&1)!==0,s){case"dialog":pe("cancel",l),pe("close",l);break;case"iframe":case"object":case"embed":pe("load",l);break;case"video":case"audio":for(a=0;a<si.length;a++)pe(si[a],l);break;case"source":pe("error",l);break;case"img":case"image":case"link":pe("error",l),pe("load",l);break;case"details":pe("toggle",l);break;case"input":nc(l,d),pe("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},pe("invalid",l);break;case"textarea":sc(l,d),pe("invalid",l)}$o(s,d),a=null;for(var h in d)if(d.hasOwnProperty(h)){var g=d[h];h==="children"?typeof g=="string"?l.textContent!==g&&(d.suppressHydrationWarning!==!0&&vs(l.textContent,g,e),a=["children",g]):typeof g=="number"&&l.textContent!==""+g&&(d.suppressHydrationWarning!==!0&&vs(l.textContent,g,e),a=["children",""+g]):u.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&pe("scroll",l)}switch(s){case"input":qi(l),ic(l,d,!0);break;case"textarea":qi(l),lc(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=ws)}l=a,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[zt]=n,e[ui]=l,Ef(e,n,!1,!1),n.stateNode=e;e:{switch(h=bo(s,l),s){case"dialog":pe("cancel",e),pe("close",e),a=l;break;case"iframe":case"object":case"embed":pe("load",e),a=l;break;case"video":case"audio":for(a=0;a<si.length;a++)pe(si[a],e);a=l;break;case"source":pe("error",e),a=l;break;case"img":case"image":case"link":pe("error",e),pe("load",e),a=l;break;case"details":pe("toggle",e),a=l;break;case"input":nc(e,l),a=Bo(e,l),pe("invalid",e);break;case"option":a=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},a=z({},l,{value:void 0}),pe("invalid",e);break;case"textarea":sc(e,l),a=Vo(e,l),pe("invalid",e);break;default:a=l}$o(s,a),g=a;for(d in g)if(g.hasOwnProperty(d)){var y=g[d];d==="style"?dc(e,y):d==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&ac(e,y)):d==="children"?typeof y=="string"?(s!=="textarea"||y!=="")&&Wr(e,y):typeof y=="number"&&Wr(e,""+y):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?y!=null&&d==="onScroll"&&pe("scroll",e):y!=null&&Ge(e,d,y,h))}switch(s){case"input":qi(e),ic(e,l,!1);break;case"textarea":qi(e),lc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+oe(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?er(e,!!l.multiple,d,!1):l.defaultValue!=null&&er(e,!!l.multiple,l.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ws)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return $e(n),null;case 6:if(e&&n.stateNode!=null)Sf(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=zn(hi.current),zn(Ut.current),Ns(n)){if(l=n.stateNode,s=n.memoizedProps,l[zt]=n,(d=l.nodeValue!==s)&&(e=dt,e!==null))switch(e.tag){case 3:vs(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vs(l.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[zt]=n,n.stateNode=l}return $e(n),null;case 13:if(me(ye),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&ft!==null&&n.mode&1&&!(n.flags&128))Id(),mr(),n.flags|=98560,d=!1;else if(d=Ns(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[zt]=n}else mr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;$e(n),d=!1}else Tt!==null&&(Eu(Tt),Tt=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||ye.current&1?Re===0&&(Re=3):ku())),n.updateQueue!==null&&(n.flags|=4),$e(n),null);case 4:return vr(),cu(e,n),e===null&&oi(n.stateNode.containerInfo),$e(n),null;case 10:return Ul(n.type._context),$e(n),null;case 17:return et(n.type)&&Cs(),$e(n),null;case 19:if(me(ye),d=n.memoizedState,d===null)return $e(n),null;if(l=(n.flags&128)!==0,h=d.rendering,h===null)if(l)yi(d,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=Os(e),h!==null){for(n.flags|=128,yi(d,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)d=s,e=l,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ce(ye,ye.current&1|2),n.child}e=e.sibling}d.tail!==null&&ke()>Sr&&(n.flags|=128,l=!0,yi(d,!1),n.lanes=4194304)}else{if(!l)if(e=Os(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),yi(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!_e)return $e(n),null}else 2*ke()-d.renderingStartTime>Sr&&s!==1073741824&&(n.flags|=128,l=!0,yi(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(s=d.last,s!==null?s.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=ke(),n.sibling=null,s=ye.current,ce(ye,l?s&1|2:s&1),n):($e(n),null);case 22:case 23:return Su(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?ht&1073741824&&($e(n),n.subtreeFlags&6&&(n.flags|=8192)):$e(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Xg(e,n){switch(Al(n),n.tag){case 1:return et(n.type)&&Cs(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return vr(),me(Ze),me(Ve),bl(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Hl(n),null;case 13:if(me(ye),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return me(ye),null;case 4:return vr(),null;case 10:return Ul(n.type._context),null;case 22:case 23:return Su(),null;case 24:return null;default:return null}}var Vs=!1,be=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,F=null;function Er(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Ee(e,n,l)}else s.current=null}function du(e,n,s){try{s()}catch(l){Ee(e,n,l)}}var kf=!1;function Zg(e,n){if(Sl=us,e=td(),ml(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var a=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,g=-1,y=-1,I=0,x=0,P=e,N=null;t:for(;;){for(var L;P!==s||a!==0&&P.nodeType!==3||(g=h+a),P!==d||l!==0&&P.nodeType!==3||(y=h+l),P.nodeType===3&&(h+=P.nodeValue.length),(L=P.firstChild)!==null;)N=P,P=L;for(;;){if(P===e)break t;if(N===s&&++I===a&&(g=h),N===d&&++x===l&&(y=h),(L=P.nextSibling)!==null)break;P=N,N=P.parentNode}P=L}s=g===-1||y===-1?null:{start:g,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(kl={focusedElem:e,selectionRange:s},us=!1,F=n;F!==null;)if(n=F,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,F=e;else for(;F!==null;){n=F;try{var U=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var B=U.memoizedProps,Ie=U.memoizedState,C=n.stateNode,v=C.getSnapshotBeforeUpdate(n.elementType===n.type?B:Nt(n.type,B),Ie);C.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=n.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(D){Ee(n,n.return,D)}if(e=n.sibling,e!==null){e.return=n.return,F=e;break}F=n.return}return U=kf,kf=!1,U}function vi(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var a=l=l.next;do{if((a.tag&e)===e){var d=a.destroy;a.destroy=void 0,d!==void 0&&du(n,s,d)}a=a.next}while(a!==l)}}function Hs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function fu(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function If(e){var n=e.alternate;n!==null&&(e.alternate=null,If(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[zt],delete n[ui],delete n[Rl],delete n[Lg],delete n[Fg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tf(e){return e.tag===5||e.tag===3||e.tag===4}function Nf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ws));else if(l!==4&&(e=e.child,e!==null))for(hu(e,n,s),e=e.sibling;e!==null;)hu(e,n,s),e=e.sibling}function pu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(pu(e,n,s),e=e.sibling;e!==null;)pu(e,n,s),e=e.sibling}var Fe=null,Rt=!1;function _n(e,n,s){for(s=s.child;s!==null;)Rf(e,n,s),s=s.sibling}function Rf(e,n,s){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ns,s)}catch{}switch(s.tag){case 5:be||Er(s,n);case 6:var l=Fe,a=Rt;Fe=null,_n(e,n,s),Fe=l,Rt=a,Fe!==null&&(Rt?(e=Fe,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Fe.removeChild(s.stateNode));break;case 18:Fe!==null&&(Rt?(e=Fe,s=s.stateNode,e.nodeType===8?Nl(e.parentNode,s):e.nodeType===1&&Nl(e,s),Xr(e)):Nl(Fe,s.stateNode));break;case 4:l=Fe,a=Rt,Fe=s.stateNode.containerInfo,Rt=!0,_n(e,n,s),Fe=l,Rt=a;break;case 0:case 11:case 14:case 15:if(!be&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){a=l=l.next;do{var d=a,h=d.destroy;d=d.tag,h!==void 0&&(d&2||d&4)&&du(s,n,h),a=a.next}while(a!==l)}_n(e,n,s);break;case 1:if(!be&&(Er(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(g){Ee(s,n,g)}_n(e,n,s);break;case 21:_n(e,n,s);break;case 22:s.mode&1?(be=(l=be)||s.memoizedState!==null,_n(e,n,s),be=l):_n(e,n,s);break;default:_n(e,n,s)}}function xf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Jg),n.forEach(function(l){var a=u_.bind(null,e,l);s.has(l)||(s.add(l),l.then(a,a))})}}function xt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];try{var d=e,h=n,g=h;e:for(;g!==null;){switch(g.tag){case 5:Fe=g.stateNode,Rt=!1;break e;case 3:Fe=g.stateNode.containerInfo,Rt=!0;break e;case 4:Fe=g.stateNode.containerInfo,Rt=!0;break e}g=g.return}if(Fe===null)throw Error(r(160));Rf(d,h,a),Fe=null,Rt=!1;var y=a.alternate;y!==null&&(y.return=null),a.return=null}catch(I){Ee(a,n,I)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Pf(n,e),n=n.sibling}function Pf(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(n,e),Wt(e),l&4){try{vi(3,e,e.return),Hs(3,e)}catch(B){Ee(e,e.return,B)}try{vi(5,e,e.return)}catch(B){Ee(e,e.return,B)}}break;case 1:xt(n,e),Wt(e),l&512&&s!==null&&Er(s,s.return);break;case 5:if(xt(n,e),Wt(e),l&512&&s!==null&&Er(s,s.return),e.flags&32){var a=e.stateNode;try{Wr(a,"")}catch(B){Ee(e,e.return,B)}}if(l&4&&(a=e.stateNode,a!=null)){var d=e.memoizedProps,h=s!==null?s.memoizedProps:d,g=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{g==="input"&&d.type==="radio"&&d.name!=null&&rc(a,d),bo(g,h);var I=bo(g,d);for(h=0;h<y.length;h+=2){var x=y[h],P=y[h+1];x==="style"?dc(a,P):x==="dangerouslySetInnerHTML"?ac(a,P):x==="children"?Wr(a,P):Ge(a,x,P,I)}switch(g){case"input":Wo(a,d);break;case"textarea":oc(a,d);break;case"select":var N=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!d.multiple;var L=d.value;L!=null?er(a,!!d.multiple,L,!1):N!==!!d.multiple&&(d.defaultValue!=null?er(a,!!d.multiple,d.defaultValue,!0):er(a,!!d.multiple,d.multiple?[]:"",!1))}a[ui]=d}catch(B){Ee(e,e.return,B)}}break;case 6:if(xt(n,e),Wt(e),l&4){if(e.stateNode===null)throw Error(r(162));a=e.stateNode,d=e.memoizedProps;try{a.nodeValue=d}catch(B){Ee(e,e.return,B)}}break;case 3:if(xt(n,e),Wt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Xr(n.containerInfo)}catch(B){Ee(e,e.return,B)}break;case 4:xt(n,e),Wt(e);break;case 13:xt(n,e),Wt(e),a=e.child,a.flags&8192&&(d=a.memoizedState!==null,a.stateNode.isHidden=d,!d||a.alternate!==null&&a.alternate.memoizedState!==null||(_u=ke())),l&4&&xf(e);break;case 22:if(x=s!==null&&s.memoizedState!==null,e.mode&1?(be=(I=be)||x,xt(n,e),be=I):xt(n,e),Wt(e),l&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!x&&e.mode&1)for(F=e,x=e.child;x!==null;){for(P=F=x;F!==null;){switch(N=F,L=N.child,N.tag){case 0:case 11:case 14:case 15:vi(4,N,N.return);break;case 1:Er(N,N.return);var U=N.stateNode;if(typeof U.componentWillUnmount=="function"){l=N,s=N.return;try{n=l,U.props=n.memoizedProps,U.state=n.memoizedState,U.componentWillUnmount()}catch(B){Ee(l,s,B)}}break;case 5:Er(N,N.return);break;case 22:if(N.memoizedState!==null){Of(P);continue}}L!==null?(L.return=N,F=L):Of(P)}x=x.sibling}e:for(x=null,P=e;;){if(P.tag===5){if(x===null){x=P;try{a=P.stateNode,I?(d=a.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(g=P.stateNode,y=P.memoizedProps.style,h=y!=null&&y.hasOwnProperty("display")?y.display:null,g.style.display=cc("display",h))}catch(B){Ee(e,e.return,B)}}}else if(P.tag===6){if(x===null)try{P.stateNode.nodeValue=I?"":P.memoizedProps}catch(B){Ee(e,e.return,B)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;x===P&&(x=null),P=P.return}x===P&&(x=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:xt(n,e),Wt(e),l&4&&xf(e);break;case 21:break;default:xt(n,e),Wt(e)}}function Wt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Tf(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var a=l.stateNode;l.flags&32&&(Wr(a,""),l.flags&=-33);var d=Nf(e);pu(e,d,a);break;case 3:case 4:var h=l.stateNode.containerInfo,g=Nf(e);hu(e,g,h);break;default:throw Error(r(161))}}catch(y){Ee(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function e_(e,n,s){F=e,Df(e)}function Df(e,n,s){for(var l=(e.mode&1)!==0;F!==null;){var a=F,d=a.child;if(a.tag===22&&l){var h=a.memoizedState!==null||Vs;if(!h){var g=a.alternate,y=g!==null&&g.memoizedState!==null||be;g=Vs;var I=be;if(Vs=h,(be=y)&&!I)for(F=a;F!==null;)h=F,y=h.child,h.tag===22&&h.memoizedState!==null?Mf(a):y!==null?(y.return=h,F=y):Mf(a);for(;d!==null;)F=d,Df(d),d=d.sibling;F=a,Vs=g,be=I}Af(e)}else a.subtreeFlags&8772&&d!==null?(d.return=a,F=d):Af(e)}}function Af(e){for(;F!==null;){var n=F;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:be||Hs(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!be)if(s===null)l.componentDidMount();else{var a=n.elementType===n.type?s.memoizedProps:Nt(n.type,s.memoizedProps);l.componentDidUpdate(a,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Ad(n,d,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Ad(n,h,s)}break;case 5:var g=n.stateNode;if(s===null&&n.flags&4){s=g;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&s.focus();break;case"img":y.src&&(s.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var I=n.alternate;if(I!==null){var x=I.memoizedState;if(x!==null){var P=x.dehydrated;P!==null&&Xr(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}be||n.flags&512&&fu(n)}catch(N){Ee(n,n.return,N)}}if(n===e){F=null;break}if(s=n.sibling,s!==null){s.return=n.return,F=s;break}F=n.return}}function Of(e){for(;F!==null;){var n=F;if(n===e){F=null;break}var s=n.sibling;if(s!==null){s.return=n.return,F=s;break}F=n.return}}function Mf(e){for(;F!==null;){var n=F;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Hs(4,n)}catch(y){Ee(n,s,y)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var a=n.return;try{l.componentDidMount()}catch(y){Ee(n,a,y)}}var d=n.return;try{fu(n)}catch(y){Ee(n,d,y)}break;case 5:var h=n.return;try{fu(n)}catch(y){Ee(n,h,y)}}}catch(y){Ee(n,n.return,y)}if(n===e){F=null;break}var g=n.sibling;if(g!==null){g.return=n.return,F=g;break}F=n.return}}var t_=Math.ceil,$s=xe.ReactCurrentDispatcher,mu=xe.ReactCurrentOwner,vt=xe.ReactCurrentBatchConfig,te=0,De=null,Te=null,ze=0,ht=0,Cr=fn(0),Re=0,wi=null,Bn=0,bs=0,gu=0,Ei=null,nt=null,_u=0,Sr=1/0,Xt=null,Qs=!1,yu=null,yn=null,Gs=!1,vn=null,Ks=0,Ci=0,vu=null,Ys=-1,qs=0;function qe(){return te&6?ke():Ys!==-1?Ys:Ys=ke()}function wn(e){return e.mode&1?te&2&&ze!==0?ze&-ze:Ug.transition!==null?(qs===0&&(qs=Tc()),qs):(e=le,e!==0||(e=window.event,e=e===void 0?16:Lc(e.type)),e):1}function Pt(e,n,s,l){if(50<Ci)throw Ci=0,vu=null,Error(r(185));Qr(e,s,l),(!(te&2)||e!==De)&&(e===De&&(!(te&2)&&(bs|=s),Re===4&&En(e,ze)),rt(e,l),s===1&&te===0&&!(n.mode&1)&&(Sr=ke()+500,ks&&pn()))}function rt(e,n){var s=e.callbackNode;Um(e,n);var l=ss(e,e===De?ze:0);if(l===0)s!==null&&Sc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&Sc(s),n===1)e.tag===0?zg(Ff.bind(null,e)):wd(Ff.bind(null,e)),Og(function(){!(te&6)&&pn()}),s=null;else{switch(Nc(l)){case 1:s=Jo;break;case 4:s=kc;break;case 16:s=ts;break;case 536870912:s=Ic;break;default:s=ts}s=$f(s,Lf.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Lf(e,n){if(Ys=-1,qs=0,te&6)throw Error(r(327));var s=e.callbackNode;if(kr()&&e.callbackNode!==s)return null;var l=ss(e,e===De?ze:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=Xs(e,l);else{n=l;var a=te;te|=2;var d=Uf();(De!==e||ze!==n)&&(Xt=null,Sr=ke()+500,jn(e,n));do try{i_();break}catch(g){zf(e,g)}while(!0);zl(),$s.current=d,te=a,Te!==null?n=0:(De=null,ze=0,n=Re)}if(n!==0){if(n===2&&(a=Zo(e),a!==0&&(l=a,n=wu(e,a))),n===1)throw s=wi,jn(e,0),En(e,l),rt(e,ke()),s;if(n===6)En(e,l);else{if(a=e.current.alternate,!(l&30)&&!n_(a)&&(n=Xs(e,l),n===2&&(d=Zo(e),d!==0&&(l=d,n=wu(e,d))),n===1))throw s=wi,jn(e,0),En(e,l),rt(e,ke()),s;switch(e.finishedWork=a,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:Vn(e,nt,Xt);break;case 3:if(En(e,l),(l&130023424)===l&&(n=_u+500-ke(),10<n)){if(ss(e,0)!==0)break;if(a=e.suspendedLanes,(a&l)!==l){qe(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Tl(Vn.bind(null,e,nt,Xt),n);break}Vn(e,nt,Xt);break;case 4:if(En(e,l),(l&4194240)===l)break;for(n=e.eventTimes,a=-1;0<l;){var h=31-kt(l);d=1<<h,h=n[h],h>a&&(a=h),l&=~d}if(l=a,l=ke()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*t_(l/1960))-l,10<l){e.timeoutHandle=Tl(Vn.bind(null,e,nt,Xt),l);break}Vn(e,nt,Xt);break;case 5:Vn(e,nt,Xt);break;default:throw Error(r(329))}}}return rt(e,ke()),e.callbackNode===s?Lf.bind(null,e):null}function wu(e,n){var s=Ei;return e.current.memoizedState.isDehydrated&&(jn(e,n).flags|=256),e=Xs(e,n),e!==2&&(n=nt,nt=s,n!==null&&Eu(n)),e}function Eu(e){nt===null?nt=e:nt.push.apply(nt,e)}function n_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var a=s[l],d=a.getSnapshot;a=a.value;try{if(!It(d(),a))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function En(e,n){for(n&=~gu,n&=~bs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-kt(n),l=1<<s;e[s]=-1,n&=~l}}function Ff(e){if(te&6)throw Error(r(327));kr();var n=ss(e,0);if(!(n&1))return rt(e,ke()),null;var s=Xs(e,n);if(e.tag!==0&&s===2){var l=Zo(e);l!==0&&(n=l,s=wu(e,l))}if(s===1)throw s=wi,jn(e,0),En(e,n),rt(e,ke()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Vn(e,nt,Xt),rt(e,ke()),null}function Cu(e,n){var s=te;te|=1;try{return e(n)}finally{te=s,te===0&&(Sr=ke()+500,ks&&pn())}}function Wn(e){vn!==null&&vn.tag===0&&!(te&6)&&kr();var n=te;te|=1;var s=vt.transition,l=le;try{if(vt.transition=null,le=1,e)return e()}finally{le=l,vt.transition=s,te=n,!(te&6)&&pn()}}function Su(){ht=Cr.current,me(Cr)}function jn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Ag(s)),Te!==null)for(s=Te.return;s!==null;){var l=s;switch(Al(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Cs();break;case 3:vr(),me(Ze),me(Ve),bl();break;case 5:Hl(l);break;case 4:vr();break;case 13:me(ye);break;case 19:me(ye);break;case 10:Ul(l.type._context);break;case 22:case 23:Su()}s=s.return}if(De=e,Te=e=Cn(e.current,null),ze=ht=n,Re=0,wi=null,gu=bs=Bn=0,nt=Ei=null,Fn!==null){for(n=0;n<Fn.length;n++)if(s=Fn[n],l=s.interleaved,l!==null){s.interleaved=null;var a=l.next,d=s.pending;if(d!==null){var h=d.next;d.next=a,l.next=h}s.pending=l}Fn=null}return e}function zf(e,n){do{var s=Te;try{if(zl(),Ms.current=Us,Ls){for(var l=ve.memoizedState;l!==null;){var a=l.queue;a!==null&&(a.pending=null),l=l.next}Ls=!1}if(Un=0,Pe=Ne=ve=null,pi=!1,mi=0,mu.current=null,s===null||s.return===null){Re=1,wi=n,Te=null;break}e:{var d=e,h=s.return,g=s,y=n;if(n=ze,g.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var I=y,x=g,P=x.tag;if(!(x.mode&1)&&(P===0||P===11||P===15)){var N=x.alternate;N?(x.updateQueue=N.updateQueue,x.memoizedState=N.memoizedState,x.lanes=N.lanes):(x.updateQueue=null,x.memoizedState=null)}var L=uf(h);if(L!==null){L.flags&=-257,af(L,h,g,d,n),L.mode&1&&lf(d,I,n),n=L,y=I;var U=n.updateQueue;if(U===null){var B=new Set;B.add(y),n.updateQueue=B}else U.add(y);break e}else{if(!(n&1)){lf(d,I,n),ku();break e}y=Error(r(426))}}else if(_e&&g.mode&1){var Ie=uf(h);if(Ie!==null){!(Ie.flags&65536)&&(Ie.flags|=256),af(Ie,h,g,d,n),Ll(wr(y,g));break e}}d=y=wr(y,g),Re!==4&&(Re=2),Ei===null?Ei=[d]:Ei.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var C=sf(d,y,n);Dd(d,C);break e;case 1:g=y;var v=d.type,S=d.stateNode;if(!(d.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(yn===null||!yn.has(S)))){d.flags|=65536,n&=-n,d.lanes|=n;var D=of(d,g,n);Dd(d,D);break e}}d=d.return}while(d!==null)}Wf(s)}catch(j){n=j,Te===s&&s!==null&&(Te=s=s.return);continue}break}while(!0)}function Uf(){var e=$s.current;return $s.current=Us,e===null?Us:e}function ku(){(Re===0||Re===3||Re===2)&&(Re=4),De===null||!(Bn&268435455)&&!(bs&268435455)||En(De,ze)}function Xs(e,n){var s=te;te|=2;var l=Uf();(De!==e||ze!==n)&&(Xt=null,jn(e,n));do try{r_();break}catch(a){zf(e,a)}while(!0);if(zl(),te=s,$s.current=l,Te!==null)throw Error(r(261));return De=null,ze=0,Re}function r_(){for(;Te!==null;)Bf(Te)}function i_(){for(;Te!==null&&!xm();)Bf(Te)}function Bf(e){var n=Hf(e.alternate,e,ht);e.memoizedProps=e.pendingProps,n===null?Wf(e):Te=n,mu.current=null}function Wf(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=Xg(s,n),s!==null){s.flags&=32767,Te=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,Te=null;return}}else if(s=qg(s,n,ht),s!==null){Te=s;return}if(n=n.sibling,n!==null){Te=n;return}Te=n=e}while(n!==null);Re===0&&(Re=5)}function Vn(e,n,s){var l=le,a=vt.transition;try{vt.transition=null,le=1,s_(e,n,s,l)}finally{vt.transition=a,le=l}return null}function s_(e,n,s,l){do kr();while(vn!==null);if(te&6)throw Error(r(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(Bm(e,d),e===De&&(Te=De=null,ze=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Gs||(Gs=!0,$f(ts,function(){return kr(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=vt.transition,vt.transition=null;var h=le;le=1;var g=te;te|=4,mu.current=null,Zg(e,s),Pf(s,e),Ig(kl),us=!!Sl,kl=Sl=null,e.current=s,e_(s),Pm(),te=g,le=h,vt.transition=d}else e.current=s;if(Gs&&(Gs=!1,vn=e,Ks=a),d=e.pendingLanes,d===0&&(yn=null),Om(s.stateNode),rt(e,ke()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)a=n[s],l(a.value,{componentStack:a.stack,digest:a.digest});if(Qs)throw Qs=!1,e=yu,yu=null,e;return Ks&1&&e.tag!==0&&kr(),d=e.pendingLanes,d&1?e===vu?Ci++:(Ci=0,vu=e):Ci=0,pn(),null}function kr(){if(vn!==null){var e=Nc(Ks),n=vt.transition,s=le;try{if(vt.transition=null,le=16>e?16:e,vn===null)var l=!1;else{if(e=vn,vn=null,Ks=0,te&6)throw Error(r(331));var a=te;for(te|=4,F=e.current;F!==null;){var d=F,h=d.child;if(F.flags&16){var g=d.deletions;if(g!==null){for(var y=0;y<g.length;y++){var I=g[y];for(F=I;F!==null;){var x=F;switch(x.tag){case 0:case 11:case 15:vi(8,x,d)}var P=x.child;if(P!==null)P.return=x,F=P;else for(;F!==null;){x=F;var N=x.sibling,L=x.return;if(If(x),x===I){F=null;break}if(N!==null){N.return=L,F=N;break}F=L}}}var U=d.alternate;if(U!==null){var B=U.child;if(B!==null){U.child=null;do{var Ie=B.sibling;B.sibling=null,B=Ie}while(B!==null)}}F=d}}if(d.subtreeFlags&2064&&h!==null)h.return=d,F=h;else e:for(;F!==null;){if(d=F,d.flags&2048)switch(d.tag){case 0:case 11:case 15:vi(9,d,d.return)}var C=d.sibling;if(C!==null){C.return=d.return,F=C;break e}F=d.return}}var v=e.current;for(F=v;F!==null;){h=F;var S=h.child;if(h.subtreeFlags&2064&&S!==null)S.return=h,F=S;else e:for(h=v;F!==null;){if(g=F,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Hs(9,g)}}catch(j){Ee(g,g.return,j)}if(g===h){F=null;break e}var D=g.sibling;if(D!==null){D.return=g.return,F=D;break e}F=g.return}}if(te=a,pn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ns,e)}catch{}l=!0}return l}finally{le=s,vt.transition=n}}return!1}function jf(e,n,s){n=wr(s,n),n=sf(e,n,1),e=gn(e,n,1),n=qe(),e!==null&&(Qr(e,1,n),rt(e,n))}function Ee(e,n,s){if(e.tag===3)jf(e,e,s);else for(;n!==null;){if(n.tag===3){jf(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yn===null||!yn.has(l))){e=wr(s,e),e=of(n,e,1),n=gn(n,e,1),e=qe(),n!==null&&(Qr(n,1,e),rt(n,e));break}}n=n.return}}function o_(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=qe(),e.pingedLanes|=e.suspendedLanes&s,De===e&&(ze&s)===s&&(Re===4||Re===3&&(ze&130023424)===ze&&500>ke()-_u?jn(e,0):gu|=s),rt(e,n)}function Vf(e,n){n===0&&(e.mode&1?(n=is,is<<=1,!(is&130023424)&&(is=4194304)):n=1);var s=qe();e=Kt(e,n),e!==null&&(Qr(e,n,s),rt(e,s))}function l_(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Vf(e,s)}function u_(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),Vf(e,s)}var Hf;Hf=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||Ze.current)tt=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return tt=!1,Yg(e,n,s);tt=!!(e.flags&131072)}else tt=!1,_e&&n.flags&1048576&&Ed(n,Ts,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;js(e,n),e=n.pendingProps;var a=fr(n,Ve.current);yr(n,s),a=Kl(null,n,l,e,a,s);var d=Yl();return n.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,et(l)?(d=!0,Ss(n)):d=!1,n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,jl(n),a.updater=Bs,n.stateNode=a,a._reactInternals=n,tu(n,l,e,s),n=su(null,n,l,!0,d,s)):(n.tag=0,_e&&d&&Dl(n),Ye(null,n,a,s),n=n.child),n;case 16:l=n.elementType;e:{switch(js(e,n),e=n.pendingProps,a=l._init,l=a(l._payload),n.type=l,a=n.tag=c_(l),e=Nt(l,e),a){case 0:n=iu(null,n,l,e,s);break e;case 1:n=mf(null,n,l,e,s);break e;case 11:n=cf(null,n,l,e,s);break e;case 14:n=df(null,n,l,Nt(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Nt(l,a),iu(e,n,l,a,s);case 1:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Nt(l,a),mf(e,n,l,a,s);case 3:e:{if(gf(n),e===null)throw Error(r(387));l=n.pendingProps,d=n.memoizedState,a=d.element,Pd(e,n),As(n,l,null,s);var h=n.memoizedState;if(l=h.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){a=wr(Error(r(423)),n),n=_f(e,n,l,s,a);break e}else if(l!==a){a=wr(Error(r(424)),n),n=_f(e,n,l,s,a);break e}else for(ft=dn(n.stateNode.containerInfo.firstChild),dt=n,_e=!0,Tt=null,s=Rd(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(mr(),l===a){n=qt(e,n,s);break e}Ye(e,n,l,s)}n=n.child}return n;case 5:return Od(n),e===null&&Ml(n),l=n.type,a=n.pendingProps,d=e!==null?e.memoizedProps:null,h=a.children,Il(l,a)?h=null:d!==null&&Il(l,d)&&(n.flags|=32),pf(e,n),Ye(e,n,h,s),n.child;case 6:return e===null&&Ml(n),null;case 13:return yf(e,n,s);case 4:return Vl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=gr(n,null,l,s):Ye(e,n,l,s),n.child;case 11:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Nt(l,a),cf(e,n,l,a,s);case 7:return Ye(e,n,n.pendingProps,s),n.child;case 8:return Ye(e,n,n.pendingProps.children,s),n.child;case 12:return Ye(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,a=n.pendingProps,d=n.memoizedProps,h=a.value,ce(xs,l._currentValue),l._currentValue=h,d!==null)if(It(d.value,h)){if(d.children===a.children&&!Ze.current){n=qt(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var g=d.dependencies;if(g!==null){h=d.child;for(var y=g.firstContext;y!==null;){if(y.context===l){if(d.tag===1){y=Yt(-1,s&-s),y.tag=2;var I=d.updateQueue;if(I!==null){I=I.shared;var x=I.pending;x===null?y.next=y:(y.next=x.next,x.next=y),I.pending=y}}d.lanes|=s,y=d.alternate,y!==null&&(y.lanes|=s),Bl(d.return,s,n),g.lanes|=s;break}y=y.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(r(341));h.lanes|=s,g=h.alternate,g!==null&&(g.lanes|=s),Bl(h,s,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}Ye(e,n,a.children,s),n=n.child}return n;case 9:return a=n.type,l=n.pendingProps.children,yr(n,s),a=_t(a),l=l(a),n.flags|=1,Ye(e,n,l,s),n.child;case 14:return l=n.type,a=Nt(l,n.pendingProps),a=Nt(l.type,a),df(e,n,l,a,s);case 15:return ff(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Nt(l,a),js(e,n),n.tag=1,et(l)?(e=!0,Ss(n)):e=!1,yr(n,s),nf(n,l,a),tu(n,l,a,s),su(null,n,l,!0,e,s);case 19:return wf(e,n,s);case 22:return hf(e,n,s)}throw Error(r(156,n.tag))};function $f(e,n){return Cc(e,n)}function a_(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,n,s,l){return new a_(e,n,s,l)}function Iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function c_(e){if(typeof e=="function")return Iu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mt)return 11;if(e===Lt)return 14}return 2}function Cn(e,n){var s=e.alternate;return s===null?(s=wt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Js(e,n,s,l,a,d){var h=2;if(l=e,typeof e=="function")Iu(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Xe:return Hn(s.children,a,d,n);case pt:h=8,a|=8;break;case rn:return e=wt(12,s,n,a|2),e.elementType=rn,e.lanes=d,e;case ut:return e=wt(13,s,n,a),e.elementType=ut,e.lanes=d,e;case St:return e=wt(19,s,n,a),e.elementType=St,e.lanes=d,e;case we:return Zs(s,a,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ht:h=10;break e;case Pn:h=9;break e;case Mt:h=11;break e;case Lt:h=14;break e;case Je:h=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=wt(h,s,n,a),n.elementType=e,n.type=l,n.lanes=d,n}function Hn(e,n,s,l){return e=wt(7,e,l,n),e.lanes=s,e}function Zs(e,n,s,l){return e=wt(22,e,l,n),e.elementType=we,e.lanes=s,e.stateNode={isHidden:!1},e}function Tu(e,n,s){return e=wt(6,e,null,n),e.lanes=s,e}function Nu(e,n,s){return n=wt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function d_(e,n,s,l,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.identifierPrefix=l,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ru(e,n,s,l,a,d,h,g,y){return e=new d_(e,n,s,g,y),n===1?(n=1,d===!0&&(n|=8)):n=0,d=wt(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},jl(d),e}function f_(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ke,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function bf(e){if(!e)return hn;e=e._reactInternals;e:{if(Dn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(et(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(et(s))return yd(e,s,n)}return n}function Qf(e,n,s,l,a,d,h,g,y){return e=Ru(s,l,!0,e,a,d,h,g,y),e.context=bf(null),s=e.current,l=qe(),a=wn(s),d=Yt(l,a),d.callback=n??null,gn(s,d,a),e.current.lanes=a,Qr(e,a,l),rt(e,l),e}function eo(e,n,s,l){var a=n.current,d=qe(),h=wn(a);return s=bf(s),n.context===null?n.context=s:n.pendingContext=s,n=Yt(d,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=gn(a,n,h),e!==null&&(Pt(e,a,h,d),Ds(e,a,h)),h}function to(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function xu(e,n){Gf(e,n),(e=e.alternate)&&Gf(e,n)}var Kf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pu(e){this._internalRoot=e}no.prototype.render=Pu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));eo(e,n,null,null)},no.prototype.unmount=Pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Wn(function(){eo(null,e,null,null)}),n[$t]=null}};function no(e){this._internalRoot=e}no.prototype.unstable_scheduleHydration=function(e){if(e){var n=Pc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<un.length&&n!==0&&n<un[s].priority;s++);un.splice(s,0,e),s===0&&Oc(e)}};function Du(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ro(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yf(){}function h_(e,n,s,l,a){if(a){if(typeof l=="function"){var d=l;l=function(){var I=to(h);d.call(I)}}var h=Qf(n,l,e,0,null,!1,!1,"",Yf);return e._reactRootContainer=h,e[$t]=h.current,oi(e.nodeType===8?e.parentNode:e),Wn(),h}for(;a=e.lastChild;)e.removeChild(a);if(typeof l=="function"){var g=l;l=function(){var I=to(y);g.call(I)}}var y=Ru(e,0,!1,null,null,!1,!1,"",Yf);return e._reactRootContainer=y,e[$t]=y.current,oi(e.nodeType===8?e.parentNode:e),Wn(function(){eo(n,y,s,l)}),y}function io(e,n,s,l,a){var d=s._reactRootContainer;if(d){var h=d;if(typeof a=="function"){var g=a;a=function(){var y=to(h);g.call(y)}}eo(n,h,e,a)}else h=h_(s,n,e,a,l);return to(h)}Rc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=br(n.pendingLanes);s!==0&&(tl(n,s|1),rt(n,ke()),!(te&6)&&(Sr=ke()+500,pn()))}break;case 13:Wn(function(){var l=Kt(e,1);if(l!==null){var a=qe();Pt(l,e,1,a)}}),xu(e,1)}},nl=function(e){if(e.tag===13){var n=Kt(e,134217728);if(n!==null){var s=qe();Pt(n,e,134217728,s)}xu(e,134217728)}},xc=function(e){if(e.tag===13){var n=wn(e),s=Kt(e,n);if(s!==null){var l=qe();Pt(s,e,n,l)}xu(e,n)}},Pc=function(){return le},Dc=function(e,n){var s=le;try{return le=e,n()}finally{le=s}},Ko=function(e,n,s){switch(n){case"input":if(Wo(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var a=Es(l);if(!a)throw Error(r(90));tc(l),Wo(l,a)}}}break;case"textarea":oc(e,s);break;case"select":n=s.value,n!=null&&er(e,!!s.multiple,n,!1)}},mc=Cu,gc=Wn;var p_={usingClientEntryPoint:!1,Events:[ai,cr,Es,hc,pc,Cu]},Si={findFiberByHostInstance:An,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m_={bundleType:Si.bundleType,version:Si.version,rendererPackageName:Si.rendererPackageName,rendererConfig:Si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wc(e),e===null?null:e.stateNode},findFiberByHostInstance:Si.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var so=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!so.isDisabled&&so.supportsFiber)try{ns=so.inject(m_),Ft=so}catch{}}return it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p_,it.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Du(n))throw Error(r(200));return f_(e,n,null,s)},it.createRoot=function(e,n){if(!Du(e))throw Error(r(299));var s=!1,l="",a=Kf;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),n=Ru(e,1,!1,null,null,s,!1,l,a),e[$t]=n.current,oi(e.nodeType===8?e.parentNode:e),new Pu(n)},it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=wc(n),e=e===null?null:e.stateNode,e},it.flushSync=function(e){return Wn(e)},it.hydrate=function(e,n,s){if(!ro(n))throw Error(r(200));return io(null,e,n,!0,s)},it.hydrateRoot=function(e,n,s){if(!Du(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,a=!1,d="",h=Kf;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=Qf(n,null,e,1,s??null,a,!1,d,h),e[$t]=n.current,oi(e),l)for(e=0;e<l.length;e++)s=l[e],a=s._getVersion,a=a(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,a]:n.mutableSourceEagerHydrationData.push(s,a);return new no(n)},it.render=function(e,n,s){if(!ro(n))throw Error(r(200));return io(null,e,n,!1,s)},it.unmountComponentAtNode=function(e){if(!ro(e))throw Error(r(40));return e._reactRootContainer?(Wn(function(){io(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1},it.unstable_batchedUpdates=Cu,it.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!ro(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return io(e,n,s,!1,l)},it.version="18.3.1-next-f1338f8080-20240426",it}var rh;function S_(){if(rh)return Mu.exports;rh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Mu.exports=C_(),Mu.exports}var ih;function k_(){if(ih)return oo;ih=1;var i=S_();return oo.createRoot=i.createRoot,oo.hydrateRoot=i.hydrateRoot,oo}var I_=k_(),sh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(i,t){if(!i)throw Lr(t)},Lr=function(i){return new Error("Firebase Database ("+Zh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let u=i.charCodeAt(o);u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):(u&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(u=65536+((u&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},T_=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const u=i[r++];if(u<128)t[o++]=String.fromCharCode(u);else if(u>191&&u<224){const c=i[r++];t[o++]=String.fromCharCode((u&31)<<6|c&63)}else if(u>239&&u<365){const c=i[r++],f=i[r++],p=i[r++],m=((u&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],f=i[r++];t[o++]=String.fromCharCode((u&15)<<12|(c&63)<<6|f&63)}}return t.join("")},ga={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let u=0;u<i.length;u+=3){const c=i[u],f=u+1<i.length,p=f?i[u+1]:0,m=u+2<i.length,_=m?i[u+2]:0,k=c>>2,w=(c&3)<<4|p>>4;let T=(p&15)<<2|_>>6,O=_&63;m||(O=64,f||(T=64)),o.push(r[k],r[w],r[T],r[O])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(ep(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):T_(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let u=0;u<i.length;){const c=r[i.charAt(u++)],p=u<i.length?r[i.charAt(u)]:0;++u;const _=u<i.length?r[i.charAt(u)]:64;++u;const w=u<i.length?r[i.charAt(u)]:64;if(++u,c==null||p==null||_==null||w==null)throw new N_;const T=c<<2|p>>4;if(o.push(T),_!==64){const O=p<<4&240|_>>2;if(o.push(O),w!==64){const W=_<<6&192|w;o.push(W)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class N_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tp=function(i){const t=ep(i);return ga.encodeByteArray(t,!0)},fo=function(i){return tp(i).replace(/\./g,"")},Ku=function(i){try{return ga.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(i){return np(void 0,i)}function np(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!x_(r)||(i[r]=np(i[r],t[r]));return i}function x_(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=()=>P_().__FIREBASE_DEFAULTS__,A_=()=>{if(typeof process>"u"||typeof sh>"u")return;const i=sh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},O_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Ku(i[1]);return t&&JSON.parse(t)},rp=()=>{try{return D_()||A_()||O_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},M_=i=>{var t,r;return(r=(t=rp())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},L_=i=>{const t=M_(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},ip=()=>{var i;return(i=rp())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",u=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:u,exp:u+3600,auth_time:u,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[fo(JSON.stringify(r)),fo(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(z_())}function U_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B_(){return Zh.NODE_ADMIN===!0}function W_(){try{return typeof indexedDB=="object"}catch{return!1}}function j_(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(o);u.onsuccess=()=>{u.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},u.onupgradeneeded=()=>{r=!1},u.onerror=()=>{var c;t(((c=u.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="FirebaseError";class bi extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=V_,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,op.prototype.create)}}class op{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},u=`${this.service}/${t}`,c=this.errors[t],f=c?H_(c,o):"Error",p=`${this.serviceName}: ${f} (${u}).`;return new bi(u,p,o)}}function H_(i,t){return i.replace($_,(r,o)=>{const u=t[o];return u!=null?String(u):`<${o}?>`})}const $_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(i){return JSON.parse(i)}function Le(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=function(i){let t={},r={},o={},u="";try{const c=i.split(".");t=Li(Ku(c[0])||""),r=Li(Ku(c[1])||""),u=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:u}},b_=function(i){const t=lp(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},Q_=function(i){const t=lp(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Pr(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function oh(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ho(i,t,r){const o={};for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&(o[u]=t.call(r,i[u],u,i));return o}function Yu(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const u of r){if(!o.includes(u))return!1;const c=i[u],f=t[u];if(lh(c)&&lh(f)){if(!Yu(c,f))return!1}else if(c!==f)return!1}for(const u of o)if(!r.includes(u))return!1;return!0}function lh(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(u=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let w=0;w<16;w++)o[w]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let w=0;w<16;w++)o[w]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let w=16;w<80;w++){const T=o[w-3]^o[w-8]^o[w-14]^o[w-16];o[w]=(T<<1|T>>>31)&4294967295}let u=this.chain_[0],c=this.chain_[1],f=this.chain_[2],p=this.chain_[3],m=this.chain_[4],_,k;for(let w=0;w<80;w++){w<40?w<20?(_=p^c&(f^p),k=1518500249):(_=c^f^p,k=1859775393):w<60?(_=c&f|p&(c|f),k=2400959708):(_=c^f^p,k=3395469782);const T=(u<<5|u>>>27)+_+m+k+o[w]&4294967295;m=p,p=f,f=(c<<30|c>>>2)&4294967295,c=u,u=T}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let u=0;const c=this.buf_;let f=this.inbuf_;for(;u<r;){if(f===0)for(;u<=o;)this.compress_(t,u),u+=this.blockSize;if(typeof t=="string"){for(;u<r;)if(c[f]=t.charCodeAt(u),++f,++u,f===this.blockSize){this.compress_(c),f=0;break}}else for(;u<r;)if(c[f]=t[u],++f,++u,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let u=0;u<5;u++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[u]>>c&255,++o;return t}}function _a(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let u=i.charCodeAt(o);if(u>=55296&&u<=56319){const c=u-55296;o++,A(o<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(o)-56320;u=65536+(c<<10)+f}u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):u<65536?(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},Po=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(i){return i&&i._delegate?i._delegate:i}class Fi{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new xo;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:r});u&&o.resolve(u)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),u=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(u)return null;throw c}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(J_(t))try{this.getOrInitializeService({instanceIdentifier:$n})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:u});o.resolve(c)}catch{}}}}clearInstance(t=$n){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$n){return this.instances.has(t)}getOptions(t=$n){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&f.resolve(u)}return u}onInit(t,r){var o;const u=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(u))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(u,c);const f=this.instances.get(u);return f&&t(f,u),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const u of o)try{u(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:X_(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=$n){return this.component?this.component.multipleInstances?t:$n:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X_(i){return i===$n?void 0:i}function J_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new q_(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(fe||(fe={}));const ey={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},ty=fe.INFO,ny={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},ry=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),u=ny[t];if(u)console[u](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class up{constructor(t){this.name=t,this._logLevel=ty,this._logHandler=ry,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ey[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...t),this._logHandler(this,fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...t),this._logHandler(this,fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...t),this._logHandler(this,fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...t),this._logHandler(this,fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...t),this._logHandler(this,fe.ERROR,...t)}}const iy=(i,t)=>t.some(r=>i instanceof r);let uh,ah;function sy(){return uh||(uh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oy(){return ah||(ah=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ap=new WeakMap,qu=new WeakMap,cp=new WeakMap,zu=new WeakMap,ya=new WeakMap;function ly(i){const t=new Promise((r,o)=>{const u=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(kn(i.result)),u()},f=()=>{o(i.error),u()};i.addEventListener("success",c),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&ap.set(r,i)}).catch(()=>{}),ya.set(t,i),t}function uy(i){if(qu.has(i))return;const t=new Promise((r,o)=>{const u=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),u()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),u()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});qu.set(i,t)}let Xu={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return qu.get(i);if(t==="objectStoreNames")return i.objectStoreNames||cp.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return kn(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function ay(i){Xu=i(Xu)}function cy(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(Uu(this),t,...r);return cp.set(o,t.sort?t.sort():[t]),kn(o)}:oy().includes(i)?function(...t){return i.apply(Uu(this),t),kn(ap.get(this))}:function(...t){return kn(i.apply(Uu(this),t))}}function dy(i){return typeof i=="function"?cy(i):(i instanceof IDBTransaction&&uy(i),iy(i,sy())?new Proxy(i,Xu):i)}function kn(i){if(i instanceof IDBRequest)return ly(i);if(zu.has(i))return zu.get(i);const t=dy(i);return t!==i&&(zu.set(i,t),ya.set(t,i)),t}const Uu=i=>ya.get(i);function fy(i,t,{blocked:r,upgrade:o,blocking:u,terminated:c}={}){const f=indexedDB.open(i,t),p=kn(f);return o&&f.addEventListener("upgradeneeded",m=>{o(kn(f.result),m.oldVersion,m.newVersion,kn(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),u&&m.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const hy=["get","getKey","getAll","getAllKeys","count"],py=["put","add","delete","clear"],Bu=new Map;function ch(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Bu.get(t))return Bu.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,u=py.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(u||hy.includes(r)))return;const c=async function(f,...p){const m=this.transaction(f,u?"readwrite":"readonly");let _=m.store;return o&&(_=_.index(p.shift())),(await Promise.all([_[r](...p),u&&m.done]))[0]};return Bu.set(t,c),c}ay(i=>({...i,get:(t,r,o)=>ch(t,r)||i.get(t,r,o),has:(t,r)=>!!ch(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(gy(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function gy(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ju="@firebase/app",dh="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new up("@firebase/app"),_y="@firebase/app-compat",yy="@firebase/analytics-compat",vy="@firebase/analytics",wy="@firebase/app-check-compat",Ey="@firebase/app-check",Cy="@firebase/auth",Sy="@firebase/auth-compat",ky="@firebase/database",Iy="@firebase/data-connect",Ty="@firebase/database-compat",Ny="@firebase/functions",Ry="@firebase/functions-compat",xy="@firebase/installations",Py="@firebase/installations-compat",Dy="@firebase/messaging",Ay="@firebase/messaging-compat",Oy="@firebase/performance",My="@firebase/performance-compat",Ly="@firebase/remote-config",Fy="@firebase/remote-config-compat",zy="@firebase/storage",Uy="@firebase/storage-compat",By="@firebase/firestore",Wy="@firebase/vertexai",jy="@firebase/firestore-compat",Vy="firebase",Hy="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu="[DEFAULT]",$y={[Ju]:"fire-core",[_y]:"fire-core-compat",[vy]:"fire-analytics",[yy]:"fire-analytics-compat",[Ey]:"fire-app-check",[wy]:"fire-app-check-compat",[Cy]:"fire-auth",[Sy]:"fire-auth-compat",[ky]:"fire-rtdb",[Iy]:"fire-data-connect",[Ty]:"fire-rtdb-compat",[Ny]:"fire-fn",[Ry]:"fire-fn-compat",[xy]:"fire-iid",[Py]:"fire-iid-compat",[Dy]:"fire-fcm",[Ay]:"fire-fcm-compat",[Oy]:"fire-perf",[My]:"fire-perf-compat",[Ly]:"fire-rc",[Fy]:"fire-rc-compat",[zy]:"fire-gcs",[Uy]:"fire-gcs-compat",[By]:"fire-fst",[jy]:"fire-fst-compat",[Wy]:"fire-vertex","fire-js":"fire-js",[Vy]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new Map,by=new Map,ea=new Map;function fh(i,t){try{i.container.addComponent(t)}catch(r){en.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function mo(i){const t=i.name;if(ea.has(t))return en.debug(`There were multiple attempts to register component ${t}.`),!1;ea.set(t,i);for(const r of po.values())fh(r,i);for(const r of by.values())fh(r,i);return!0}function Qy(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},In=new op("app","Firebase",Gy);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=Hy;function dp(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:Zu,automaticDataCollectionEnabled:!1},t),u=o.name;if(typeof u!="string"||!u)throw In.create("bad-app-name",{appName:String(u)});if(r||(r=ip()),!r)throw In.create("no-options");const c=po.get(u);if(c){if(Yu(r,c.options)&&Yu(o,c.config))return c;throw In.create("duplicate-app",{appName:u})}const f=new Z_(u);for(const m of ea.values())f.addComponent(m);const p=new Ky(r,o,f);return po.set(u,p),p}function qy(i=Zu){const t=po.get(i);if(!t&&i===Zu&&ip())return dp();if(!t)throw In.create("no-app",{appName:i});return t}function Tr(i,t,r){var o;let u=(o=$y[i])!==null&&o!==void 0?o:i;r&&(u+=`-${r}`);const c=u.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const p=[`Unable to register library "${u}" with version "${t}":`];c&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),c&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),en.warn(p.join(" "));return}mo(new Fi(`${u}-version`,()=>({library:u,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="firebase-heartbeat-database",Jy=1,zi="firebase-heartbeat-store";let Wu=null;function fp(){return Wu||(Wu=fy(Xy,Jy,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(zi)}catch(r){console.warn(r)}}}}).catch(i=>{throw In.create("idb-open",{originalErrorMessage:i.message})})),Wu}async function Zy(i){try{const r=(await fp()).transaction(zi),o=await r.objectStore(zi).get(hp(i));return await r.done,o}catch(t){if(t instanceof bi)en.warn(t.message);else{const r=In.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});en.warn(r.message)}}}async function hh(i,t){try{const o=(await fp()).transaction(zi,"readwrite");await o.objectStore(zi).put(t,hp(i)),await o.done}catch(r){if(r instanceof bi)en.warn(r.message);else{const o=In.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});en.warn(o.message)}}}function hp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=1024,tv=30*24*60*60*1e3;class nv{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new iv(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=ph();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const p=new Date(f.date).valueOf();return Date.now()-p<=tv}),this._storage.overwrite(this._heartbeatsCache))}catch(o){en.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ph(),{heartbeatsToSend:o,unsentEntries:u}=rv(this._heartbeatsCache.heartbeats),c=fo(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return en.warn(r),""}}}function ph(){return new Date().toISOString().substring(0,10)}function rv(i,t=ev){const r=[];let o=i.slice();for(const u of i){const c=r.find(f=>f.agent===u.agent);if(c){if(c.dates.push(u.date),mh(r)>t){c.dates.pop();break}}else if(r.push({agent:u.agent,dates:[u.date]}),mh(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class iv{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W_()?j_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Zy(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return hh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return hh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...t.heartbeats]})}else return}}function mh(i){return fo(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(i){mo(new Fi("platform-logger",t=>new my(t),"PRIVATE")),mo(new Fi("heartbeat",t=>new nv(t),"PRIVATE")),Tr(Ju,dh,i),Tr(Ju,dh,"esm2017"),Tr("fire-js","")}sv("");var gh={};const _h="@firebase/database",yh="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp="";function ov(i){pp=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Le(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Li(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return Vt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new lv(t)}}catch{}return new uv},Qn=mp("localStorage"),av=mp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new up("@firebase/database"),cv=function(){let i=1;return function(){return i++}}(),gp=function(i){const t=Y_(i),r=new K_;r.update(t);const o=r.digest();return ga.encodeByteArray(o)},Qi=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Qi.apply(null,o):typeof o=="object"?t+=Le(o):t+=o,t+=" "}return t};let Pi=null,vh=!0;const dv=function(i,t){A(!0,"Can't turn on custom loggers persistently."),Nr.logLevel=fe.VERBOSE,Pi=Nr.log.bind(Nr)},Ue=function(...i){if(vh===!0&&(vh=!1,Pi===null&&av.get("logging_enabled")===!0&&dv()),Pi){const t=Qi.apply(null,i);Pi(t)}},Gi=function(i){return function(...t){Ue(i,...t)}},ta=function(...i){const t="FIREBASE INTERNAL ERROR: "+Qi(...i);Nr.error(t)},tn=function(...i){const t=`FIREBASE FATAL ERROR: ${Qi(...i)}`;throw Nr.error(t),new Error(t)},lt=function(...i){const t="FIREBASE WARNING: "+Qi(...i);Nr.warn(t)},fv=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},va=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},hv=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Dr="[MIN_NAME]",Kn="[MAX_NAME]",Jn=function(i,t){if(i===t)return 0;if(i===Dr||t===Kn)return-1;if(t===Dr||i===Kn)return 1;{const r=wh(i),o=wh(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},pv=function(i,t){return i===t?0:i<t?-1:1},Ii=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Le(t))},wa=function(i){if(typeof i!="object"||i===null)return Le(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Le(t[o]),r+=":",r+=wa(i[t[o]]);return r+="}",r},_p=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let u=0;u<r;u+=t)u+t>r?o.push(i.substring(u,r)):o.push(i.substring(u,u+t));return o};function We(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const yp=function(i){A(!va(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let u,c,f,p,m;i===0?(c=0,f=0,u=1/i===-1/0?1:0):(u=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,f=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,f=Math.round(i/Math.pow(2,1-o-r))));const _=[];for(m=r;m;m-=1)_.push(f%2?1:0),f=Math.floor(f/2);for(m=t;m;m-=1)_.push(c%2?1:0),c=Math.floor(c/2);_.push(u?1:0),_.reverse();const k=_.join("");let w="";for(m=0;m<64;m+=8){let T=parseInt(k.substr(m,8),2).toString(16);T.length===1&&(T="0"+T),w=w+T}return w.toLowerCase()},mv=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gv=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _v(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const yv=new RegExp("^-?(0*)\\d{1,10}$"),vv=-2147483648,wv=2147483647,wh=function(i){if(yv.test(i)){const t=Number(i);if(t>=vv&&t<=wv)return t}return null},Fr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw lt("Exception was thrown by user callback.",r),t},Math.floor(0))}},Ev=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Di=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){lt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lt(t)}}class co{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}co.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="5",vp="v",wp="s",Ep="r",Cp="f",Sp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kp="ls",Ip="p",na="ac",Tp="websocket",Np="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t,r,o,u,c=!1,f="",p=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Qn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function kv(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function xp(i,t,r){A(typeof t=="string","typeof type must == string"),A(typeof r=="object","typeof params must == object");let o;if(t===Tp)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Np)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);kv(i)&&(r.ns=i.namespace);const u=[];return We(r,(c,f)=>{u.push(c+"="+f)}),o+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.counters_={}}incrementCounter(t,r=1){Vt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return R_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju={},Vu={};function Ca(i){const t=i.toString();return ju[t]||(ju[t]=new Iv),ju[t]}function Tv(i,t){const r=i.toString();return Vu[r]||(Vu[r]=t()),Vu[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&Fr(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="start",Rv="close",xv="pLPCommand",Pv="pRTLPCB",Pp="id",Dp="pw",Ap="ser",Dv="cb",Av="seg",Ov="ts",Mv="d",Lv="dframe",Op=1870,Mp=30,Fv=Op-Mp,zv=25e3,Uv=3e4;class Ir{constructor(t,r,o,u,c,f,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.transportSessionId=f,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gi(t),this.stats_=Ca(r),this.urlFn=m=>(this.appCheckToken&&(m[na]=this.appCheckToken),xp(r,Np,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new Nv(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Uv)),hv(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sa((...c)=>{const[f,p,m,_,k]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Eh)this.id=p,this.password=m;else if(f===Rv)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[Eh]="t",o[Ap]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[Dv]=this.scriptTagHolder.uniqueCallbackIdentifier),o[vp]=Ea,this.transportSessionId&&(o[wp]=this.transportSessionId),this.lastSessionId&&(o[kp]=this.lastSessionId),this.applicationId&&(o[Ip]=this.applicationId),this.appCheckToken&&(o[na]=this.appCheckToken),typeof location<"u"&&location.hostname&&Sp.test(location.hostname)&&(o[Ep]=Cp);const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ir.forceAllow_=!0}static forceDisallow(){Ir.forceDisallow_=!0}static isAvailable(){return Ir.forceAllow_?!0:!Ir.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mv()&&!gv()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Le(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=tp(r),u=_p(o,Fv);for(let c=0;c<u.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[Lv]="t",o[Pp]=t,o[Dp]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Le(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Sa{constructor(t,r,o,u){this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cv(),window[xv+this.uniqueCallbackIdentifier]=t,window[Pv+this.uniqueCallbackIdentifier]=r,this.myIFrame=Sa.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(p){Ue("frame writing exception"),p.stack&&Ue(p.stack),Ue(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ue("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Pp]=this.myID,t[Dp]=this.myPW,t[Ap]=this.currentSerial;let r=this.urlFn(t),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Mp+o.length<=Op;){const f=this.pendingSegs.shift();o=o+"&"+Av+u+"="+f.seg+"&"+Ov+u+"="+f.ts+"&"+Mv+u+"="+f.d,u++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},u=setTimeout(o,Math.floor(zv)),c=()=>{clearTimeout(u),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||u==="loaded"||u==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{Ue("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=16384,Wv=45e3;let go=null;typeof MozWebSocket<"u"?go=MozWebSocket:typeof WebSocket<"u"&&(go=WebSocket);class jt{constructor(t,r,o,u,c,f,p){this.connId=t,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gi(this.connId),this.stats_=Ca(r),this.connURL=jt.connectionURL_(r,f,p,u,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,u,c){const f={};return f[vp]=Ea,typeof location<"u"&&location.hostname&&Sp.test(location.hostname)&&(f[Ep]=Cp),r&&(f[wp]=r),o&&(f[kp]=o),u&&(f[na]=u),c&&(f[Ip]=c),xp(t,Tp,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qn.set("previous_websocket_failure",!0);try{let o;B_(),this.mySock=new go(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){jt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&go!==null&&!jt.forceDisallow_}static previouslyFailed(){return Qn.isInMemoryStorage||Qn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=Li(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(A(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Le(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=_p(r,Bv);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Wv))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jt.responsesRequiredToBeHealthy=2;jt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{static get ALL_TRANSPORTS(){return[Ir,jt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=jt.isAvailable();let o=r&&!jt.previouslyFailed();if(t.webSocketOnly&&(r||lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[jt];else{const u=this.transports_=[];for(const c of Ui.ALL_TRANSPORTS)c&&c.isAvailable()&&u.push(c);Ui.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ui.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=6e4,Vv=5e3,Hv=10*1024,$v=100*1024,Hu="t",Ch="d",bv="s",Sh="r",Qv="e",kh="o",Ih="a",Th="n",Nh="p",Gv="h";class Kv{constructor(t,r,o,u,c,f,p,m,_,k){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=c,this.onMessage_=f,this.onReady_=p,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gi("c:"+this.id+":"),this.transportManager_=new Ui(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const u=t.healthyTimeout||0;u>0&&(this.healthyTimeout_=Di(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$v?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Hv?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Hu in t){const r=t[Hu];r===Ih?this.upgradeIfSecondaryHealthy_():r===Sh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===kh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Ii("t",t),o=Ii("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Nh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ih,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Th,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Ii("t",t),o=Ii("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Ii(Hu,t);if(Ch in t){const o=t[Ch];if(r===Gv){const u=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(r===Th){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===bv?this.onConnectionShutdown_(o):r===Sh?this.onReset_(o):r===Qv?ta("Server Error: "+o):r===kh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ta("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,u=t.h;this.sessionId=t.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Ea!==o&&lt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Di(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(jv))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Di(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Vv))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Nh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{put(t,r,o,u){}merge(t,r,o,u){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t){this.allowedEvents_=t,this.listeners_={},A(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const u=this.getInitialEvent(t);u&&r.apply(o,u)}off(t,r,o){this.validateEventType_(t);const u=this.listeners_[t]||[];for(let c=0;c<u.length;c++)if(u[c].callback===r&&(!o||o===u[c].context)){u.splice(c,1);return}}validateEventType_(t){A(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Fp{static getInstance(){return new _o}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return A(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=32,xh=768;class ue{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function se(){return new ue("")}function Z(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Nn(i){return i.pieces_.length-i.pieceNum_}function he(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new ue(i.pieces_,t)}function ka(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function Yv(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function Bi(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function zp(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new ue(t,0)}function Ce(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof ue)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&r.push(o[u])}return new ue(r,0)}function ee(i){return i.pieceNum_>=i.pieces_.length}function st(i,t){const r=Z(i),o=Z(t);if(r===null)return t;if(r===o)return st(he(i),he(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function qv(i,t){const r=Bi(i,0),o=Bi(t,0);for(let u=0;u<r.length&&u<o.length;u++){const c=Jn(r[u],o[u]);if(c!==0)return c}return r.length===o.length?0:r.length<o.length?-1:1}function Ia(i,t){if(Nn(i)!==Nn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Et(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Nn(i)>Nn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class Xv{constructor(t,r){this.errorPrefix_=r,this.parts_=Bi(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Po(this.parts_[o]);Up(this)}}function Jv(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Po(t),Up(i)}function Zv(i){const t=i.parts_.pop();i.byteLength_-=Po(t),i.parts_.length>0&&(i.byteLength_-=1)}function Up(i){if(i.byteLength_>xh)throw new Error(i.errorPrefix_+"has a key path longer than "+xh+" bytes ("+i.byteLength_+").");if(i.parts_.length>Rh)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Rh+") or object contains a cycle "+bn(i))}function bn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Fp{static getInstance(){return new Ta}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return A(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=1e3,ew=60*5*1e3,Ph=30*1e3,tw=1.3,nw=3e4,rw="server_kill",Dh=3;class Zt extends Lp{constructor(t,r,o,u,c,f,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=Zt.nextPersistentConnectionId_++,this.log_=Gi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ti,this.maxReconnectDelay_=ew,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ta.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&_o.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const u=++this.requestNumber_,c={r:u,a:t,b:r};this.log_(Le(c)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[u]=o)}get(t){this.initConnection_();const r=new xo,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const p=f.d;f.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,u){this.initConnection_();const c=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const p={onComplete:u,hashFn:r,query:t,tag:o};this.listens.get(f).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+o+" for "+u);const c={p:o},f="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(f,c,p=>{const m=p.d,_=p.s;Zt.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(u))===t&&(this.log_("listen response",p),_!=="ok"&&this.removeListen_(o,u),t.onComplete&&t.onComplete(_,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&Vt(t,"w")){const o=Pr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();lt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Q_(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ph)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=b_(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,u=>{const c=u.s,f=u.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,t._queryObject,r)}sendUnlisten_(t,r,o,u){this.log_("Unlisten on "+t+" for "+r);const c={p:t},f="n";u&&(c.q=o,c.t=u),this.sendRequest(f,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,u){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,f=>{u&&setTimeout(()=>{u(f.s,f.d)},Math.floor(0))})}put(t,r,o,u){this.putInternal("p",t,r,o,u)}merge(t,r,o,u){this.putInternal("m",t,r,o,u)}putInternal(t,r,o,u,c){this.initConnection_();const f={p:r,d:o};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:t,request:f,onComplete:u}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Le(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):ta("Unrecognized action received from server: "+Le(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ti,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ti,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>nw&&(this.reconnectDelay_=Ti),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*tw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+Zt.nextConnectionId_++,c=this.lastSessionId;let f=!1,p=null;const m=function(){p?p.close():(f=!0,o())},_=function(w){A(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(w)};this.realtime_={close:m,sendRequest:_};const k=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,T]=await Promise.all([this.authTokenProvider_.getToken(k),this.appCheckTokenProvider_.getToken(k)]);f?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=T&&T.token,p=new Kv(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,O=>{lt(O+" ("+this.repoInfo_.toString()+")"),this.interrupt(rw)},c))}catch(w){this.log_("Failed to get token: "+w),f||(this.repoInfo_.nodeAdmin&&lt(w),m())}}}interrupt(t){Ue("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ue("Resuming connection for reason: "+t),delete this.interruptReasons_[t],oh(this.interruptReasons_)&&(this.reconnectDelay_=Ti,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>wa(c)).join("$"):o="default";const u=this.removeListen_(t,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,r){const o=new ue(t).toString();let u;if(this.listens.has(o)){const c=this.listens.get(o);u=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(t,r){Ue("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Dh&&(this.reconnectDelay_=Ph,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ue("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Dh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+pp.replace(/\./g,"-")]=1,sp()?t["framework.cordova"]=1:U_()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=_o.getInstance().currentlyOnline();return oh(this.interruptReasons_)&&t}}Zt.nextPersistentConnectionId_=0;Zt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new X(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new X(Dr,t),u=new X(Dr,r);return this.compare(o,u)!==0}minPost(){return X.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo;class Bp extends Ao{static get __EMPTY_NODE(){return lo}static set __EMPTY_NODE(t){lo=t}compare(t,r){return Jn(t.name,r.name)}isDefinedOn(t){throw Lr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return X.MIN}maxPost(){return new X(Kn,lo)}makePost(t,r){return A(typeof t=="string","KeyIndex indexValue must always be a string."),new X(t,lo)}toString(){return".key"}}const Rr=new Bp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t,r,o,u,c=null){this.isReverse_=u,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=r?o(t.key,r):1,u&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Me{constructor(t,r,o,u,c){this.key=t,this.value=r,this.color=o??Me.RED,this.left=u??ot.EMPTY_NODE,this.right=c??ot.EMPTY_NODE}copy(t,r,o,u,c){return new Me(t??this.key,r??this.value,o??this.color,u??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let u=this;const c=o(t,u.key);return c<0?u=u.copy(null,null,null,u.left.insert(t,r,o),null):c===0?u=u.copy(null,r,null,null,null):u=u.copy(null,null,null,null,u.right.insert(t,r,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return ot.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,u;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return ot.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Me.RED=!0;Me.BLACK=!1;class iw{copy(t,r,o,u,c){return this}insert(t,r,o){return new Me(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ot{constructor(t,r=ot.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ot(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,Me.BLACK,null,null))}remove(t){return new ot(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Me.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,u=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(u=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new uo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new uo(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new uo(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new uo(this.root_,null,this.comparator_,!0,t)}}ot.EMPTY_NODE=new iw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(i,t){return Jn(i.name,t.name)}function Na(i,t){return Jn(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra;function ow(i){ra=i}const Wp=function(i){return typeof i=="number"?"number:"+yp(i):"string:"+i},jp=function(i){if(i.isLeafNode()){const t=i.val();A(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Vt(t,".sv"),"Priority must be a string or number.")}else A(i===ra||i.isEmpty(),"priority of unexpected type.");A(i===ra||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah;class Oe{static set __childrenNodeConstructor(t){Ah=t}static get __childrenNodeConstructor(){return Ah}constructor(t,r=Oe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,A(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Oe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Oe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ee(t)?this:Z(t)===".priority"?this.priorityNode_:Oe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Oe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=Z(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(A(o!==".priority"||Nn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Oe.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Wp(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=yp(this.value_):t+=this.value_,this.lazyHash_=gp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Oe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Oe.__childrenNodeConstructor?-1:(A(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,u=Oe.VALUE_TYPE_ORDER.indexOf(r),c=Oe.VALUE_TYPE_ORDER.indexOf(o);return A(u>=0,"Unknown leaf type: "+r),A(c>=0,"Unknown leaf type: "+o),u===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-u}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Oe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp,Hp;function lw(i){Vp=i}function uw(i){Hp=i}class aw extends Ao{compare(t,r){const o=t.node.getPriority(),u=r.node.getPriority(),c=o.compareTo(u);return c===0?Jn(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return X.MIN}maxPost(){return new X(Kn,new Oe("[PRIORITY-POST]",Hp))}makePost(t,r){const o=Vp(t);return new X(r,new Oe("[PRIORITY-POST]",o))}toString(){return".priority"}}const Se=new aw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=Math.log(2);class dw{constructor(t){const r=c=>parseInt(Math.log(c)/cw,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const u=o(this.count);this.bits_=t+1&u}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const yo=function(i,t,r,o){i.sort(t);const u=function(m,_){const k=_-m;let w,T;if(k===0)return null;if(k===1)return w=i[m],T=r?r(w):w,new Me(T,w.node,Me.BLACK,null,null);{const O=parseInt(k/2,10)+m,W=u(m,O),$=u(O+1,_);return w=i[O],T=r?r(w):w,new Me(T,w.node,Me.BLACK,W,$)}},c=function(m){let _=null,k=null,w=i.length;const T=function(W,$){const K=w-W,je=w;w-=W;const Qe=u(K+1,je),Ge=i[K],xe=r?r(Ge):Ge;O(new Me(xe,Ge.node,$,null,Qe))},O=function(W){_?(_.left=W,_=W):(k=W,_=W)};for(let W=0;W<m.count;++W){const $=m.nextBitIsOne(),K=Math.pow(2,m.count-(W+1));$?T(K,Me.BLACK):(T(K,Me.BLACK),T(K,Me.RED))}return k},f=new dw(i.length),p=c(f);return new ot(o||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u;const Ni={};class Jt{static get Default(){return A(Se,"ChildrenNode.ts has not been loaded"),$u=$u||new Jt({".priority":Ni},{".priority":Se}),$u}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Pr(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ot?r:null}hasIndex(t){return Vt(this.indexSet_,t.toString())}addIndex(t,r){A(t!==Rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const c=r.getIterator(X.Wrap);let f=c.getNext();for(;f;)u=u||t.isDefinedOn(f.node),o.push(f),f=c.getNext();let p;u?p=yo(o,t.getCompare()):p=Ni;const m=t.toString(),_=Object.assign({},this.indexSet_);_[m]=t;const k=Object.assign({},this.indexes_);return k[m]=p,new Jt(k,_)}addToIndexes(t,r){const o=ho(this.indexes_,(u,c)=>{const f=Pr(this.indexSet_,c);if(A(f,"Missing index implementation for "+c),u===Ni)if(f.isDefinedOn(t.node)){const p=[],m=r.getIterator(X.Wrap);let _=m.getNext();for(;_;)_.name!==t.name&&p.push(_),_=m.getNext();return p.push(t),yo(p,f.getCompare())}else return Ni;else{const p=r.get(t.name);let m=u;return p&&(m=m.remove(new X(t.name,p))),m.insert(t,t.node)}});return new Jt(o,this.indexSet_)}removeFromIndexes(t,r){const o=ho(this.indexes_,u=>{if(u===Ni)return u;{const c=r.get(t.name);return c?u.remove(new X(t.name,c)):u}});return new Jt(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ri;class Q{static get EMPTY_NODE(){return Ri||(Ri=new Q(new ot(Na),null,Jt.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&jp(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ri}updatePriority(t){return this.children_.isEmpty()?this:new Q(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Ri:r}}getChild(t){const r=Z(t);return r===null?this:this.getImmediateChild(r).getChild(he(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(A(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new X(t,r);let u,c;r.isEmpty()?(u=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const f=u.isEmpty()?Ri:this.priorityNode_;return new Q(u,f,c)}}updateChild(t,r){const o=Z(t);if(o===null)return r;{A(Z(t)!==".priority"||Nn(t)===1,".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(he(t),r);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,u=0,c=!0;if(this.forEachChild(Se,(f,p)=>{r[f]=p.val(t),o++,c&&Q.INTEGER_REGEXP_.test(f)?u=Math.max(u,Number(f)):c=!1}),!t&&c&&u<2*o){const f=[];for(const p in r)f[p]=r[p];return f}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Wp(this.getPriority().val())+":"),this.forEachChild(Se,(r,o)=>{const u=o.hash();u!==""&&(t+=":"+r+":"+u)}),this.lazyHash_=t===""?"":gp(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const u=this.resolveIndex_(o);if(u){const c=u.getPredecessorKey(new X(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new X(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new X(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,X.Wrap);let c=u.peek();for(;c!=null&&r.compare(c,t)<0;)u.getNext(),c=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,X.Wrap);let c=u.peek();for(;c!=null&&r.compare(c,t)>0;)u.getNext(),c=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ki?-1:0}withIndex(t){if(t===Rr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new Q(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Rr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Se),u=r.getIterator(Se);let c=o.getNext(),f=u.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=o.getNext(),f=u.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Rr?null:this.indexMap_.get(t.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fw extends Q{constructor(){super(new ot(Na),Q.EMPTY_NODE,Jt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Q.EMPTY_NODE}isEmpty(){return!1}}const Ki=new fw;Object.defineProperties(X,{MIN:{value:new X(Dr,Q.EMPTY_NODE)},MAX:{value:new X(Kn,Ki)}});Bp.__EMPTY_NODE=Q.EMPTY_NODE;Oe.__childrenNodeConstructor=Q;ow(Ki);uw(Ki);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=!0;function Be(i,t=null){if(i===null)return Q.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),A(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Oe(r,Be(t))}if(!(i instanceof Array)&&hw){const r=[];let o=!1;if(We(i,(f,p)=>{if(f.substring(0,1)!=="."){const m=Be(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new X(f,m)))}}),r.length===0)return Q.EMPTY_NODE;const c=yo(r,sw,f=>f.name,Na);if(o){const f=yo(r,Se.getCompare());return new Q(c,Be(t),new Jt({".priority":f},{".priority":Se}))}else return new Q(c,Be(t),Jt.Default)}else{let r=Q.EMPTY_NODE;return We(i,(o,u)=>{if(Vt(i,o)&&o.substring(0,1)!=="."){const c=Be(u);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(Be(t))}}lw(Be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends Ao{constructor(t){super(),this.indexPath_=t,A(!ee(t)&&Z(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),u=this.extractChild(r.node),c=o.compareTo(u);return c===0?Jn(t.name,r.name):c}makePost(t,r){const o=Be(t),u=Q.EMPTY_NODE.updateChild(this.indexPath_,o);return new X(r,u)}maxPost(){const t=Q.EMPTY_NODE.updateChild(this.indexPath_,Ki);return new X(Kn,t)}toString(){return Bi(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw extends Ao{compare(t,r){const o=t.node.compareTo(r.node);return o===0?Jn(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return X.MIN}maxPost(){return X.MAX}makePost(t,r){const o=Be(t);return new X(r,o)}toString(){return".value"}}const gw=new mw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(i){return{type:"value",snapshotNode:i}}function Ar(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Wi(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function ji(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function _w(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t){this.index_=t}updateChild(t,r,o,u,c,f){A(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(r);return p.getChild(u).equals(o.getChild(u))&&p.isEmpty()===o.isEmpty()||(f!=null&&(o.isEmpty()?t.hasChild(r)?f.trackChildChange(Wi(r,p)):A(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?f.trackChildChange(Ar(r,o)):f.trackChildChange(ji(r,o,p))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Se,(u,c)=>{r.hasChild(u)||o.trackChildChange(Wi(u,c))}),r.isLeafNode()||r.forEachChild(Se,(u,c)=>{if(t.hasChild(u)){const f=t.getImmediateChild(u);f.equals(c)||o.trackChildChange(ji(u,c,f))}else o.trackChildChange(Ar(u,c))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?Q.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this.indexedFilter_=new Ra(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Vi.getStartPost_(t),this.endPost_=Vi.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,u,c,f){return this.matches(new X(r,o))||(o=Q.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,u,c,f)}updateFullNode(t,r,o){r.isLeafNode()&&(r=Q.EMPTY_NODE);let u=r.withIndex(this.index_);u=u.updatePriority(Q.EMPTY_NODE);const c=this;return r.forEachChild(Se,(f,p)=>{c.matches(new X(f,p))||(u=u.updateImmediateChild(f,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,u,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Vi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,u,c,f){return this.rangedFilter_.matches(new X(r,o))||(o=Q.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,u,c,f):this.fullLimitUpdateChild_(t,r,o,c,f)}updateFullNode(t,r,o){let u;if(r.isLeafNode()||r.isEmpty())u=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){u=Q.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const p=c.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))u=u.updateImmediateChild(p.name,p.node),f++;else break;else continue}}else{u=r.withIndex(this.index_),u=u.updatePriority(Q.EMPTY_NODE);let c;this.reverse_?c=u.getReverseIterator(this.index_):c=u.getIterator(this.index_);let f=0;for(;c.hasNext();){const p=c.getNext();f<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?f++:u=u.updateImmediateChild(p.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,u,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,u,c){let f;if(this.reverse_){const w=this.index_.getCompare();f=(T,O)=>w(O,T)}else f=this.index_.getCompare();const p=t;A(p.numChildren()===this.limit_,"");const m=new X(r,o),_=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),k=this.rangedFilter_.matches(m);if(p.hasChild(r)){const w=p.getImmediateChild(r);let T=u.getChildAfterChild(this.index_,_,this.reverse_);for(;T!=null&&(T.name===r||p.hasChild(T.name));)T=u.getChildAfterChild(this.index_,T,this.reverse_);const O=T==null?1:f(T,m);if(k&&!o.isEmpty()&&O>=0)return c!=null&&c.trackChildChange(ji(r,o,w)),p.updateImmediateChild(r,o);{c!=null&&c.trackChildChange(Wi(r,w));const $=p.updateImmediateChild(r,Q.EMPTY_NODE);return T!=null&&this.rangedFilter_.matches(T)?(c!=null&&c.trackChildChange(Ar(T.name,T.node)),$.updateImmediateChild(T.name,T.node)):$}}else return o.isEmpty()?t:k&&f(_,m)>=0?(c!=null&&(c.trackChildChange(Wi(_.name,_.node)),c.trackChildChange(Ar(r,o))),p.updateImmediateChild(r,o).updateImmediateChild(_.name,Q.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Se}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Dr}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Kn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Se}copy(){const t=new xa;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function vw(i){return i.loadsAllData()?new Ra(i.getIndex()):i.hasLimit()?new yw(i):new Vi(i)}function Oh(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Se?r="$priority":i.index_===gw?r="$value":i.index_===Rr?r="$key":(A(i.index_ instanceof pw,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Le(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Le(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Le(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Le(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Le(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Mh(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Se&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Lp{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(A(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,u){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=Gi("p:rest:"),this.listens_={}}listen(t,r,o,u){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=vo.getListenId_(t,o),p={};this.listens_[f]=p;const m=Oh(t._queryParams);this.restRequest_(c+".json",m,(_,k)=>{let w=k;if(_===404&&(w=null,_=null),_===null&&this.onDataUpdate_(c,w,!1,o),Pr(this.listens_,f)===p){let T;_?_===401?T="permission_denied":T="rest_error:"+_:T="ok",u(T,null)}})}unlisten(t,r){const o=vo.getListenId_(t,r);delete this.listens_[o]}get(t){const r=Oh(t._queryParams),o=t._path.toString(),u=new xo;return this.restRequest_(o+".json",r,(c,f)=>{let p=f;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),u.resolve(p)):u.reject(new Error(p))}),u.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,c])=>{u&&u.accessToken&&(r.auth=u.accessToken),c&&c.token&&(r.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+G_(r);this.log_("Sending REST request for "+f);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=Li(p.responseText)}catch{lt("Failed to parse JSON response for "+f+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&lt("Got unsuccessful REST response for "+f+" Status: "+p.status),o(p.status);o=null}},p.open("GET",f,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(){return{value:null,children:new Map}}function bp(i,t,r){if(ee(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=Z(t);i.children.has(o)||i.children.set(o,wo());const u=i.children.get(o);t=he(t),bp(u,t,r)}}function ia(i,t,r){i.value!==null?r(t,i.value):Ew(i,(o,u)=>{const c=new ue(t.toString()+"/"+o);ia(u,c,r)})}function Ew(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&We(this.last_,(o,u)=>{r[o]=r[o]-u}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=10*1e3,Sw=30*1e3,kw=5*60*1e3;class Iw{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new Cw(t);const o=Lh+(Sw-Lh)*Math.random();Di(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;We(t,(u,c)=>{c>0&&Vt(this.statsToReport_,u)&&(r[u]=c,o=!0)}),o&&this.server_.reportStats(r),Di(this.reportStats_.bind(this),Math.floor(Math.random()*2*kw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(At||(At={}));function Pa(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Da(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Aa(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=At.ACK_USER_WRITE,this.source=Pa()}operationForChild(t){if(ee(this.path)){if(this.affectedTree.value!=null)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ue(t));return new Eo(se(),r,this.revert)}}else return A(Z(this.path)===t,"operationForChild called for unrelated child."),new Eo(he(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,r){this.source=t,this.path=r,this.type=At.LISTEN_COMPLETE}operationForChild(t){return ee(this.path)?new Hi(this.source,se()):new Hi(this.source,he(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=At.OVERWRITE}operationForChild(t){return ee(this.path)?new Yn(this.source,se(),this.snap.getImmediateChild(t)):new Yn(this.source,he(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=At.MERGE}operationForChild(t){if(ee(this.path)){const r=this.children.subtree(new ue(t));return r.isEmpty()?null:r.value?new Yn(this.source,se(),r.value):new Or(this.source,se(),r)}else return A(Z(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Or(this.source,he(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ee(t))return this.isFullyInitialized()&&!this.filtered_;const r=Z(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Nw(i,t,r,o){const u=[],c=[];return t.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(_w(f.childName,f.snapshotNode))}),xi(i,u,"child_removed",t,o,r),xi(i,u,"child_added",t,o,r),xi(i,u,"child_moved",c,o,r),xi(i,u,"child_changed",t,o,r),xi(i,u,"value",t,o,r),u}function xi(i,t,r,o,u,c){const f=o.filter(p=>p.type===r);f.sort((p,m)=>xw(i,p,m)),f.forEach(p=>{const m=Rw(i,p,c);u.forEach(_=>{_.respondsTo(p.type)&&t.push(_.createEvent(m,i.query_))})})}function Rw(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function xw(i,t,r){if(t.childName==null||r.childName==null)throw Lr("Should only compare child_ events.");const o=new X(t.childName,t.snapshotNode),u=new X(r.childName,r.snapshotNode);return i.index_.compare(o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(i,t){return{eventCache:i,serverCache:t}}function Ai(i,t,r,o){return Oo(new qn(t,r,o),i.serverCache)}function Qp(i,t,r,o){return Oo(i.eventCache,new qn(t,r,o))}function sa(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Xn(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu;const Pw=()=>(bu||(bu=new ot(pv)),bu);class de{static fromObject(t){let r=new de(null);return We(t,(o,u)=>{r=r.set(new ue(o),u)}),r}constructor(t,r=Pw()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:se(),value:this.value};if(ee(t))return null;{const o=Z(t),u=this.children.get(o);if(u!==null){const c=u.findRootMostMatchingPathAndValue(he(t),r);return c!=null?{path:Ce(new ue(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ee(t))return this;{const r=Z(t),o=this.children.get(r);return o!==null?o.subtree(he(t)):new de(null)}}set(t,r){if(ee(t))return new de(r,this.children);{const o=Z(t),c=(this.children.get(o)||new de(null)).set(he(t),r),f=this.children.insert(o,c);return new de(this.value,f)}}remove(t){if(ee(t))return this.children.isEmpty()?new de(null):new de(null,this.children);{const r=Z(t),o=this.children.get(r);if(o){const u=o.remove(he(t));let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),this.value===null&&c.isEmpty()?new de(null):new de(this.value,c)}else return this}}get(t){if(ee(t))return this.value;{const r=Z(t),o=this.children.get(r);return o?o.get(he(t)):null}}setTree(t,r){if(ee(t))return r;{const o=Z(t),c=(this.children.get(o)||new de(null)).setTree(he(t),r);let f;return c.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,c),new de(this.value,f)}}fold(t){return this.fold_(se(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((u,c)=>{o[u]=c.fold_(Ce(t,u),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,se(),r)}findOnPath_(t,r,o){const u=this.value?o(r,this.value):!1;if(u)return u;if(ee(t))return null;{const c=Z(t),f=this.children.get(c);return f?f.findOnPath_(he(t),Ce(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,se(),r)}foreachOnPath_(t,r,o){if(ee(t))return this;{this.value&&o(r,this.value);const u=Z(t),c=this.children.get(u);return c?c.foreachOnPath_(he(t),Ce(r,u),o):new de(null)}}foreach(t){this.foreach_(se(),t)}foreach_(t,r){this.children.inorderTraversal((o,u)=>{u.foreach_(Ce(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.writeTree_=t}static empty(){return new Ot(new de(null))}}function Oi(i,t,r){if(ee(t))return new Ot(new de(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const u=o.path;let c=o.value;const f=st(u,t);return c=c.updateChild(f,r),new Ot(i.writeTree_.set(u,c))}else{const u=new de(r),c=i.writeTree_.setTree(t,u);return new Ot(c)}}}function oa(i,t,r){let o=i;return We(r,(u,c)=>{o=Oi(o,Ce(t,u),c)}),o}function Fh(i,t){if(ee(t))return Ot.empty();{const r=i.writeTree_.setTree(t,new de(null));return new Ot(r)}}function la(i,t){return Zn(i,t)!=null}function Zn(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(st(r.path,t)):null}function zh(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Se,(o,u)=>{t.push(new X(o,u))}):i.writeTree_.children.inorderTraversal((o,u)=>{u.value!=null&&t.push(new X(o,u.value))}),t}function Tn(i,t){if(ee(t))return i;{const r=Zn(i,t);return r!=null?new Ot(new de(r)):new Ot(i.writeTree_.subtree(t))}}function ua(i){return i.writeTree_.isEmpty()}function Mr(i,t){return Gp(se(),i.writeTree_,t)}function Gp(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((u,c)=>{u===".priority"?(A(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=Gp(Ce(i,u),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Ce(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(i,t){return Xp(t,i)}function Dw(i,t,r,o,u){A(o>i.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:u}),u&&(i.visibleWrites=Oi(i.visibleWrites,t,r)),i.lastWriteId=o}function Aw(i,t,r,o){A(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:r,writeId:o,visible:!0}),i.visibleWrites=oa(i.visibleWrites,t,r),i.lastWriteId=o}function Ow(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function Mw(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);A(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let u=o.visible,c=!1,f=i.allWrites.length-1;for(;u&&f>=0;){const p=i.allWrites[f];p.visible&&(f>=r&&Lw(p,o.path)?u=!1:Et(o.path,p.path)&&(c=!0)),f--}if(u){if(c)return Fw(i),!0;if(o.snap)i.visibleWrites=Fh(i.visibleWrites,o.path);else{const p=o.children;We(p,m=>{i.visibleWrites=Fh(i.visibleWrites,Ce(o.path,m))})}return!0}else return!1}function Lw(i,t){if(i.snap)return Et(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Et(Ce(i.path,r),t))return!0;return!1}function Fw(i){i.visibleWrites=Kp(i.allWrites,zw,se()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function zw(i){return i.visible}function Kp(i,t,r){let o=Ot.empty();for(let u=0;u<i.length;++u){const c=i[u];if(t(c)){const f=c.path;let p;if(c.snap)Et(r,f)?(p=st(r,f),o=Oi(o,p,c.snap)):Et(f,r)&&(p=st(f,r),o=Oi(o,se(),c.snap.getChild(p)));else if(c.children){if(Et(r,f))p=st(r,f),o=oa(o,p,c.children);else if(Et(f,r))if(p=st(f,r),ee(p))o=oa(o,se(),c.children);else{const m=Pr(c.children,Z(p));if(m){const _=m.getChild(he(p));o=Oi(o,se(),_)}}}else throw Lr("WriteRecord should have .snap or .children")}}return o}function Yp(i,t,r,o,u){if(!o&&!u){const c=Zn(i.visibleWrites,t);if(c!=null)return c;{const f=Tn(i.visibleWrites,t);if(ua(f))return r;if(r==null&&!la(f,se()))return null;{const p=r||Q.EMPTY_NODE;return Mr(f,p)}}}else{const c=Tn(i.visibleWrites,t);if(!u&&ua(c))return r;if(!u&&r==null&&!la(c,se()))return null;{const f=function(_){return(_.visible||u)&&(!o||!~o.indexOf(_.writeId))&&(Et(_.path,t)||Et(t,_.path))},p=Kp(i.allWrites,f,t),m=r||Q.EMPTY_NODE;return Mr(p,m)}}}function Uw(i,t,r){let o=Q.EMPTY_NODE;const u=Zn(i.visibleWrites,t);if(u)return u.isLeafNode()||u.forEachChild(Se,(c,f)=>{o=o.updateImmediateChild(c,f)}),o;if(r){const c=Tn(i.visibleWrites,t);return r.forEachChild(Se,(f,p)=>{const m=Mr(Tn(c,new ue(f)),p);o=o.updateImmediateChild(f,m)}),zh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const c=Tn(i.visibleWrites,t);return zh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function Bw(i,t,r,o,u){A(o||u,"Either existingEventSnap or existingServerSnap must exist");const c=Ce(t,r);if(la(i.visibleWrites,c))return null;{const f=Tn(i.visibleWrites,c);return ua(f)?u.getChild(r):Mr(f,u.getChild(r))}}function Ww(i,t,r,o){const u=Ce(t,r),c=Zn(i.visibleWrites,u);if(c!=null)return c;if(o.isCompleteForChild(r)){const f=Tn(i.visibleWrites,u);return Mr(f,o.getNode().getImmediateChild(r))}else return null}function jw(i,t){return Zn(i.visibleWrites,t)}function Vw(i,t,r,o,u,c,f){let p;const m=Tn(i.visibleWrites,t),_=Zn(m,se());if(_!=null)p=_;else if(r!=null)p=Mr(m,r);else return[];if(p=p.withIndex(f),!p.isEmpty()&&!p.isLeafNode()){const k=[],w=f.getCompare(),T=c?p.getReverseIteratorFrom(o,f):p.getIteratorFrom(o,f);let O=T.getNext();for(;O&&k.length<u;)w(O,o)!==0&&k.push(O),O=T.getNext();return k}else return[]}function Hw(){return{visibleWrites:Ot.empty(),allWrites:[],lastWriteId:-1}}function Co(i,t,r,o){return Yp(i.writeTree,i.treePath,t,r,o)}function Ma(i,t){return Uw(i.writeTree,i.treePath,t)}function Uh(i,t,r,o){return Bw(i.writeTree,i.treePath,t,r,o)}function So(i,t){return jw(i.writeTree,Ce(i.treePath,t))}function $w(i,t,r,o,u,c){return Vw(i.writeTree,i.treePath,t,r,o,u,c)}function La(i,t,r){return Ww(i.writeTree,i.treePath,t,r)}function qp(i,t){return Xp(Ce(i.treePath,t),i.writeTree)}function Xp(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;A(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),A(o!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const c=u.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,ji(o,t.snapshotNode,u.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,Wi(o,u.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,Ar(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,ji(o,t.snapshotNode,u.oldSnap));else throw Lr("Illegal combination of changes: "+t+" occurred after "+u)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const Jp=new Qw;class Fa{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new qn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return La(this.writes_,t,o)}}getChildAfterChild(t,r,o){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xn(this.viewCache_),c=$w(this.writes_,u,r,1,o,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(i){return{filter:i}}function Kw(i,t){A(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),A(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function Yw(i,t,r,o,u){const c=new bw;let f,p;if(r.type===At.OVERWRITE){const _=r;_.source.fromUser?f=aa(i,t,_.path,_.snap,o,u,c):(A(_.source.fromServer,"Unknown source."),p=_.source.tagged||t.serverCache.isFiltered()&&!ee(_.path),f=ko(i,t,_.path,_.snap,o,u,p,c))}else if(r.type===At.MERGE){const _=r;_.source.fromUser?f=Xw(i,t,_.path,_.children,o,u,c):(A(_.source.fromServer,"Unknown source."),p=_.source.tagged||t.serverCache.isFiltered(),f=ca(i,t,_.path,_.children,o,u,p,c))}else if(r.type===At.ACK_USER_WRITE){const _=r;_.revert?f=eE(i,t,_.path,o,u,c):f=Jw(i,t,_.path,_.affectedTree,o,u,c)}else if(r.type===At.LISTEN_COMPLETE)f=Zw(i,t,r.path,o,c);else throw Lr("Unknown operation type: "+r.type);const m=c.getChanges();return qw(t,f,m),{viewCache:f,changes:m}}function qw(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=sa(i);(r.length>0||!i.eventCache.isFullyInitialized()||u&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push($p(sa(t)))}}function Zp(i,t,r,o,u,c){const f=t.eventCache;if(So(o,r)!=null)return t;{let p,m;if(ee(r))if(A(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=Xn(t),k=_ instanceof Q?_:Q.EMPTY_NODE,w=Ma(o,k);p=i.filter.updateFullNode(t.eventCache.getNode(),w,c)}else{const _=Co(o,Xn(t));p=i.filter.updateFullNode(t.eventCache.getNode(),_,c)}else{const _=Z(r);if(_===".priority"){A(Nn(r)===1,"Can't have a priority with additional path components");const k=f.getNode();m=t.serverCache.getNode();const w=Uh(o,r,k,m);w!=null?p=i.filter.updatePriority(k,w):p=f.getNode()}else{const k=he(r);let w;if(f.isCompleteForChild(_)){m=t.serverCache.getNode();const T=Uh(o,r,f.getNode(),m);T!=null?w=f.getNode().getImmediateChild(_).updateChild(k,T):w=f.getNode().getImmediateChild(_)}else w=La(o,_,t.serverCache);w!=null?p=i.filter.updateChild(f.getNode(),_,w,k,u,c):p=f.getNode()}}return Ai(t,p,f.isFullyInitialized()||ee(r),i.filter.filtersNodes())}}function ko(i,t,r,o,u,c,f,p){const m=t.serverCache;let _;const k=f?i.filter:i.filter.getIndexedFilter();if(ee(r))_=k.updateFullNode(m.getNode(),o,null);else if(k.filtersNodes()&&!m.isFiltered()){const O=m.getNode().updateChild(r,o);_=k.updateFullNode(m.getNode(),O,null)}else{const O=Z(r);if(!m.isCompleteForPath(r)&&Nn(r)>1)return t;const W=he(r),K=m.getNode().getImmediateChild(O).updateChild(W,o);O===".priority"?_=k.updatePriority(m.getNode(),K):_=k.updateChild(m.getNode(),O,K,W,Jp,null)}const w=Qp(t,_,m.isFullyInitialized()||ee(r),k.filtersNodes()),T=new Fa(u,w,c);return Zp(i,w,r,u,T,p)}function aa(i,t,r,o,u,c,f){const p=t.eventCache;let m,_;const k=new Fa(u,t,c);if(ee(r))_=i.filter.updateFullNode(t.eventCache.getNode(),o,f),m=Ai(t,_,!0,i.filter.filtersNodes());else{const w=Z(r);if(w===".priority")_=i.filter.updatePriority(t.eventCache.getNode(),o),m=Ai(t,_,p.isFullyInitialized(),p.isFiltered());else{const T=he(r),O=p.getNode().getImmediateChild(w);let W;if(ee(T))W=o;else{const $=k.getCompleteChild(w);$!=null?ka(T)===".priority"&&$.getChild(zp(T)).isEmpty()?W=$:W=$.updateChild(T,o):W=Q.EMPTY_NODE}if(O.equals(W))m=t;else{const $=i.filter.updateChild(p.getNode(),w,W,T,k,f);m=Ai(t,$,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Bh(i,t){return i.eventCache.isCompleteForChild(t)}function Xw(i,t,r,o,u,c,f){let p=t;return o.foreach((m,_)=>{const k=Ce(r,m);Bh(t,Z(k))&&(p=aa(i,p,k,_,u,c,f))}),o.foreach((m,_)=>{const k=Ce(r,m);Bh(t,Z(k))||(p=aa(i,p,k,_,u,c,f))}),p}function Wh(i,t,r){return r.foreach((o,u)=>{t=t.updateChild(o,u)}),t}function ca(i,t,r,o,u,c,f,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,_;ee(r)?_=o:_=new de(null).setTree(r,o);const k=t.serverCache.getNode();return _.children.inorderTraversal((w,T)=>{if(k.hasChild(w)){const O=t.serverCache.getNode().getImmediateChild(w),W=Wh(i,O,T);m=ko(i,m,new ue(w),W,u,c,f,p)}}),_.children.inorderTraversal((w,T)=>{const O=!t.serverCache.isCompleteForChild(w)&&T.value===null;if(!k.hasChild(w)&&!O){const W=t.serverCache.getNode().getImmediateChild(w),$=Wh(i,W,T);m=ko(i,m,new ue(w),$,u,c,f,p)}}),m}function Jw(i,t,r,o,u,c,f){if(So(u,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(ee(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return ko(i,t,r,m.getNode().getChild(r),u,c,p,f);if(ee(r)){let _=new de(null);return m.getNode().forEachChild(Rr,(k,w)=>{_=_.set(new ue(k),w)}),ca(i,t,r,_,u,c,p,f)}else return t}else{let _=new de(null);return o.foreach((k,w)=>{const T=Ce(r,k);m.isCompleteForPath(T)&&(_=_.set(k,m.getNode().getChild(T)))}),ca(i,t,r,_,u,c,p,f)}}function Zw(i,t,r,o,u){const c=t.serverCache,f=Qp(t,c.getNode(),c.isFullyInitialized()||ee(r),c.isFiltered());return Zp(i,f,r,o,Jp,u)}function eE(i,t,r,o,u,c){let f;if(So(o,r)!=null)return t;{const p=new Fa(o,t,u),m=t.eventCache.getNode();let _;if(ee(r)||Z(r)===".priority"){let k;if(t.serverCache.isFullyInitialized())k=Co(o,Xn(t));else{const w=t.serverCache.getNode();A(w instanceof Q,"serverChildren would be complete if leaf node"),k=Ma(o,w)}k=k,_=i.filter.updateFullNode(m,k,c)}else{const k=Z(r);let w=La(o,k,t.serverCache);w==null&&t.serverCache.isCompleteForChild(k)&&(w=m.getImmediateChild(k)),w!=null?_=i.filter.updateChild(m,k,w,he(r),p,c):t.eventCache.getNode().hasChild(k)?_=i.filter.updateChild(m,k,Q.EMPTY_NODE,he(r),p,c):_=m,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Co(o,Xn(t)),f.isLeafNode()&&(_=i.filter.updateFullNode(_,f,c)))}return f=t.serverCache.isFullyInitialized()||So(o,se())!=null,Ai(t,_,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,u=new Ra(o.getIndex()),c=vw(o);this.processor_=Gw(c);const f=r.serverCache,p=r.eventCache,m=u.updateFullNode(Q.EMPTY_NODE,f.getNode(),null),_=c.updateFullNode(Q.EMPTY_NODE,p.getNode(),null),k=new qn(m,f.isFullyInitialized(),u.filtersNodes()),w=new qn(_,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=Oo(w,k),this.eventGenerator_=new Tw(this.query_)}get query(){return this.query_}}function nE(i){return i.viewCache_.serverCache.getNode()}function rE(i,t){const r=Xn(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!ee(t)&&!r.getImmediateChild(Z(t)).isEmpty())?r.getChild(t):null}function jh(i){return i.eventRegistrations_.length===0}function iE(i,t){i.eventRegistrations_.push(t)}function Vh(i,t,r){const o=[];if(r){A(t==null,"A cancel should cancel all event registrations.");const u=i.query._path;i.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(r,u);f&&o.push(f)})}if(t){let u=[];for(let c=0;c<i.eventRegistrations_.length;++c){const f=i.eventRegistrations_[c];if(!f.matches(t))u.push(f);else if(t.hasAnyCallback()){u=u.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=u}else i.eventRegistrations_=[];return o}function Hh(i,t,r,o){t.type===At.MERGE&&t.source.queryId!==null&&(A(Xn(i.viewCache_),"We should always have a full cache before handling merges"),A(sa(i.viewCache_),"Missing event cache, even though we have a server cache"));const u=i.viewCache_,c=Yw(i.processor_,u,t,r,o);return Kw(i.processor_,c.viewCache),A(c.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,em(i,c.changes,c.viewCache.eventCache.getNode(),null)}function sE(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Se,(c,f)=>{o.push(Ar(c,f))}),r.isFullyInitialized()&&o.push($p(r.getNode())),em(i,o,r.getNode(),t)}function em(i,t,r,o){const u=o?[o]:i.eventRegistrations_;return Nw(i.eventGenerator_,t,r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io;class oE{constructor(){this.views=new Map}}function lE(i){A(!Io,"__referenceConstructor has already been defined"),Io=i}function uE(){return A(Io,"Reference.ts has not been loaded"),Io}function aE(i){return i.views.size===0}function za(i,t,r,o){const u=t.source.queryId;if(u!==null){const c=i.views.get(u);return A(c!=null,"SyncTree gave us an op for an invalid query."),Hh(c,t,r,o)}else{let c=[];for(const f of i.views.values())c=c.concat(Hh(f,t,r,o));return c}}function cE(i,t,r,o,u){const c=t._queryIdentifier,f=i.views.get(c);if(!f){let p=Co(r,u?o:null),m=!1;p?m=!0:o instanceof Q?(p=Ma(r,o),m=!1):(p=Q.EMPTY_NODE,m=!1);const _=Oo(new qn(p,m,!1),new qn(o,u,!1));return new tE(t,_)}return f}function dE(i,t,r,o,u,c){const f=cE(i,t,o,u,c);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,f),iE(f,r),sE(f,r)}function fE(i,t,r,o){const u=t._queryIdentifier,c=[];let f=[];const p=Rn(i);if(u==="default")for(const[m,_]of i.views.entries())f=f.concat(Vh(_,r,o)),jh(_)&&(i.views.delete(m),_.query._queryParams.loadsAllData()||c.push(_.query));else{const m=i.views.get(u);m&&(f=f.concat(Vh(m,r,o)),jh(m)&&(i.views.delete(u),m.query._queryParams.loadsAllData()||c.push(m.query)))}return p&&!Rn(i)&&c.push(new(uE())(t._repo,t._path)),{removed:c,events:f}}function tm(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function xr(i,t){let r=null;for(const o of i.views.values())r=r||rE(o,t);return r}function nm(i,t){if(t._queryParams.loadsAllData())return Mo(i);{const o=t._queryIdentifier;return i.views.get(o)}}function rm(i,t){return nm(i,t)!=null}function Rn(i){return Mo(i)!=null}function Mo(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To;function hE(i){A(!To,"__referenceConstructor has already been defined"),To=i}function pE(){return A(To,"Reference.ts has not been loaded"),To}let mE=1;class $h{constructor(t){this.listenProvider_=t,this.syncPointTree_=new de(null),this.pendingWriteTree_=Hw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gE(i,t,r,o,u){return Dw(i.pendingWriteTree_,t,r,o,u),u?zr(i,new Yn(Pa(),t,r)):[]}function _E(i,t,r,o){Aw(i.pendingWriteTree_,t,r,o);const u=de.fromObject(r);return zr(i,new Or(Pa(),t,u))}function Gn(i,t,r=!1){const o=Ow(i.pendingWriteTree_,t);if(Mw(i.pendingWriteTree_,t)){let c=new de(null);return o.snap!=null?c=c.set(se(),!0):We(o.children,f=>{c=c.set(new ue(f),!0)}),zr(i,new Eo(o.path,c,r))}else return[]}function Lo(i,t,r){return zr(i,new Yn(Da(),t,r))}function yE(i,t,r){const o=de.fromObject(r);return zr(i,new Or(Da(),t,o))}function vE(i,t){return zr(i,new Hi(Da(),t))}function wE(i,t,r){const o=Ua(i,r);if(o){const u=Ba(o),c=u.path,f=u.queryId,p=st(c,t),m=new Hi(Aa(f),p);return Wa(i,c,m)}else return[]}function da(i,t,r,o,u=!1){const c=t._path,f=i.syncPointTree_.get(c);let p=[];if(f&&(t._queryIdentifier==="default"||rm(f,t))){const m=fE(f,t,r,o);aE(f)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const _=m.removed;if(p=m.events,!u){const k=_.findIndex(T=>T._queryParams.loadsAllData())!==-1,w=i.syncPointTree_.findOnPath(c,(T,O)=>Rn(O));if(k&&!w){const T=i.syncPointTree_.subtree(c);if(!T.isEmpty()){const O=SE(T);for(let W=0;W<O.length;++W){const $=O[W],K=$.query,je=lm(i,$);i.listenProvider_.startListening(Mi(K),No(i,K),je.hashFn,je.onComplete)}}}!w&&_.length>0&&!o&&(k?i.listenProvider_.stopListening(Mi(t),null):_.forEach(T=>{const O=i.queryToTagMap.get(Fo(T));i.listenProvider_.stopListening(Mi(T),O)}))}kE(i,_)}return p}function EE(i,t,r,o){const u=Ua(i,o);if(u!=null){const c=Ba(u),f=c.path,p=c.queryId,m=st(f,t),_=new Yn(Aa(p),m,r);return Wa(i,f,_)}else return[]}function CE(i,t,r,o){const u=Ua(i,o);if(u){const c=Ba(u),f=c.path,p=c.queryId,m=st(f,t),_=de.fromObject(r),k=new Or(Aa(p),m,_);return Wa(i,f,k)}else return[]}function bh(i,t,r,o=!1){const u=t._path;let c=null,f=!1;i.syncPointTree_.foreachOnPath(u,(T,O)=>{const W=st(T,u);c=c||xr(O,W),f=f||Rn(O)});let p=i.syncPointTree_.get(u);p?(f=f||Rn(p),c=c||xr(p,se())):(p=new oE,i.syncPointTree_=i.syncPointTree_.set(u,p));let m;c!=null?m=!0:(m=!1,c=Q.EMPTY_NODE,i.syncPointTree_.subtree(u).foreachChild((O,W)=>{const $=xr(W,se());$&&(c=c.updateImmediateChild(O,$))}));const _=rm(p,t);if(!_&&!t._queryParams.loadsAllData()){const T=Fo(t);A(!i.queryToTagMap.has(T),"View does not exist, but we have a tag");const O=IE();i.queryToTagMap.set(T,O),i.tagToQueryMap.set(O,T)}const k=Oa(i.pendingWriteTree_,u);let w=dE(p,t,r,k,c,m);if(!_&&!f&&!o){const T=nm(p,t);w=w.concat(TE(i,t,T))}return w}function im(i,t,r){const u=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(f,p)=>{const m=st(f,t),_=xr(p,m);if(_)return _});return Yp(u,t,c,r,!0)}function zr(i,t){return sm(t,i.syncPointTree_,null,Oa(i.pendingWriteTree_,se()))}function sm(i,t,r,o){if(ee(i.path))return om(i,t,r,o);{const u=t.get(se());r==null&&u!=null&&(r=xr(u,se()));let c=[];const f=Z(i.path),p=i.operationForChild(f),m=t.children.get(f);if(m&&p){const _=r?r.getImmediateChild(f):null,k=qp(o,f);c=c.concat(sm(p,m,_,k))}return u&&(c=c.concat(za(u,i,o,r))),c}}function om(i,t,r,o){const u=t.get(se());r==null&&u!=null&&(r=xr(u,se()));let c=[];return t.children.inorderTraversal((f,p)=>{const m=r?r.getImmediateChild(f):null,_=qp(o,f),k=i.operationForChild(f);k&&(c=c.concat(om(k,p,m,_)))}),u&&(c=c.concat(za(u,i,o,r))),c}function lm(i,t){const r=t.query,o=No(i,r);return{hashFn:()=>(nE(t)||Q.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return o?wE(i,r._path,o):vE(i,r._path);{const c=_v(u,r);return da(i,r,null,c)}}}}function No(i,t){const r=Fo(t);return i.queryToTagMap.get(r)}function Fo(i){return i._path.toString()+"$"+i._queryIdentifier}function Ua(i,t){return i.tagToQueryMap.get(t)}function Ba(i){const t=i.indexOf("$");return A(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new ue(i.substr(0,t))}}function Wa(i,t,r){const o=i.syncPointTree_.get(t);A(o,"Missing sync point for query tag that we're tracking");const u=Oa(i.pendingWriteTree_,t);return za(o,r,u,null)}function SE(i){return i.fold((t,r,o)=>{if(r&&Rn(r))return[Mo(r)];{let u=[];return r&&(u=tm(r)),We(o,(c,f)=>{u=u.concat(f)}),u}})}function Mi(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(pE())(i._repo,i._path):i}function kE(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const u=Fo(o),c=i.queryToTagMap.get(u);i.queryToTagMap.delete(u),i.tagToQueryMap.delete(c)}}}function IE(){return mE++}function TE(i,t,r){const o=t._path,u=No(i,t),c=lm(i,r),f=i.listenProvider_.startListening(Mi(t),u,c.hashFn,c.onComplete),p=i.syncPointTree_.subtree(o);if(u)A(!Rn(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((_,k,w)=>{if(!ee(_)&&k&&Rn(k))return[Mo(k).query];{let T=[];return k&&(T=T.concat(tm(k).map(O=>O.query))),We(w,(O,W)=>{T=T.concat(W)}),T}});for(let _=0;_<m.length;++_){const k=m[_];i.listenProvider_.stopListening(Mi(k),No(i,k))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new ja(r)}node(){return this.node_}}class Va{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Ce(this.path_,t);return new Va(this.syncTree_,r)}node(){return im(this.syncTree_,this.path_)}}const NE=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Qh=function(i,t,r){if(!i||typeof i!="object")return i;if(A(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return RE(i[".sv"],t,r);if(typeof i[".sv"]=="object")return xE(i[".sv"],t);A(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},RE=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:A(!1,"Unexpected server value: "+i)}},xE=function(i,t,r){i.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&A(!1,"Unexpected increment value: "+o);const u=t.node();if(A(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const f=u.getValue();return typeof f!="number"?o:f+o},um=function(i,t,r,o){return Ha(t,new Va(r,i),o)},PE=function(i,t,r){return Ha(i,new ja(t),r)};function Ha(i,t,r){const o=i.getPriority().val(),u=Qh(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const f=i,p=Qh(f.getValue(),t,r);return p!==f.getValue()||u!==f.getPriority().val()?new Oe(p,Be(u)):i}else{const f=i;return c=f,u!==f.getPriority().val()&&(c=c.updatePriority(new Oe(u))),f.forEachChild(Se,(p,m)=>{const _=Ha(m,t.getImmediateChild(p),r);_!==m&&(c=c.updateImmediateChild(p,_))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function ba(i,t){let r=t instanceof ue?t:new ue(t),o=i,u=Z(r);for(;u!==null;){const c=Pr(o.node.children,u)||{children:{},childCount:0};o=new $a(u,o,c),r=he(r),u=Z(r)}return o}function Ur(i){return i.node.value}function am(i,t){i.node.value=t,fa(i)}function cm(i){return i.node.childCount>0}function DE(i){return Ur(i)===void 0&&!cm(i)}function zo(i,t){We(i.node.children,(r,o)=>{t(new $a(r,i,o))})}function dm(i,t,r,o){r&&t(i),zo(i,u=>{dm(u,t,!0)})}function AE(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function Yi(i){return new ue(i.parent===null?i.name:Yi(i.parent)+"/"+i.name)}function fa(i){i.parent!==null&&OE(i.parent,i.name,i)}function OE(i,t,r){const o=DE(r),u=Vt(i.node.children,t);o&&u?(delete i.node.children[t],i.node.childCount--,fa(i)):!o&&!u&&(i.node.children[t]=r.node,i.node.childCount++,fa(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=/[\[\].#$\/\u0000-\u001F\u007F]/,LE=/[\[\].#$\u0000-\u001F\u007F]/,Qu=10*1024*1024,Qa=function(i){return typeof i=="string"&&i.length!==0&&!ME.test(i)},fm=function(i){return typeof i=="string"&&i.length!==0&&!LE.test(i)},FE=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),fm(i)},zE=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!va(i)||i&&typeof i=="object"&&Vt(i,".sv")},Ga=function(i,t,r){const o=r instanceof ue?new Xv(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+bn(o));if(typeof t=="function")throw new Error(i+"contains a function "+bn(o)+" with contents = "+t.toString());if(va(t))throw new Error(i+"contains "+t.toString()+" "+bn(o));if(typeof t=="string"&&t.length>Qu/3&&Po(t)>Qu)throw new Error(i+"contains a string greater than "+Qu+" utf8 bytes "+bn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let u=!1,c=!1;if(We(t,(f,p)=>{if(f===".value")u=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!Qa(f)))throw new Error(i+" contains an invalid key ("+f+") "+bn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Jv(o,f),Ga(i,p,o),Zv(o)}),u&&c)throw new Error(i+' contains ".value" child '+bn(o)+" in addition to actual children.")}},UE=function(i,t){let r,o;for(r=0;r<t.length;r++){o=t[r];const c=Bi(o);for(let f=0;f<c.length;f++)if(!(c[f]===".priority"&&f===c.length-1)){if(!Qa(c[f]))throw new Error(i+"contains an invalid key ("+c[f]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(qv);let u=null;for(r=0;r<t.length;r++){if(o=t[r],u!==null&&Et(u,o))throw new Error(i+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}},BE=function(i,t,r,o){const u=_a(i,"values");if(typeof t!="object"||Array.isArray(t))throw new Error(u+" must be an object containing the children to replace.");const c=[];We(t,(f,p)=>{const m=new ue(f);if(Ga(u,p,Ce(r,m)),ka(m)===".priority"&&!zE(p))throw new Error(u+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(m)}),UE(u,c)},hm=function(i,t,r,o){if(!fm(r))throw new Error(_a(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},WE=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),hm(i,t,r)},jE=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Qa(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!FE(r))throw new Error(_a(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ka(i,t){let r=null;for(let o=0;o<t.length;o++){const u=t[o],c=u.getPath();r!==null&&!Ia(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(u)}r&&i.eventLists_.push(r)}function pm(i,t,r){Ka(i,r),mm(i,o=>Ia(o,t))}function nn(i,t,r){Ka(i,r),mm(i,o=>Et(o,t)||Et(t,o))}function mm(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const u=i.eventLists_[o];if(u){const c=u.path;t(c)?(HE(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function HE(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Pi&&Ue("event: "+r.toString()),Fr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="repo_interrupt",bE=25;class QE{constructor(t,r,o,u){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new VE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wo(),this.transactionQueueTree_=new $a,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function GE(i,t,r){if(i.stats_=Ca(i.repoInfo_),i.forceRestClient_||Ev())i.server_=new vo(i.repoInfo_,(o,u,c,f)=>{Gh(i,o,u,c,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Kh(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Le(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new Zt(i.repoInfo_,t,(o,u,c,f)=>{Gh(i,o,u,c,f)},o=>{Kh(i,o)},o=>{YE(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=Tv(i.repoInfo_,()=>new Iw(i.stats_,i.server_)),i.infoData_=new ww,i.infoSyncTree_=new $h({startListening:(o,u,c,f)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=Lo(i.infoSyncTree_,o._path,m),setTimeout(()=>{f("ok")},0)),p},stopListening:()=>{}}),qa(i,"connected",!1),i.serverSyncTree_=new $h({startListening:(o,u,c,f)=>(i.server_.listen(o,c,u,(p,m)=>{const _=f(p,m);nn(i.eventQueue_,o._path,_)}),[]),stopListening:(o,u)=>{i.server_.unlisten(o,u)}})}function KE(i){const r=i.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Ya(i){return NE({timestamp:KE(i)})}function Gh(i,t,r,o,u){i.dataUpdateCount++;const c=new ue(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let f=[];if(u)if(o){const m=ho(r,_=>Be(_));f=CE(i.serverSyncTree_,c,m,u)}else{const m=Be(r);f=EE(i.serverSyncTree_,c,m,u)}else if(o){const m=ho(r,_=>Be(_));f=yE(i.serverSyncTree_,c,m)}else{const m=Be(r);f=Lo(i.serverSyncTree_,c,m)}let p=c;f.length>0&&(p=$i(i,c)),nn(i.eventQueue_,p,f)}function Kh(i,t){qa(i,"connected",t),t===!1&&XE(i)}function YE(i,t){We(t,(r,o)=>{qa(i,r,o)})}function qa(i,t,r){const o=new ue("/.info/"+t),u=Be(r);i.infoData_.updateSnapshot(o,u);const c=Lo(i.infoSyncTree_,o,u);nn(i.eventQueue_,o,c)}function gm(i){return i.nextWriteId_++}function qE(i,t,r,o){Xa(i,"update",{path:t.toString(),value:r});let u=!0;const c=Ya(i),f={};if(We(r,(p,m)=>{u=!1,f[p]=um(Ce(t,p),Be(m),i.serverSyncTree_,c)}),u)Ue("update() called with empty data.  Don't do anything."),Yh(i,o,"ok",void 0);else{const p=gm(i),m=_E(i.serverSyncTree_,t,f,p);Ka(i.eventQueue_,m),i.server_.merge(t.toString(),r,(_,k)=>{const w=_==="ok";w||lt("update at "+t+" failed: "+_);const T=Gn(i.serverSyncTree_,p,!w),O=T.length>0?$i(i,t):t;nn(i.eventQueue_,O,T),Yh(i,o,_,k)}),We(r,_=>{const k=Em(i,Ce(t,_));$i(i,k)}),nn(i.eventQueue_,t,[])}}function XE(i){Xa(i,"onDisconnectEvents");const t=Ya(i),r=wo();ia(i.onDisconnect_,se(),(u,c)=>{const f=um(u,c,i.serverSyncTree_,t);bp(r,u,f)});let o=[];ia(r,se(),(u,c)=>{o=o.concat(Lo(i.serverSyncTree_,u,c));const f=Em(i,u);$i(i,f)}),i.onDisconnect_=wo(),nn(i.eventQueue_,se(),o)}function JE(i,t,r){let o;Z(t._path)===".info"?o=bh(i.infoSyncTree_,t,r):o=bh(i.serverSyncTree_,t,r),pm(i.eventQueue_,t._path,o)}function ZE(i,t,r){let o;Z(t._path)===".info"?o=da(i.infoSyncTree_,t,r):o=da(i.serverSyncTree_,t,r),pm(i.eventQueue_,t._path,o)}function eC(i){i.persistentConnection_&&i.persistentConnection_.interrupt($E)}function Xa(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),Ue(r,...t)}function Yh(i,t,r,o){t&&Fr(()=>{if(r==="ok")t(null);else{const u=(r||"error").toUpperCase();let c=u;o&&(c+=": "+o);const f=new Error(c);f.code=u,t(f)}})}function _m(i,t,r){return im(i.serverSyncTree_,t,r)||Q.EMPTY_NODE}function Ja(i,t=i.transactionQueueTree_){if(t||Uo(i,t),Ur(t)){const r=vm(i,t);A(r.length>0,"Sending zero length transaction queue"),r.every(u=>u.status===0)&&tC(i,Yi(t),r)}else cm(t)&&zo(t,r=>{Ja(i,r)})}function tC(i,t,r){const o=r.map(_=>_.currentWriteId),u=_m(i,t,o);let c=u;const f=u.hash();for(let _=0;_<r.length;_++){const k=r[_];A(k.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),k.status=1,k.retryCount++;const w=st(t,k.path);c=c.updateChild(w,k.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,_=>{Xa(i,"transaction put response",{path:m.toString(),status:_});let k=[];if(_==="ok"){const w=[];for(let T=0;T<r.length;T++)r[T].status=2,k=k.concat(Gn(i.serverSyncTree_,r[T].currentWriteId)),r[T].onComplete&&w.push(()=>r[T].onComplete(null,!0,r[T].currentOutputSnapshotResolved)),r[T].unwatcher();Uo(i,ba(i.transactionQueueTree_,t)),Ja(i,i.transactionQueueTree_),nn(i.eventQueue_,t,k);for(let T=0;T<w.length;T++)Fr(w[T])}else{if(_==="datastale")for(let w=0;w<r.length;w++)r[w].status===3?r[w].status=4:r[w].status=0;else{lt("transaction at "+m.toString()+" failed: "+_);for(let w=0;w<r.length;w++)r[w].status=4,r[w].abortReason=_}$i(i,t)}},f)}function $i(i,t){const r=ym(i,t),o=Yi(r),u=vm(i,r);return nC(i,u,o),o}function nC(i,t,r){if(t.length===0)return;const o=[];let u=[];const f=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],_=st(r,m.path);let k=!1,w;if(A(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)k=!0,w=m.abortReason,u=u.concat(Gn(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=bE)k=!0,w="maxretry",u=u.concat(Gn(i.serverSyncTree_,m.currentWriteId,!0));else{const T=_m(i,m.path,f);m.currentInputSnapshot=T;const O=t[p].update(T.val());if(O!==void 0){Ga("transaction failed: Data returned ",O,m.path);let W=Be(O);typeof O=="object"&&O!=null&&Vt(O,".priority")||(W=W.updatePriority(T.getPriority()));const K=m.currentWriteId,je=Ya(i),Qe=PE(W,T,je);m.currentOutputSnapshotRaw=W,m.currentOutputSnapshotResolved=Qe,m.currentWriteId=gm(i),f.splice(f.indexOf(K),1),u=u.concat(gE(i.serverSyncTree_,m.path,Qe,m.currentWriteId,m.applyLocally)),u=u.concat(Gn(i.serverSyncTree_,K,!0))}else k=!0,w="nodata",u=u.concat(Gn(i.serverSyncTree_,m.currentWriteId,!0))}nn(i.eventQueue_,r,u),u=[],k&&(t[p].status=2,function(T){setTimeout(T,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(w==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(w),!1,null))))}Uo(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)Fr(o[p]);Ja(i,i.transactionQueueTree_)}function ym(i,t){let r,o=i.transactionQueueTree_;for(r=Z(t);r!==null&&Ur(o)===void 0;)o=ba(o,r),t=he(t),r=Z(t);return o}function vm(i,t){const r=[];return wm(i,t,r),r.sort((o,u)=>o.order-u.order),r}function wm(i,t,r){const o=Ur(t);if(o)for(let u=0;u<o.length;u++)r.push(o[u]);zo(t,u=>{wm(i,u,r)})}function Uo(i,t){const r=Ur(t);if(r){let o=0;for(let u=0;u<r.length;u++)r[u].status!==2&&(r[o]=r[u],o++);r.length=o,am(t,r.length>0?r:void 0)}zo(t,o=>{Uo(i,o)})}function Em(i,t){const r=Yi(ym(i,t)),o=ba(i.transactionQueueTree_,t);return AE(o,u=>{Gu(i,u)}),Gu(i,o),dm(o,u=>{Gu(i,u)}),r}function Gu(i,t){const r=Ur(t);if(r){const o=[];let u=[],c=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(A(c===f-1,"All SENT items should be at beginning of queue."),c=f,r[f].status=3,r[f].abortReason="set"):(A(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),u=u.concat(Gn(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&o.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?am(t,void 0):r.length=c+1,nn(i.eventQueue_,Yi(t),u);for(let f=0;f<o.length;f++)Fr(o[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let u=r[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}t+="/"+u}return t}function iC(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):lt(`Invalid query segment '${r}' in query '${i}'`)}return t}const qh=function(i,t){const r=sC(i),o=r.namespace;r.domain==="firebase.com"&&tn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||fv();const u=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Rp(r.host,r.secure,o,u,t,"",o!==r.subdomain),path:new ue(r.pathString)}},sC=function(i){let t="",r="",o="",u="",c="",f=!0,p="https",m=443;if(typeof i=="string"){let _=i.indexOf("//");_>=0&&(p=i.substring(0,_-1),i=i.substring(_+2));let k=i.indexOf("/");k===-1&&(k=i.length);let w=i.indexOf("?");w===-1&&(w=i.length),t=i.substring(0,Math.min(k,w)),k<w&&(u=rC(i.substring(k,w)));const T=iC(i.substring(Math.min(i.length,w)));_=t.indexOf(":"),_>=0?(f=p==="https"||p==="wss",m=parseInt(t.substring(_+1),10)):_=t.length;const O=t.slice(0,_);if(O.toLowerCase()==="localhost")r="localhost";else if(O.split(".").length<=2)r=O;else{const W=t.indexOf(".");o=t.substring(0,W).toLowerCase(),r=t.substring(W+1),c=o}"ns"in T&&(c=T.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:f,scheme:p,pathString:u,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t,r,o,u){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=u}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Le(this.snapshot.exportVal())}}class lC{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return A(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,r,o,u){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=u}get key(){return ee(this._path)?null:ka(this._path)}get ref(){return new xn(this._repo,this._path)}get _queryIdentifier(){const t=Mh(this._queryParams),r=wa(t);return r==="{}"?"default":r}get _queryObject(){return Mh(this._queryParams)}isEqual(t){if(t=Do(t),!(t instanceof Za))return!1;const r=this._repo===t._repo,o=Ia(this._path,t._path),u=this._queryIdentifier===t._queryIdentifier;return r&&o&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+Yv(this._path)}}class xn extends Za{constructor(t,r){super(t,r,new xa,!1)}get parent(){const t=zp(this._path);return t===null?null:new xn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ro{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new ue(t),o=ha(this.ref,t);return new Ro(this._node.getChild(r),o,Se)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,u)=>t(new Ro(u,ha(this.ref,o),Se)))}hasChild(t){const r=new ue(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xh(i,t){return i=Do(i),i._checkNotDeleted("ref"),t!==void 0?ha(i._root,t):i._root}function ha(i,t){return i=Do(i),Z(i._path)===null?WE("child","path",t):hm("child","path",t),new xn(i._repo,Ce(i._path,t))}function aC(i,t){BE("update",t,i._path);const r=new xo;return qE(i._repo,i._path,t,r.wrapCallback(()=>{})),r.promise}class ec{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new oC("value",this,new Ro(t.snapshotNode,new xn(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new lC(this,t,r):null}matches(t){return t instanceof ec?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function cC(i,t,r,o,u){const c=new uC(r,void 0),f=new ec(c);return JE(i._repo,i,f),()=>ZE(i._repo,i,f)}function dC(i,t,r,o){return cC(i,"value",t)}lE(xn);hE(xn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="FIREBASE_DATABASE_EMULATOR_HOST",pa={};let hC=!1;function pC(i,t,r,o){i.repoInfo_=new Rp(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function mC(i,t,r,o,u){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=qh(c,u),p=f.repoInfo,m;typeof process<"u"&&gh&&(m=gh[fC]),m?(c=`http://${m}?ns=${p.namespace}`,f=qh(c,u),p=f.repoInfo):f.repoInfo.secure;const _=new Sv(i.name,i.options,t);jE("Invalid Firebase Database URL",f),ee(f.path)||tn("Database URL must point to the root of a Firebase Database (not including a child path).");const k=_C(p,i,_,new Cv(i.name,r));return new yC(k,i)}function gC(i,t){const r=pa[t];(!r||r[i.key]!==i)&&tn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),eC(i),delete r[i.key]}function _C(i,t,r,o){let u=pa[t.name];u||(u={},pa[t.name]=u);let c=u[i.toURLString()];return c&&tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new QE(i,hC,r,o),u[i.toURLString()]=c,c}class yC{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(GE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xn(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(gC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&tn("Cannot call "+t+" on a deleted database.")}}function vC(i=qy(),t){const r=Qy(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=L_("database");o&&wC(r,...o)}return r}function wC(i,t,r,o={}){i=Do(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&tn("Cannot call useEmulator() after instance has already been initialized.");const u=i._repoInternal;let c;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new co(co.OWNER);else if(o.mockUserToken){const f=typeof o.mockUserToken=="string"?o.mockUserToken:F_(o.mockUserToken,i.app.options.projectId);c=new co(f)}pC(u,t,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(i){ov(Yy),mo(new Fi("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return mC(o,u,c,r)},"PUBLIC").setMultipleInstances(!0)),Tr(_h,yh,i),Tr(_h,yh,"esm2017")}Zt.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};Zt.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};EC();var CC="firebase",SC="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(CC,SC,"app");const kC="AIzaSyAeTblY8O6XxWYrRfRl0Ar1TE-uOzPbF0M",IC="nightline-dce44.firebaseapp.com",TC=void 0,NC="nightline-dce44",RC="nightline-dce44.firebasestorage.app",xC="610185897381",PC="1:610185897381:web:753908ea29d825a6e9344c",DC="G-EFV275663B",AC={apiKey:kC,authDomain:IC,databaseURL:TC,projectId:NC,storageBucket:RC,messagingSenderId:xC,appId:PC,measurementId:DC},OC=dp(AC),Jh=vC(OC),MC=["The Owl San Diego","Mavericks Beach Club","Nova SD","PB Shore Club","Parq Nightclub","The Duck Dive"],LC=()=>{const[i,t]=ao.useState({}),[r,o]=ao.useState(new Set);ao.useEffect(()=>{const f=Xh(Jh,"ratings");dC(f,p=>{const m=p.val();m&&t(m)})},[]);const u=(f,p)=>{if(r.has(f)){alert("You have already rated this location.");return}const m=Xh(Jh,`ratings/${f}`),_=i[f]||{total:0,count:0};aC(m,{total:_.total+p,count:_.count+1}),o(k=>new Set(k).add(f))},c=f=>{const p=i[f];return!p||p.count===0?"No ratings yet":(p.total/p.count).toFixed(1)};return Dt.jsxs("div",{className:"w-dvw min-h-screen bg-black flex flex-col items-center p-6",children:[Dt.jsx("h1",{className:"text-4xl font-bold text-neon-purple mb-6",children:"Downtown San Diego & Pacific Beach Clubs/Bars Rating"}),Dt.jsx("div",{className:"w-dvw max-w-2xl bg-gray-900 shadow-lg rounded-lg p-6",children:MC.map(f=>Dt.jsxs("div",{className:"border-b border-neon-purple py-4",children:[Dt.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:f}),Dt.jsxs("p",{className:"text-gray-400 mb-2",children:["Average Rating: ",c(f)]}),Dt.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5,6,7,8,9,10].map(p=>Dt.jsx("button",{onClick:()=>u(f,p),className:"px-3 py-1 bg-neon-purple text-black rounded hover:bg-purple-800 disabled:opacity-50",disabled:r.has(f),children:p},p))})]},f))}),Dt.jsx("footer",{className:"mt-6 text-gray-400 text-sm",children:"Ratings reset daily at 6:00 AM PST"})]})};I_.createRoot(document.getElementById("root")).render(Dt.jsx(ao.StrictMode,{children:Dt.jsx(LC,{})}));
