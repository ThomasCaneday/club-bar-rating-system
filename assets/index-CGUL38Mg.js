(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))l(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const _ of p.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&l(_)}).observe(document,{childList:!0,subtree:!0});function r(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function l(h){if(h.ep)return;h.ep=!0;const p=r(h);fetch(h.href,p)}})();function km(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Sh={exports:{}},ya={},xh={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function zg(){if(Ep)return we;Ep=1;var s=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),_=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),k=Symbol.iterator;function M(T){return T===null||typeof T!="object"?null:(T=k&&T[k]||T["@@iterator"],typeof T=="function"?T:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,K={};function le(T,F,J){this.props=T,this.context=F,this.refs=K,this.updater=J||Z}le.prototype.isReactComponent={},le.prototype.setState=function(T,F){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,F,"setState")},le.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function Ie(){}Ie.prototype=le.prototype;function Ne(T,F,J){this.props=T,this.context=F,this.refs=K,this.updater=J||Z}var Le=Ne.prototype=new Ie;Le.constructor=Ne,Q(Le,le.prototype),Le.isPureReactComponent=!0;var Be=Array.isArray,lt=Object.prototype.hasOwnProperty,qe={current:null},ht={key:!0,ref:!0,__self:!0,__source:!0};function Ct(T,F,J){var ee,te={},q=null,Te=null;if(F!=null)for(ee in F.ref!==void 0&&(Te=F.ref),F.key!==void 0&&(q=""+F.key),F)lt.call(F,ee)&&!ht.hasOwnProperty(ee)&&(te[ee]=F[ee]);var ye=arguments.length-2;if(ye===1)te.children=J;else if(1<ye){for(var We=Array(ye),Tt=0;Tt<ye;Tt++)We[Tt]=arguments[Tt+2];te.children=We}if(T&&T.defaultProps)for(ee in ye=T.defaultProps,ye)te[ee]===void 0&&(te[ee]=ye[ee]);return{$$typeof:s,type:T,key:q,ref:Te,props:te,_owner:qe.current}}function Zt(T,F){return{$$typeof:s,type:T.type,key:F,ref:T.ref,props:T.props,_owner:T._owner}}function Vt(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function Ge(T){var F={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(J){return F[J]})}var $e=/\/+/g;function Et(T,F){return typeof T=="object"&&T!==null&&T.key!=null?Ge(""+T.key):F.toString(36)}function Xe(T,F,J,ee,te){var q=typeof T;(q==="undefined"||q==="boolean")&&(T=null);var Te=!1;if(T===null)Te=!0;else switch(q){case"string":case"number":Te=!0;break;case"object":switch(T.$$typeof){case s:case n:Te=!0}}if(Te)return Te=T,te=te(Te),T=ee===""?"."+Et(Te,0):ee,Be(te)?(J="",T!=null&&(J=T.replace($e,"$&/")+"/"),Xe(te,F,J,"",function(Tt){return Tt})):te!=null&&(Vt(te)&&(te=Zt(te,J+(!te.key||Te&&Te.key===te.key?"":(""+te.key).replace($e,"$&/")+"/")+T)),F.push(te)),1;if(Te=0,ee=ee===""?".":ee+":",Be(T))for(var ye=0;ye<T.length;ye++){q=T[ye];var We=ee+Et(q,ye);Te+=Xe(q,F,J,We,te)}else if(We=M(T),typeof We=="function")for(T=We.call(T),ye=0;!(q=T.next()).done;)q=q.value,We=ee+Et(q,ye++),Te+=Xe(q,F,J,We,te);else if(q==="object")throw F=String(T),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Te}function Gt(T,F,J){if(T==null)return T;var ee=[],te=0;return Xe(T,ee,"","",function(q){return F.call(J,q,te++)}),ee}function De(T){if(T._status===-1){var F=T._result;F=F(),F.then(function(J){(T._status===0||T._status===-1)&&(T._status=1,T._result=J)},function(J){(T._status===0||T._status===-1)&&(T._status=2,T._result=J)}),T._status===-1&&(T._status=0,T._result=F)}if(T._status===1)return T._result.default;throw T._result}var be={current:null},B={transition:null},W={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:B,ReactCurrentOwner:qe};function O(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Gt,forEach:function(T,F,J){Gt(T,function(){F.apply(this,arguments)},J)},count:function(T){var F=0;return Gt(T,function(){F++}),F},toArray:function(T){return Gt(T,function(F){return F})||[]},only:function(T){if(!Vt(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},we.Component=le,we.Fragment=r,we.Profiler=h,we.PureComponent=Ne,we.StrictMode=l,we.Suspense=S,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,we.act=O,we.cloneElement=function(T,F,J){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ee=Q({},T.props),te=T.key,q=T.ref,Te=T._owner;if(F!=null){if(F.ref!==void 0&&(q=F.ref,Te=qe.current),F.key!==void 0&&(te=""+F.key),T.type&&T.type.defaultProps)var ye=T.type.defaultProps;for(We in F)lt.call(F,We)&&!ht.hasOwnProperty(We)&&(ee[We]=F[We]===void 0&&ye!==void 0?ye[We]:F[We])}var We=arguments.length-2;if(We===1)ee.children=J;else if(1<We){ye=Array(We);for(var Tt=0;Tt<We;Tt++)ye[Tt]=arguments[Tt+2];ee.children=ye}return{$$typeof:s,type:T.type,key:te,ref:q,props:ee,_owner:Te}},we.createContext=function(T){return T={$$typeof:_,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:p,_context:T},T.Consumer=T},we.createElement=Ct,we.createFactory=function(T){var F=Ct.bind(null,T);return F.type=T,F},we.createRef=function(){return{current:null}},we.forwardRef=function(T){return{$$typeof:w,render:T}},we.isValidElement=Vt,we.lazy=function(T){return{$$typeof:A,_payload:{_status:-1,_result:T},_init:De}},we.memo=function(T,F){return{$$typeof:x,type:T,compare:F===void 0?null:F}},we.startTransition=function(T){var F=B.transition;B.transition={};try{T()}finally{B.transition=F}},we.unstable_act=O,we.useCallback=function(T,F){return be.current.useCallback(T,F)},we.useContext=function(T){return be.current.useContext(T)},we.useDebugValue=function(){},we.useDeferredValue=function(T){return be.current.useDeferredValue(T)},we.useEffect=function(T,F){return be.current.useEffect(T,F)},we.useId=function(){return be.current.useId()},we.useImperativeHandle=function(T,F,J){return be.current.useImperativeHandle(T,F,J)},we.useInsertionEffect=function(T,F){return be.current.useInsertionEffect(T,F)},we.useLayoutEffect=function(T,F){return be.current.useLayoutEffect(T,F)},we.useMemo=function(T,F){return be.current.useMemo(T,F)},we.useReducer=function(T,F,J){return be.current.useReducer(T,F,J)},we.useRef=function(T){return be.current.useRef(T)},we.useState=function(T){return be.current.useState(T)},we.useSyncExternalStore=function(T,F,J){return be.current.useSyncExternalStore(T,F,J)},we.useTransition=function(){return be.current.useTransition()},we.version="18.3.1",we}var Tp;function od(){return Tp||(Tp=1,xh.exports=zg()),xh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function Fg(){if(Pp)return ya;Pp=1;var s=od(),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,h=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function _(w,S,x){var A,k={},M=null,Z=null;x!==void 0&&(M=""+x),S.key!==void 0&&(M=""+S.key),S.ref!==void 0&&(Z=S.ref);for(A in S)l.call(S,A)&&!p.hasOwnProperty(A)&&(k[A]=S[A]);if(w&&w.defaultProps)for(A in S=w.defaultProps,S)k[A]===void 0&&(k[A]=S[A]);return{$$typeof:n,type:w,key:M,ref:Z,props:k,_owner:h.current}}return ya.Fragment=r,ya.jsx=_,ya.jsxs=_,ya}var kp;function Bg(){return kp||(kp=1,Sh.exports=Fg()),Sh.exports}var ae=Bg(),ve=od();const zh=km(ve);var _u={},Ch={exports:{}},en={},Eh={exports:{}},Th={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function Wg(){return Ip||(Ip=1,function(s){function n(B,W){var O=B.length;B.push(W);e:for(;0<O;){var T=O-1>>>1,F=B[T];if(0<h(F,W))B[T]=W,B[O]=F,O=T;else break e}}function r(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var W=B[0],O=B.pop();if(O!==W){B[0]=O;e:for(var T=0,F=B.length,J=F>>>1;T<J;){var ee=2*(T+1)-1,te=B[ee],q=ee+1,Te=B[q];if(0>h(te,O))q<F&&0>h(Te,te)?(B[T]=Te,B[q]=O,T=q):(B[T]=te,B[ee]=O,T=ee);else if(q<F&&0>h(Te,O))B[T]=Te,B[q]=O,T=q;else break e}}return W}function h(B,W){var O=B.sortIndex-W.sortIndex;return O!==0?O:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;s.unstable_now=function(){return p.now()}}else{var _=Date,w=_.now();s.unstable_now=function(){return _.now()-w}}var S=[],x=[],A=1,k=null,M=3,Z=!1,Q=!1,K=!1,le=typeof setTimeout=="function"?setTimeout:null,Ie=typeof clearTimeout=="function"?clearTimeout:null,Ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Le(B){for(var W=r(x);W!==null;){if(W.callback===null)l(x);else if(W.startTime<=B)l(x),W.sortIndex=W.expirationTime,n(S,W);else break;W=r(x)}}function Be(B){if(K=!1,Le(B),!Q)if(r(S)!==null)Q=!0,De(lt);else{var W=r(x);W!==null&&be(Be,W.startTime-B)}}function lt(B,W){Q=!1,K&&(K=!1,Ie(Ct),Ct=-1),Z=!0;var O=M;try{for(Le(W),k=r(S);k!==null&&(!(k.expirationTime>W)||B&&!Ge());){var T=k.callback;if(typeof T=="function"){k.callback=null,M=k.priorityLevel;var F=T(k.expirationTime<=W);W=s.unstable_now(),typeof F=="function"?k.callback=F:k===r(S)&&l(S),Le(W)}else l(S);k=r(S)}if(k!==null)var J=!0;else{var ee=r(x);ee!==null&&be(Be,ee.startTime-W),J=!1}return J}finally{k=null,M=O,Z=!1}}var qe=!1,ht=null,Ct=-1,Zt=5,Vt=-1;function Ge(){return!(s.unstable_now()-Vt<Zt)}function $e(){if(ht!==null){var B=s.unstable_now();Vt=B;var W=!0;try{W=ht(!0,B)}finally{W?Et():(qe=!1,ht=null)}}else qe=!1}var Et;if(typeof Ne=="function")Et=function(){Ne($e)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,Gt=Xe.port2;Xe.port1.onmessage=$e,Et=function(){Gt.postMessage(null)}}else Et=function(){le($e,0)};function De(B){ht=B,qe||(qe=!0,Et())}function be(B,W){Ct=le(function(){B(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_continueExecution=function(){Q||Z||(Q=!0,De(lt))},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Zt=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_getFirstCallbackNode=function(){return r(S)},s.unstable_next=function(B){switch(M){case 1:case 2:case 3:var W=3;break;default:W=M}var O=M;M=W;try{return B()}finally{M=O}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var O=M;M=B;try{return W()}finally{M=O}},s.unstable_scheduleCallback=function(B,W,O){var T=s.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?T+O:T):O=T,B){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=O+F,B={id:A++,callback:W,priorityLevel:B,startTime:O,expirationTime:F,sortIndex:-1},O>T?(B.sortIndex=O,n(x,B),r(S)===null&&B===r(x)&&(K?(Ie(Ct),Ct=-1):K=!0,be(Be,O-T))):(B.sortIndex=F,n(S,B),Q||Z||(Q=!0,De(lt))),B},s.unstable_shouldYield=Ge,s.unstable_wrapCallback=function(B){var W=M;return function(){var O=M;M=W;try{return B.apply(this,arguments)}finally{M=O}}}}(Th)),Th}var Lp;function Ug(){return Lp||(Lp=1,Eh.exports=Wg()),Eh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function Hg(){if(Mp)return en;Mp=1;var s=od(),n=Ug();function r(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,h={};function p(e,i){_(e,i),_(e+"Capture",i)}function _(e,i){for(h[e]=i,e=0;e<i.length;e++)l.add(i[e])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},k={};function M(e){return S.call(k,e)?!0:S.call(A,e)?!1:x.test(e)?k[e]=!0:(A[e]=!0,!1)}function Z(e,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Q(e,i,a,c){if(i===null||typeof i>"u"||Z(e,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function K(e,i,a,c,f,m,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=e,this.type=i,this.sanitizeURL=m,this.removeEmptyString=v}var le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){le[e]=new K(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];le[i]=new K(i,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){le[e]=new K(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){le[e]=new K(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){le[e]=new K(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){le[e]=new K(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){le[e]=new K(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){le[e]=new K(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){le[e]=new K(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ie=/[\-:]([a-z])/g;function Ne(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(Ie,Ne);le[i]=new K(i,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(Ie,Ne);le[i]=new K(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(Ie,Ne);le[i]=new K(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){le[e]=new K(e,1,!1,e.toLowerCase(),null,!1,!1)}),le.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){le[e]=new K(e,1,!1,e.toLowerCase(),null,!0,!0)});function Le(e,i,a,c){var f=le.hasOwnProperty(i)?le[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(Q(i,a,f,c)&&(a=null),c||f===null?M(i)&&(a===null?e.removeAttribute(i):e.setAttribute(i,""+a)):f.mustUseProperty?e[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?e.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?e.setAttributeNS(c,i,a):e.setAttribute(i,a))))}var Be=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lt=Symbol.for("react.element"),qe=Symbol.for("react.portal"),ht=Symbol.for("react.fragment"),Ct=Symbol.for("react.strict_mode"),Zt=Symbol.for("react.profiler"),Vt=Symbol.for("react.provider"),Ge=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),Gt=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),B=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var O=Object.assign,T;function F(e){if(T===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);T=i&&i[1]||""}return`
`+T+e}var J=!1;function ee(e,i){if(!e||J)return"";J=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(z){var c=z}Reflect.construct(e,[],i)}else{try{i.call()}catch(z){c=z}e.call(i.prototype)}else{try{throw Error()}catch(z){c=z}e()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),m=c.stack.split(`
`),v=f.length-1,C=m.length-1;1<=v&&0<=C&&f[v]!==m[C];)C--;for(;1<=v&&0<=C;v--,C--)if(f[v]!==m[C]){if(v!==1||C!==1)do if(v--,C--,0>C||f[v]!==m[C]){var P=`
`+f[v].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=v&&0<=C);break}}}finally{J=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?F(e):""}function te(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function q(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ht:return"Fragment";case qe:return"Portal";case Zt:return"Profiler";case Ct:return"StrictMode";case Et:return"Suspense";case Xe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ge:return(e.displayName||"Context")+".Consumer";case Vt:return(e._context.displayName||"Context")+".Provider";case $e:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gt:return i=e.displayName||null,i!==null?i:q(e.type)||"Memo";case De:i=e._payload,e=e._init;try{return q(e(i))}catch{}}return null}function Te(e){var i=e.type;switch(e.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=i.render,e=e.displayName||e.name||"",i.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(i);case 8:return i===Ct?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ye(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function We(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Tt(e){var i=We(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),c=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ni(e){e._valueTracker||(e._valueTracker=Tt(e))}function Di(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return e&&(c=We(e)?e.checked?"true":"false":e.value),e=c,e!==a?(i.setValue(e),!0):!1}function Ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yo(e,i){var a=i.checked;return O({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function wo(e,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=ye(i.value!=null?i.value:a),e._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function So(e,i){i=i.checked,i!=null&&Le(e,"checked",i,!1)}function Er(e,i){So(e,i);var a=ye(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?xo(e,i.type,a):i.hasOwnProperty("defaultValue")&&xo(e,i.type,ye(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function Tr(e,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,a||i===e.value||(e.value=i),e.defaultValue=i}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function xo(e,i,a){(i!=="number"||Ri(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var bi=Array.isArray;function Hn(e,i,a,c){if(e=e.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=i.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&c&&(e[a].defaultSelected=!0)}else{for(a=""+ye(a),i=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function cs(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return O({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Co(e,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(r(92));if(bi(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),a=i}e._wrapperState={initialValue:ye(a)}}function Ka(e,i){var a=ye(i.value),c=ye(i.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),i.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),c!=null&&(e.defaultValue=""+c)}function Qa(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}function hs(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ds(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?hs(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pr,Ya=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return e(i,a,c,f)})}:e}(function(e,i){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=i;else{for(Pr=Pr||document.createElement("div"),Pr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Pr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function Oi(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qu=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(e){qu.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),zi[i]=zi[e]})});function Eo(e,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||zi.hasOwnProperty(e)&&zi[e]?(""+i).trim():i+"px"}function fs(e,i){e=e.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=Eo(a,i[a],c);a==="float"&&(a="cssFloat"),c?e.setProperty(a,f):e[a]=f}}var qa=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function To(e,i){if(i){if(qa[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function si(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=null;function ko(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ps=null,oi=null,ai=null;function Xa(e){if(e=yi(e)){if(typeof ps!="function")throw Error(r(280));var i=e.stateNode;i&&(i=Us(i),ps(e.stateNode,e.type,i))}}function Ja(e){oi?ai?ai.push(e):ai=[e]:oi=e}function el(){if(oi){var e=oi,i=ai;if(ai=oi=null,Xa(e),i)for(e=0;e<i.length;e++)Xa(i[e])}}function tl(e,i){return e(i)}function nl(){}var Io=!1;function ms(e,i,a){if(Io)return e(i,a);Io=!0;try{return tl(e,i,a)}finally{Io=!1,(oi!==null||ai!==null)&&(nl(),el())}}function kr(e,i){var a=e.stateNode;if(a===null)return null;var c=Us(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Lo=!1;if(w)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{Lo=!1}function Xu(e,i,a,c,f,m,v,C,P){var z=Array.prototype.slice.call(arguments,3);try{i.apply(a,z)}catch(j){this.onError(j)}}var Mt=!1,se=null,Lr=!1,_s=null,il={onError:function(e){Mt=!0,se=e}};function rl(e,i,a,c,f,m,v,C,P){Mt=!1,se=null,Xu.apply(il,arguments)}function Mo(e,i,a,c,f,m,v,C,P){if(rl.apply(this,arguments),Mt){if(Mt){var z=se;Mt=!1,se=null}else throw Error(r(198));Lr||(Lr=!0,_s=z)}}function jn(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function li(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function Ao(e){if(jn(e)!==e)throw Error(r(188))}function Ju(e){var i=e.alternate;if(!i){if(i=jn(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,c=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return Ao(f),e;if(m===c)return Ao(f),i;m=m.sibling}throw Error(r(188))}if(a.return!==c.return)a=f,c=m;else{for(var v=!1,C=f.child;C;){if(C===a){v=!0,a=f,c=m;break}if(C===c){v=!0,c=f,a=m;break}C=C.sibling}if(!v){for(C=m.child;C;){if(C===a){v=!0,a=m,c=f;break}if(C===c){v=!0,c=m,a=f;break}C=C.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function sl(e){return e=Ju(e),e!==null?ol(e):null}function ol(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=ol(e);if(i!==null)return i;e=e.sibling}return null}var al=n.unstable_scheduleCallback,No=n.unstable_cancelCallback,ec=n.unstable_shouldYield,gs=n.unstable_requestPaint,Je=n.unstable_now,tc=n.unstable_getCurrentPriorityLevel,Do=n.unstable_ImmediatePriority,ll=n.unstable_UserBlockingPriority,vs=n.unstable_NormalPriority,Ro=n.unstable_LowPriority,Fi=n.unstable_IdlePriority,Mr=null,rn=null;function Ar(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Mr,e,void 0,(e.current.flags&128)===128)}catch{}}var _e=Math.clz32?Math.clz32:Bi,Ke=Math.log,ys=Math.LN2;function Bi(e){return e>>>=0,e===0?32:31-(Ke(e)/ys|0)|0}var In=64,Wi=4194304;function me(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ue(e,i){var a=e.pendingLanes;if(a===0)return 0;var c=0,f=e.suspendedLanes,m=e.pingedLanes,v=a&268435455;if(v!==0){var C=v&~f;C!==0?c=me(C):(m&=v,m!==0&&(c=me(m)))}else v=a&~f,v!==0?c=me(v):m!==0&&(c=me(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&f)&&(f=c&-c,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if(c&4&&(c|=a&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=c;0<i;)a=31-_e(i),f=1<<a,c|=e[a],i&=~f;return c}function bo(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(e,i){for(var a=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes;0<m;){var v=31-_e(m),C=1<<v,P=f[v];P===-1?(!(C&a)||C&c)&&(f[v]=bo(C,i)):P<=i&&(e.expiredLanes|=C),m&=~C}}function At(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ul(){var e=In;return In<<=1,!(In&4194240)&&(In=64),e}function Ui(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function sn(e,i,a){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-_e(i),e[i]=a}function it(e,i){var a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<a;){var f=31-_e(a),m=1<<f;i[f]=0,c[f]=-1,e[f]=-1,a&=~m}}function Ln(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var c=31-_e(a),f=1<<c;f&i|e[c]&i&&(e[c]|=i),a&=~f}}var Pe=0;function Hi(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ss,ui,xs,Cs,Nr,Dr=!1,ji=[],on=null,Mn=null,mn=null,Rr=new Map,de=new Map,dt=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oo(e,i){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Rr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":de.delete(i.pointerId)}}function ci(e,i,a,c,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=yi(i),i!==null&&ui(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function zo(e,i,a,c,f){switch(i){case"focusin":return on=ci(on,e,i,a,c,f),!0;case"dragenter":return Mn=ci(Mn,e,i,a,c,f),!0;case"mouseover":return mn=ci(mn,e,i,a,c,f),!0;case"pointerover":var m=f.pointerId;return Rr.set(m,ci(Rr.get(m)||null,e,i,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,de.set(m,ci(de.get(m)||null,e,i,a,c,f)),!0}return!1}function Es(e){var i=vi(e.target);if(i!==null){var a=jn(i);if(a!==null){if(i=a.tag,i===13){if(i=li(a),i!==null){e.blockedOn=i,Nr(e.priority,function(){xs(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _n(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=ks(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);Po=c,a.target.dispatchEvent(c),Po=null}else return i=yi(a),i!==null&&ui(i),e.blockedOn=a,!1;i.shift()}return!0}function Ts(e,i,a){_n(e)&&a.delete(i)}function br(){Dr=!1,on!==null&&_n(on)&&(on=null),Mn!==null&&_n(Mn)&&(Mn=null),mn!==null&&_n(mn)&&(mn=null),Rr.forEach(Ts),de.forEach(Ts)}function et(e,i){e.blockedOn===i&&(e.blockedOn=null,Dr||(Dr=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,br)))}function an(e){function i(f){return et(f,e)}if(0<ji.length){et(ji[0],e);for(var a=1;a<ji.length;a++){var c=ji[a];c.blockedOn===e&&(c.blockedOn=null)}}for(on!==null&&et(on,e),Mn!==null&&et(Mn,e),mn!==null&&et(mn,e),Rr.forEach(i),de.forEach(i),a=0;a<dt.length;a++)c=dt[a],c.blockedOn===e&&(c.blockedOn=null);for(;0<dt.length&&(a=dt[0],a.blockedOn===null);)Es(a),a.blockedOn===null&&dt.shift()}var hi=Be.ReactCurrentBatchConfig,Or=!0;function nc(e,i,a,c){var f=Pe,m=hi.transition;hi.transition=null;try{Pe=1,zr(e,i,a,c)}finally{Pe=f,hi.transition=m}}function cl(e,i,a,c){var f=Pe,m=hi.transition;hi.transition=null;try{Pe=4,zr(e,i,a,c)}finally{Pe=f,hi.transition=m}}function zr(e,i,a,c){if(Or){var f=ks(e,i,a,c);if(f===null)t(e,i,c,Ps,a),Oo(e,c);else if(zo(f,e,i,a,c))c.stopPropagation();else if(Oo(e,c),i&4&&-1<Oe.indexOf(e)){for(;f!==null;){var m=yi(f);if(m!==null&&Ss(m),m=ks(e,i,a,c),m===null&&t(e,i,c,Ps,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else t(e,i,c,null,a)}}var Ps=null;function ks(e,i,a,c){if(Ps=null,e=ko(c),e=vi(e),e!==null)if(i=jn(e),i===null)e=null;else if(a=i.tag,a===13){if(e=li(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return Ps=e,null}function Ce(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tc()){case Do:return 1;case ll:return 4;case vs:case Ro:return 16;case Fi:return 536870912;default:return 16}default:return 16}}var Zn=null,Ft=null,Vn=null;function Fo(){if(Vn)return Vn;var e,i=Ft,a=i.length,c,f="value"in Zn?Zn.value:Zn.textContent,m=f.length;for(e=0;e<a&&i[e]===f[e];e++);var v=a-e;for(c=1;c<=v&&i[a-c]===f[m-c];c++);return Vn=f.slice(e,1<c?1-c:void 0)}function Is(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function hl(){return!1}function Nt(e){function i(a,c,f,m,v){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(a=e[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Zi:hl,this.isPropagationStopped=hl,this}return O(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),i}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=Nt(Vi),di=O({},Vi,{view:0,detail:0}),ic=Nt(di),$t,Wo,Gi,ln=O({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gi&&(Gi&&e.type==="mousemove"?($t=e.screenX-Gi.screenX,Wo=e.screenY-Gi.screenY):Wo=$t=0,Gi=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Wo}}),Uo=Nt(ln),dl=O({},ln,{dataTransfer:0}),Ho=Nt(dl),rc=O({},di,{relatedTarget:0}),Ls=Nt(rc),fl=O({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),sc=Nt(fl),oc=O({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jo=Nt(oc),ac=O({},Vi,{data:0}),Zo=Nt(ac),pl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ms={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lc(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=fi[e])?!!i[e]:!1}function pi(){return lc}var Kt=O({},di,{key:function(e){if(e.key){var i=pl[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ms[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pi,charCode:function(e){return e.type==="keypress"?Is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ml=Nt(Kt),_l=O({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=Nt(_l),Vo=O({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pi}),Go=Nt(Vo),uc=O({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),cc=Nt(uc),vl=O({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hc=Nt(vl),un=[9,13,27,32],Gn=w&&"CompositionEvent"in window,Fr=null;w&&"documentMode"in document&&(Fr=document.documentMode);var An=w&&"TextEvent"in window&&!Fr,yl=w&&(!Gn||Fr&&8<Fr&&11>=Fr),mi=" ",wl=!1;function $i(e,i){switch(e){case"keyup":return un.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $o(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nn=!1;function dc(e,i){switch(e){case"compositionend":return $o(i);case"keypress":return i.which!==32?null:(wl=!0,mi);case"textInput":return e=i.data,e===mi&&wl?null:e;default:return null}}function $n(e,i){if(Nn)return e==="compositionend"||!Gn&&$i(e,i)?(e=Fo(),Vn=Ft=Zn=null,Nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yl&&i.locale!=="ko"?null:i.data;default:return null}}var As={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sl(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!As[e.type]:i==="textarea"}function Ns(e,i,a,c){Ja(c),i=u(i,"onChange"),0<i.length&&(a=new Bo("onChange","change",null,a,c),e.push({event:a,listeners:i}))}var Br=null,Bt=null;function fc(e){na(e,0)}function Dn(e){var i=wi(e);if(Di(i))return e}function pc(e,i){if(e==="change")return i}var gn=!1;if(w){var Ki;if(w){var Ds="oninput"in document;if(!Ds){var Rs=document.createElement("div");Rs.setAttribute("oninput","return;"),Ds=typeof Rs.oninput=="function"}Ki=Ds}else Ki=!1;gn=Ki&&(!document.documentMode||9<document.documentMode)}function Wr(){Br&&(Br.detachEvent("onpropertychange",bs),Bt=Br=null)}function bs(e){if(e.propertyName==="value"&&Dn(Bt)){var i=[];Ns(i,Bt,e,ko(e)),ms(fc,i)}}function Os(e,i,a){e==="focusin"?(Wr(),Br=i,Bt=a,Br.attachEvent("onpropertychange",bs)):e==="focusout"&&Wr()}function Qi(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dn(Bt)}function zs(e,i){if(e==="click")return Dn(i)}function Ko(e,i){if(e==="input"||e==="change")return Dn(i)}function xl(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var cn=typeof Object.is=="function"?Object.is:xl;function Kn(e,i){if(cn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!S.call(i,f)||!cn(e[f],i[f]))return!1}return!0}function Cl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qo(e,i){var a=Cl(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=i&&c>=i)return{node:a,offset:i-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cl(a)}}function El(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?El(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Yo(){for(var e=window,i=Ri();i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ri(e.document)}return i}function qo(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function vn(e){var i=Yo(),a=e.focusedElem,c=e.selectionRange;if(i!==a&&a&&a.ownerDocument&&El(a.ownerDocument.documentElement,a)){if(c!==null&&qo(a)){if(i=c.start,e=c.end,e===void 0&&(e=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(e,a.value.length);else if(e=(i=a.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var f=a.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!e.extend&&m>c&&(f=c,c=m,m=f),f=Qo(a,m);var v=Qo(a,c);f&&v&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),e.removeAllRanges(),m>c?(e.addRange(i),e.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),e.addRange(i)))}}for(i=[],e=a;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)e=i[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fs=w&&"documentMode"in document&&11>=document.documentMode,Yi=null,qi=null,Ur=null,Bs=!1;function Tl(e,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bs||Yi==null||Yi!==Ri(c)||(c=Yi,"selectionStart"in c&&qo(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ur&&Kn(Ur,c)||(Ur=c,c=u(qi,"onSelect"),0<c.length&&(i=new Bo("onSelect","select",null,i,a),e.push({event:i,listeners:c}),i.target=Yi)))}function Qn(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Xi={animationend:Qn("Animation","AnimationEnd"),animationiteration:Qn("Animation","AnimationIteration"),animationstart:Qn("Animation","AnimationStart"),transitionend:Qn("Transition","TransitionEnd")},Yn={},Xo={};w&&(Xo=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function Hr(e){if(Yn[e])return Yn[e];if(!Xi[e])return e;var i=Xi[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Xo)return Yn[e]=i[a];return e}var Pl=Hr("animationend"),yn=Hr("animationiteration"),Jo=Hr("animationstart"),ea=Hr("transitionend"),Ji=new Map,kl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,i){Ji.set(e,i),p(i,[e])}for(var _i=0;_i<kl.length;_i++){var Ws=kl[_i],Il=Ws.toLowerCase(),mc=Ws[0].toUpperCase()+Ws.slice(1);hn(Il,"on"+mc)}hn(Pl,"onAnimationEnd"),hn(yn,"onAnimationIteration"),hn(Jo,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(ea,"onTransitionEnd"),_("onMouseEnter",["mouseout","mouseover"]),_("onMouseLeave",["mouseout","mouseover"]),_("onPointerEnter",["pointerout","pointerover"]),_("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ll=new Set("cancel close invalid load scroll toggle".split(" ").concat(er));function ta(e,i,a){var c=e.type||"unknown-event";e.currentTarget=a,Mo(c,i,void 0,e),e.currentTarget=null}function na(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var v=c.length-1;0<=v;v--){var C=c[v],P=C.instance,z=C.currentTarget;if(C=C.listener,P!==m&&f.isPropagationStopped())break e;ta(f,C,z),m=P}else for(v=0;v<c.length;v++){if(C=c[v],P=C.instance,z=C.currentTarget,C=C.listener,P!==m&&f.isPropagationStopped())break e;ta(f,C,z),m=P}}}if(Lr)throw e=_s,Lr=!1,_s=null,e}function ze(e,i){var a=i[rr];a===void 0&&(a=i[rr]=new Set);var c=e+"__bubble";a.has(c)||(Ml(i,e,2,!1),a.add(c))}function ia(e,i,a){var c=0;i&&(c|=4),Ml(a,e,c,i)}var jr="_reactListening"+Math.random().toString(36).slice(2);function tr(e){if(!e[jr]){e[jr]=!0,l.forEach(function(a){a!=="selectionchange"&&(Ll.has(a)||ia(a,!1,e),ia(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[jr]||(i[jr]=!0,ia("selectionchange",!1,i))}}function Ml(e,i,a,c){switch(Ce(i)){case 1:var f=nc;break;case 4:f=cl;break;default:f=zr}a=f.bind(null,i,a,e),f=void 0,!Lo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(i,a,{capture:!0,passive:f}):e.addEventListener(i,a,!0):f!==void 0?e.addEventListener(i,a,{passive:f}):e.addEventListener(i,a,!1)}function t(e,i,a,c,f){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var C=c.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;v=v.return}for(;C!==null;){if(v=vi(C),v===null)return;if(P=v.tag,P===5||P===6){c=m=v;continue e}C=C.parentNode}}c=c.return}ms(function(){var z=m,j=ko(a),V=[];e:{var H=Ji.get(e);if(H!==void 0){var X=Bo,ie=e;switch(e){case"keypress":if(Is(a)===0)break e;case"keydown":case"keyup":X=ml;break;case"focusin":ie="focus",X=Ls;break;case"focusout":ie="blur",X=Ls;break;case"beforeblur":case"afterblur":X=Ls;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Ho;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Go;break;case Pl:case yn:case Jo:X=sc;break;case ea:X=cc;break;case"scroll":X=ic;break;case"wheel":X=hc;break;case"copy":case"cut":case"paste":X=jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=gl}var re=(i&4)!==0,at=!re&&e==="scroll",D=re?H!==null?H+"Capture":null:H;re=[];for(var I=z,R;I!==null;){R=I;var G=R.stateNode;if(R.tag===5&&G!==null&&(R=G,D!==null&&(G=kr(I,D),G!=null&&re.push(o(I,G,R)))),at)break;I=I.return}0<re.length&&(H=new X(H,ie,null,a,j),V.push({event:H,listeners:re}))}}if(!(i&7)){e:{if(H=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",H&&a!==Po&&(ie=a.relatedTarget||a.fromElement)&&(vi(ie)||ie[Re]))break e;if((X||H)&&(H=j.window===j?j:(H=j.ownerDocument)?H.defaultView||H.parentWindow:window,X?(ie=a.relatedTarget||a.toElement,X=z,ie=ie?vi(ie):null,ie!==null&&(at=jn(ie),ie!==at||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(X=null,ie=z),X!==ie)){if(re=Uo,G="onMouseLeave",D="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(re=gl,G="onPointerLeave",D="onPointerEnter",I="pointer"),at=X==null?H:wi(X),R=ie==null?H:wi(ie),H=new re(G,I+"leave",X,a,j),H.target=at,H.relatedTarget=R,G=null,vi(j)===z&&(re=new re(D,I+"enter",ie,a,j),re.target=R,re.relatedTarget=at,G=re),at=G,X&&ie)t:{for(re=X,D=ie,I=0,R=re;R;R=d(R))I++;for(R=0,G=D;G;G=d(G))R++;for(;0<I-R;)re=d(re),I--;for(;0<R-I;)D=d(D),R--;for(;I--;){if(re===D||D!==null&&re===D.alternate)break t;re=d(re),D=d(D)}re=null}else re=null;X!==null&&g(V,H,X,re,!1),ie!==null&&at!==null&&g(V,at,ie,re,!0)}}e:{if(H=z?wi(z):window,X=H.nodeName&&H.nodeName.toLowerCase(),X==="select"||X==="input"&&H.type==="file")var oe=pc;else if(Sl(H))if(gn)oe=Ko;else{oe=Qi;var ce=Os}else(X=H.nodeName)&&X.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(oe=zs);if(oe&&(oe=oe(e,z))){Ns(V,oe,a,j);break e}ce&&ce(e,H,z),e==="focusout"&&(ce=H._wrapperState)&&ce.controlled&&H.type==="number"&&xo(H,"number",H.value)}switch(ce=z?wi(z):window,e){case"focusin":(Sl(ce)||ce.contentEditable==="true")&&(Yi=ce,qi=z,Ur=null);break;case"focusout":Ur=qi=Yi=null;break;case"mousedown":Bs=!0;break;case"contextmenu":case"mouseup":case"dragend":Bs=!1,Tl(V,a,j);break;case"selectionchange":if(Fs)break;case"keydown":case"keyup":Tl(V,a,j)}var he;if(Gn)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Nn?$i(e,a)&&(pe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(yl&&a.locale!=="ko"&&(Nn||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Nn&&(he=Fo()):(Zn=j,Ft="value"in Zn?Zn.value:Zn.textContent,Nn=!0)),ce=u(z,pe),0<ce.length&&(pe=new Zo(pe,e,null,a,j),V.push({event:pe,listeners:ce}),he?pe.data=he:(he=$o(a),he!==null&&(pe.data=he)))),(he=An?dc(e,a):$n(e,a))&&(z=u(z,"onBeforeInput"),0<z.length&&(j=new Zo("onBeforeInput","beforeinput",null,a,j),V.push({event:j,listeners:z}),j.data=he))}na(V,i)})}function o(e,i,a){return{instance:e,listener:i,currentTarget:a}}function u(e,i){for(var a=i+"Capture",c=[];e!==null;){var f=e,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=kr(e,a),m!=null&&c.unshift(o(e,m,f)),m=kr(e,i),m!=null&&c.push(o(e,m,f))),e=e.return}return c}function d(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function g(e,i,a,c,f){for(var m=i._reactName,v=[];a!==null&&a!==c;){var C=a,P=C.alternate,z=C.stateNode;if(P!==null&&P===c)break;C.tag===5&&z!==null&&(C=z,f?(P=kr(a,m),P!=null&&v.unshift(o(a,P,C))):f||(P=kr(a,m),P!=null&&v.push(o(a,P,C)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var y=/\r\n?/g,E=/\u0000|\uFFFD/g;function N(e){return(typeof e=="string"?e:""+e).replace(y,`
`).replace(E,"")}function b(e,i,a){if(i=N(i),N(e)!==i&&a)throw Error(r(425))}function U(){}var Y=null,ue=null;function ge(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ft=typeof setTimeout=="function"?setTimeout:void 0,ut=typeof clearTimeout=="function"?clearTimeout:void 0,Wt=typeof Promise=="function"?Promise:void 0,Dt=typeof queueMicrotask=="function"?queueMicrotask:typeof Wt<"u"?function(e){return Wt.resolve(null).then(e).catch(nr)}:ft;function nr(e){setTimeout(function(){throw e})}function ra(e,i){var a=i,c=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){e.removeChild(f),an(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);an(i)}function qn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return e}function Al(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}var gi=Math.random().toString(36).slice(2),wn="__reactFiber$"+gi,ir="__reactProps$"+gi,Re="__reactContainer$"+gi,rr="__reactEvents$"+gi,_c="__reactListeners$"+gi,gc="__reactHandles$"+gi;function vi(e){var i=e[wn];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Re]||a[wn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Al(e);e!==null;){if(a=e[wn])return a;e=Al(e)}return i}e=a,a=e.parentNode}return null}function yi(e){return e=e[wn]||e[Re],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Us(e){return e[ir]||null}var vc=[],Hs=-1;function sr(e){return{current:e}}function Qe(e){0>Hs||(e.current=vc[Hs],vc[Hs]=null,Hs--)}function He(e,i){Hs++,vc[Hs]=e.current,e.current=i}var or={},Rt=sr(or),Qt=sr(!1),Zr=or;function js(e,i){var a=e.type.contextTypes;if(!a)return or;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=i[m];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=f),f}function Yt(e){return e=e.childContextTypes,e!=null}function Nl(){Qe(Qt),Qe(Rt)}function Vd(e,i,a){if(Rt.current!==or)throw Error(r(168));He(Rt,i),He(Qt,a)}function Gd(e,i,a){var c=e.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(r(108,Te(e)||"Unknown",f));return O({},a,c)}function Dl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||or,Zr=Rt.current,He(Rt,e),He(Qt,Qt.current),!0}function $d(e,i,a){var c=e.stateNode;if(!c)throw Error(r(169));a?(e=Gd(e,i,Zr),c.__reactInternalMemoizedMergedChildContext=e,Qe(Qt),Qe(Rt),He(Rt,e)):Qe(Qt),He(Qt,a)}var Si=null,Rl=!1,yc=!1;function Kd(e){Si===null?Si=[e]:Si.push(e)}function ig(e){Rl=!0,Kd(e)}function ar(){if(!yc&&Si!==null){yc=!0;var e=0,i=Pe;try{var a=Si;for(Pe=1;e<a.length;e++){var c=a[e];do c=c(!0);while(c!==null)}Si=null,Rl=!1}catch(f){throw Si!==null&&(Si=Si.slice(e+1)),al(Do,ar),f}finally{Pe=i,yc=!1}}return null}var Zs=[],Vs=0,bl=null,Ol=0,Sn=[],xn=0,Vr=null,xi=1,Ci="";function Gr(e,i){Zs[Vs++]=Ol,Zs[Vs++]=bl,bl=e,Ol=i}function Qd(e,i,a){Sn[xn++]=xi,Sn[xn++]=Ci,Sn[xn++]=Vr,Vr=e;var c=xi;e=Ci;var f=32-_e(c)-1;c&=~(1<<f),a+=1;var m=32-_e(i)+f;if(30<m){var v=f-f%5;m=(c&(1<<v)-1).toString(32),c>>=v,f-=v,xi=1<<32-_e(i)+f|a<<f|c,Ci=m+e}else xi=1<<m|a<<f|c,Ci=e}function wc(e){e.return!==null&&(Gr(e,1),Qd(e,1,0))}function Sc(e){for(;e===bl;)bl=Zs[--Vs],Zs[Vs]=null,Ol=Zs[--Vs],Zs[Vs]=null;for(;e===Vr;)Vr=Sn[--xn],Sn[xn]=null,Ci=Sn[--xn],Sn[xn]=null,xi=Sn[--xn],Sn[xn]=null}var dn=null,fn=null,Ye=!1,Rn=null;function Yd(e,i){var a=Pn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=e,i=e.deletions,i===null?(e.deletions=[a],e.flags|=16):i.push(a)}function qd(e,i){switch(e.tag){case 5:var a=e.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,dn=e,fn=qn(i.firstChild),!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,dn=e,fn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Vr!==null?{id:xi,overflow:Ci}:null,e.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Pn(18,null,null,0),a.stateNode=i,a.return=e,e.child=a,dn=e,fn=null,!0):!1;default:return!1}}function xc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cc(e){if(Ye){var i=fn;if(i){var a=i;if(!qd(e,i)){if(xc(e))throw Error(r(418));i=qn(a.nextSibling);var c=dn;i&&qd(e,i)?Yd(c,a):(e.flags=e.flags&-4097|2,Ye=!1,dn=e)}}else{if(xc(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ye=!1,dn=e}}}function Xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dn=e}function zl(e){if(e!==dn)return!1;if(!Ye)return Xd(e),Ye=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!=="head"&&i!=="body"&&!ge(e.type,e.memoizedProps)),i&&(i=fn)){if(xc(e))throw Jd(),Error(r(418));for(;i;)Yd(e,i),i=qn(i.nextSibling)}if(Xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(i===0){fn=qn(e.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}e=e.nextSibling}fn=null}}else fn=dn?qn(e.stateNode.nextSibling):null;return!0}function Jd(){for(var e=fn;e;)e=qn(e.nextSibling)}function Gs(){fn=dn=null,Ye=!1}function Ec(e){Rn===null?Rn=[e]:Rn.push(e)}var rg=Be.ReactCurrentBatchConfig;function sa(e,i,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(r(309));var c=a.stateNode}if(!c)throw Error(r(147,e));var f=c,m=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(v){var C=f.refs;v===null?delete C[m]:C[m]=v},i._stringRef=m,i)}if(typeof e!="string")throw Error(r(284));if(!a._owner)throw Error(r(290,e))}return e}function Fl(e,i){throw e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e))}function ef(e){var i=e._init;return i(e._payload)}function tf(e){function i(D,I){if(e){var R=D.deletions;R===null?(D.deletions=[I],D.flags|=16):R.push(I)}}function a(D,I){if(!e)return null;for(;I!==null;)i(D,I),I=I.sibling;return null}function c(D,I){for(D=new Map;I!==null;)I.key!==null?D.set(I.key,I):D.set(I.index,I),I=I.sibling;return D}function f(D,I){return D=mr(D,I),D.index=0,D.sibling=null,D}function m(D,I,R){return D.index=R,e?(R=D.alternate,R!==null?(R=R.index,R<I?(D.flags|=2,I):R):(D.flags|=2,I)):(D.flags|=1048576,I)}function v(D){return e&&D.alternate===null&&(D.flags|=2),D}function C(D,I,R,G){return I===null||I.tag!==6?(I=mh(R,D.mode,G),I.return=D,I):(I=f(I,R),I.return=D,I)}function P(D,I,R,G){var oe=R.type;return oe===ht?j(D,I,R.props.children,G,R.key):I!==null&&(I.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===De&&ef(oe)===I.type)?(G=f(I,R.props),G.ref=sa(D,I,R),G.return=D,G):(G=lu(R.type,R.key,R.props,null,D.mode,G),G.ref=sa(D,I,R),G.return=D,G)}function z(D,I,R,G){return I===null||I.tag!==4||I.stateNode.containerInfo!==R.containerInfo||I.stateNode.implementation!==R.implementation?(I=_h(R,D.mode,G),I.return=D,I):(I=f(I,R.children||[]),I.return=D,I)}function j(D,I,R,G,oe){return I===null||I.tag!==7?(I=es(R,D.mode,G,oe),I.return=D,I):(I=f(I,R),I.return=D,I)}function V(D,I,R){if(typeof I=="string"&&I!==""||typeof I=="number")return I=mh(""+I,D.mode,R),I.return=D,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case lt:return R=lu(I.type,I.key,I.props,null,D.mode,R),R.ref=sa(D,null,I),R.return=D,R;case qe:return I=_h(I,D.mode,R),I.return=D,I;case De:var G=I._init;return V(D,G(I._payload),R)}if(bi(I)||W(I))return I=es(I,D.mode,R,null),I.return=D,I;Fl(D,I)}return null}function H(D,I,R,G){var oe=I!==null?I.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return oe!==null?null:C(D,I,""+R,G);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case lt:return R.key===oe?P(D,I,R,G):null;case qe:return R.key===oe?z(D,I,R,G):null;case De:return oe=R._init,H(D,I,oe(R._payload),G)}if(bi(R)||W(R))return oe!==null?null:j(D,I,R,G,null);Fl(D,R)}return null}function X(D,I,R,G,oe){if(typeof G=="string"&&G!==""||typeof G=="number")return D=D.get(R)||null,C(I,D,""+G,oe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case lt:return D=D.get(G.key===null?R:G.key)||null,P(I,D,G,oe);case qe:return D=D.get(G.key===null?R:G.key)||null,z(I,D,G,oe);case De:var ce=G._init;return X(D,I,R,ce(G._payload),oe)}if(bi(G)||W(G))return D=D.get(R)||null,j(I,D,G,oe,null);Fl(I,G)}return null}function ie(D,I,R,G){for(var oe=null,ce=null,he=I,pe=I=0,vt=null;he!==null&&pe<R.length;pe++){he.index>pe?(vt=he,he=null):vt=he.sibling;var Me=H(D,he,R[pe],G);if(Me===null){he===null&&(he=vt);break}e&&he&&Me.alternate===null&&i(D,he),I=m(Me,I,pe),ce===null?oe=Me:ce.sibling=Me,ce=Me,he=vt}if(pe===R.length)return a(D,he),Ye&&Gr(D,pe),oe;if(he===null){for(;pe<R.length;pe++)he=V(D,R[pe],G),he!==null&&(I=m(he,I,pe),ce===null?oe=he:ce.sibling=he,ce=he);return Ye&&Gr(D,pe),oe}for(he=c(D,he);pe<R.length;pe++)vt=X(he,D,pe,R[pe],G),vt!==null&&(e&&vt.alternate!==null&&he.delete(vt.key===null?pe:vt.key),I=m(vt,I,pe),ce===null?oe=vt:ce.sibling=vt,ce=vt);return e&&he.forEach(function(_r){return i(D,_r)}),Ye&&Gr(D,pe),oe}function re(D,I,R,G){var oe=W(R);if(typeof oe!="function")throw Error(r(150));if(R=oe.call(R),R==null)throw Error(r(151));for(var ce=oe=null,he=I,pe=I=0,vt=null,Me=R.next();he!==null&&!Me.done;pe++,Me=R.next()){he.index>pe?(vt=he,he=null):vt=he.sibling;var _r=H(D,he,Me.value,G);if(_r===null){he===null&&(he=vt);break}e&&he&&_r.alternate===null&&i(D,he),I=m(_r,I,pe),ce===null?oe=_r:ce.sibling=_r,ce=_r,he=vt}if(Me.done)return a(D,he),Ye&&Gr(D,pe),oe;if(he===null){for(;!Me.done;pe++,Me=R.next())Me=V(D,Me.value,G),Me!==null&&(I=m(Me,I,pe),ce===null?oe=Me:ce.sibling=Me,ce=Me);return Ye&&Gr(D,pe),oe}for(he=c(D,he);!Me.done;pe++,Me=R.next())Me=X(he,D,pe,Me.value,G),Me!==null&&(e&&Me.alternate!==null&&he.delete(Me.key===null?pe:Me.key),I=m(Me,I,pe),ce===null?oe=Me:ce.sibling=Me,ce=Me);return e&&he.forEach(function(Og){return i(D,Og)}),Ye&&Gr(D,pe),oe}function at(D,I,R,G){if(typeof R=="object"&&R!==null&&R.type===ht&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case lt:e:{for(var oe=R.key,ce=I;ce!==null;){if(ce.key===oe){if(oe=R.type,oe===ht){if(ce.tag===7){a(D,ce.sibling),I=f(ce,R.props.children),I.return=D,D=I;break e}}else if(ce.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===De&&ef(oe)===ce.type){a(D,ce.sibling),I=f(ce,R.props),I.ref=sa(D,ce,R),I.return=D,D=I;break e}a(D,ce);break}else i(D,ce);ce=ce.sibling}R.type===ht?(I=es(R.props.children,D.mode,G,R.key),I.return=D,D=I):(G=lu(R.type,R.key,R.props,null,D.mode,G),G.ref=sa(D,I,R),G.return=D,D=G)}return v(D);case qe:e:{for(ce=R.key;I!==null;){if(I.key===ce)if(I.tag===4&&I.stateNode.containerInfo===R.containerInfo&&I.stateNode.implementation===R.implementation){a(D,I.sibling),I=f(I,R.children||[]),I.return=D,D=I;break e}else{a(D,I);break}else i(D,I);I=I.sibling}I=_h(R,D.mode,G),I.return=D,D=I}return v(D);case De:return ce=R._init,at(D,I,ce(R._payload),G)}if(bi(R))return ie(D,I,R,G);if(W(R))return re(D,I,R,G);Fl(D,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,I!==null&&I.tag===6?(a(D,I.sibling),I=f(I,R),I.return=D,D=I):(a(D,I),I=mh(R,D.mode,G),I.return=D,D=I),v(D)):a(D,I)}return at}var $s=tf(!0),nf=tf(!1),Bl=sr(null),Wl=null,Ks=null,Tc=null;function Pc(){Tc=Ks=Wl=null}function kc(e){var i=Bl.current;Qe(Bl),e._currentValue=i}function Ic(e,i,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===a)break;e=e.return}}function Qs(e,i){Wl=e,Tc=Ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&i&&(qt=!0),e.firstContext=null)}function Cn(e){var i=e._currentValue;if(Tc!==e)if(e={context:e,memoizedValue:i,next:null},Ks===null){if(Wl===null)throw Error(r(308));Ks=e,Wl.dependencies={lanes:0,firstContext:e}}else Ks=Ks.next=e;return i}var $r=null;function Lc(e){$r===null?$r=[e]:$r.push(e)}function rf(e,i,a,c){var f=i.interleaved;return f===null?(a.next=a,Lc(i)):(a.next=f.next,f.next=a),i.interleaved=a,Ei(e,c)}function Ei(e,i){e.lanes|=i;var a=e.alternate;for(a!==null&&(a.lanes|=i),a=e,e=e.return;e!==null;)e.childLanes|=i,a=e.alternate,a!==null&&(a.childLanes|=i),a=e,e=e.return;return a.tag===3?a.stateNode:null}var lr=!1;function Mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ti(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function ur(e,i,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,ke&2){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,Ei(e,a)}return f=c.interleaved,f===null?(i.next=i,Lc(c)):(i.next=f.next,f.next=i),c.interleaved=i,Ei(e,a)}function Ul(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,Ln(e,a)}}function of(e,i){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}function Hl(e,i,a,c){var f=e.updateQueue;lr=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var P=C,z=P.next;P.next=null,v===null?m=z:v.next=z,v=P;var j=e.alternate;j!==null&&(j=j.updateQueue,C=j.lastBaseUpdate,C!==v&&(C===null?j.firstBaseUpdate=z:C.next=z,j.lastBaseUpdate=P))}if(m!==null){var V=f.baseState;v=0,j=z=P=null,C=m;do{var H=C.lane,X=C.eventTime;if((c&H)===H){j!==null&&(j=j.next={eventTime:X,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ie=e,re=C;switch(H=i,X=a,re.tag){case 1:if(ie=re.payload,typeof ie=="function"){V=ie.call(X,V,H);break e}V=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=re.payload,H=typeof ie=="function"?ie.call(X,V,H):ie,H==null)break e;V=O({},V,H);break e;case 2:lr=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,H=f.effects,H===null?f.effects=[C]:H.push(C))}else X={eventTime:X,lane:H,tag:C.tag,payload:C.payload,callback:C.callback,next:null},j===null?(z=j=X,P=V):j=j.next=X,v|=H;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;H=C,C=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);if(j===null&&(P=V),f.baseState=P,f.firstBaseUpdate=z,f.lastBaseUpdate=j,i=f.shared.interleaved,i!==null){f=i;do v|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);Yr|=v,e.lanes=v,e.memoizedState=V}}function af(e,i,a){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var c=e[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(r(191,f));f.call(c)}}}var oa={},Xn=sr(oa),aa=sr(oa),la=sr(oa);function Kr(e){if(e===oa)throw Error(r(174));return e}function Ac(e,i){switch(He(la,i),He(aa,e),He(Xn,oa),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ds(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=ds(i,e)}Qe(Xn),He(Xn,i)}function Ys(){Qe(Xn),Qe(aa),Qe(la)}function lf(e){Kr(la.current);var i=Kr(Xn.current),a=ds(i,e.type);i!==a&&(He(aa,e),He(Xn,a))}function Nc(e){aa.current===e&&(Qe(Xn),Qe(aa))}var tt=sr(0);function jl(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dc=[];function Rc(){for(var e=0;e<Dc.length;e++)Dc[e]._workInProgressVersionPrimary=null;Dc.length=0}var Zl=Be.ReactCurrentDispatcher,bc=Be.ReactCurrentBatchConfig,Qr=0,nt=null,pt=null,_t=null,Vl=!1,ua=!1,ca=0,sg=0;function bt(){throw Error(r(321))}function Oc(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!cn(e[a],i[a]))return!1;return!0}function zc(e,i,a,c,f,m){if(Qr=m,nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Zl.current=e===null||e.memoizedState===null?ug:cg,e=a(c,f),ua){m=0;do{if(ua=!1,ca=0,25<=m)throw Error(r(301));m+=1,_t=pt=null,i.updateQueue=null,Zl.current=hg,e=a(c,f)}while(ua)}if(Zl.current=Kl,i=pt!==null&&pt.next!==null,Qr=0,_t=pt=nt=null,Vl=!1,i)throw Error(r(300));return e}function Fc(){var e=ca!==0;return ca=0,e}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?nt.memoizedState=_t=e:_t=_t.next=e,_t}function En(){if(pt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var i=_t===null?nt.memoizedState:_t.next;if(i!==null)_t=i,pt=e;else{if(e===null)throw Error(r(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},_t===null?nt.memoizedState=_t=e:_t=_t.next=e}return _t}function ha(e,i){return typeof i=="function"?i(e):i}function Bc(e){var i=En(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var c=pt,f=c.baseQueue,m=a.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}c.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,c=c.baseState;var C=v=null,P=null,z=m;do{var j=z.lane;if((Qr&j)===j)P!==null&&(P=P.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:e(c,z.action);else{var V={lane:j,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};P===null?(C=P=V,v=c):P=P.next=V,nt.lanes|=j,Yr|=j}z=z.next}while(z!==null&&z!==m);P===null?v=c:P.next=C,cn(c,i.memoizedState)||(qt=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=P,a.lastRenderedState=c}if(e=a.interleaved,e!==null){f=e;do m=f.lane,nt.lanes|=m,Yr|=m,f=f.next;while(f!==e)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Wc(e){var i=En(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var c=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=e(m,v.action),v=v.next;while(v!==f);cn(m,i.memoizedState)||(qt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function uf(){}function cf(e,i){var a=nt,c=En(),f=i(),m=!cn(c.memoizedState,f);if(m&&(c.memoizedState=f,qt=!0),c=c.queue,Uc(ff.bind(null,a,c,e),[e]),c.getSnapshot!==i||m||_t!==null&&_t.memoizedState.tag&1){if(a.flags|=2048,da(9,df.bind(null,a,c,f,i),void 0,null),gt===null)throw Error(r(349));Qr&30||hf(a,i,f)}return f}function hf(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=nt.updateQueue,i===null?(i={lastEffect:null,stores:null},nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function df(e,i,a,c){i.value=a,i.getSnapshot=c,pf(i)&&mf(e)}function ff(e,i,a){return a(function(){pf(i)&&mf(e)})}function pf(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!cn(e,a)}catch{return!0}}function mf(e){var i=Ei(e,1);i!==null&&Fn(i,e,1,-1)}function _f(e){var i=Jn();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},i.queue=e,e=e.dispatch=lg.bind(null,nt,e),[i.memoizedState,e]}function da(e,i,a,c){return e={tag:e,create:i,destroy:a,deps:c,next:null},i=nt.updateQueue,i===null?(i={lastEffect:null,stores:null},nt.updateQueue=i,i.lastEffect=e.next=e):(a=i.lastEffect,a===null?i.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,i.lastEffect=e)),e}function gf(){return En().memoizedState}function Gl(e,i,a,c){var f=Jn();nt.flags|=e,f.memoizedState=da(1|i,a,void 0,c===void 0?null:c)}function $l(e,i,a,c){var f=En();c=c===void 0?null:c;var m=void 0;if(pt!==null){var v=pt.memoizedState;if(m=v.destroy,c!==null&&Oc(c,v.deps)){f.memoizedState=da(i,a,m,c);return}}nt.flags|=e,f.memoizedState=da(1|i,a,m,c)}function vf(e,i){return Gl(8390656,8,e,i)}function Uc(e,i){return $l(2048,8,e,i)}function yf(e,i){return $l(4,2,e,i)}function wf(e,i){return $l(4,4,e,i)}function Sf(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function xf(e,i,a){return a=a!=null?a.concat([e]):null,$l(4,4,Sf.bind(null,i,e),a)}function Hc(){}function Cf(e,i){var a=En();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Oc(i,c[1])?c[0]:(a.memoizedState=[e,i],e)}function Ef(e,i){var a=En();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Oc(i,c[1])?c[0]:(e=e(),a.memoizedState=[e,i],e)}function Tf(e,i,a){return Qr&21?(cn(a,i)||(a=ul(),nt.lanes|=a,Yr|=a,e.baseState=!0),i):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=a)}function og(e,i){var a=Pe;Pe=a!==0&&4>a?a:4,e(!0);var c=bc.transition;bc.transition={};try{e(!1),i()}finally{Pe=a,bc.transition=c}}function Pf(){return En().memoizedState}function ag(e,i,a){var c=fr(e);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},kf(e))If(i,a);else if(a=rf(e,i,a,c),a!==null){var f=Ht();Fn(a,e,c,f),Lf(a,i,c)}}function lg(e,i,a){var c=fr(e),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(kf(e))If(i,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,C=m(v,a);if(f.hasEagerState=!0,f.eagerState=C,cn(C,v)){var P=i.interleaved;P===null?(f.next=f,Lc(i)):(f.next=P.next,P.next=f),i.interleaved=f;return}}catch{}finally{}a=rf(e,i,f,c),a!==null&&(f=Ht(),Fn(a,e,c,f),Lf(a,i,c))}}function kf(e){var i=e.alternate;return e===nt||i!==null&&i===nt}function If(e,i){ua=Vl=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Lf(e,i,a){if(a&4194240){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,Ln(e,a)}}var Kl={readContext:Cn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},ug={readContext:Cn,useCallback:function(e,i){return Jn().memoizedState=[e,i===void 0?null:i],e},useContext:Cn,useEffect:vf,useImperativeHandle:function(e,i,a){return a=a!=null?a.concat([e]):null,Gl(4194308,4,Sf.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Gl(4194308,4,e,i)},useInsertionEffect:function(e,i){return Gl(4,2,e,i)},useMemo:function(e,i){var a=Jn();return i=i===void 0?null:i,e=e(),a.memoizedState=[e,i],e},useReducer:function(e,i,a){var c=Jn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},c.queue=e,e=e.dispatch=ag.bind(null,nt,e),[c.memoizedState,e]},useRef:function(e){var i=Jn();return e={current:e},i.memoizedState=e},useState:_f,useDebugValue:Hc,useDeferredValue:function(e){return Jn().memoizedState=e},useTransition:function(){var e=_f(!1),i=e[0];return e=og.bind(null,e[1]),Jn().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,a){var c=nt,f=Jn();if(Ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),gt===null)throw Error(r(349));Qr&30||hf(c,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,vf(ff.bind(null,c,m,e),[e]),c.flags|=2048,da(9,df.bind(null,c,m,a,i),void 0,null),a},useId:function(){var e=Jn(),i=gt.identifierPrefix;if(Ye){var a=Ci,c=xi;a=(c&~(1<<32-_e(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=ca++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=sg++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},unstable_isNewReconciler:!1},cg={readContext:Cn,useCallback:Cf,useContext:Cn,useEffect:Uc,useImperativeHandle:xf,useInsertionEffect:yf,useLayoutEffect:wf,useMemo:Ef,useReducer:Bc,useRef:gf,useState:function(){return Bc(ha)},useDebugValue:Hc,useDeferredValue:function(e){var i=En();return Tf(i,pt.memoizedState,e)},useTransition:function(){var e=Bc(ha)[0],i=En().memoizedState;return[e,i]},useMutableSource:uf,useSyncExternalStore:cf,useId:Pf,unstable_isNewReconciler:!1},hg={readContext:Cn,useCallback:Cf,useContext:Cn,useEffect:Uc,useImperativeHandle:xf,useInsertionEffect:yf,useLayoutEffect:wf,useMemo:Ef,useReducer:Wc,useRef:gf,useState:function(){return Wc(ha)},useDebugValue:Hc,useDeferredValue:function(e){var i=En();return pt===null?i.memoizedState=e:Tf(i,pt.memoizedState,e)},useTransition:function(){var e=Wc(ha)[0],i=En().memoizedState;return[e,i]},useMutableSource:uf,useSyncExternalStore:cf,useId:Pf,unstable_isNewReconciler:!1};function bn(e,i){if(e&&e.defaultProps){i=O({},i),e=e.defaultProps;for(var a in e)i[a]===void 0&&(i[a]=e[a]);return i}return i}function jc(e,i,a,c){i=e.memoizedState,a=a(c,i),a=a==null?i:O({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ql={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var c=Ht(),f=fr(e),m=Ti(c,f);m.payload=i,a!=null&&(m.callback=a),i=ur(e,m,f),i!==null&&(Fn(i,e,f,c),Ul(i,e,f))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var c=Ht(),f=fr(e),m=Ti(c,f);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=ur(e,m,f),i!==null&&(Fn(i,e,f,c),Ul(i,e,f))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Ht(),c=fr(e),f=Ti(a,c);f.tag=2,i!=null&&(f.callback=i),i=ur(e,f,c),i!==null&&(Fn(i,e,c,a),Ul(i,e,c))}};function Mf(e,i,a,c,f,m,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,m,v):i.prototype&&i.prototype.isPureReactComponent?!Kn(a,c)||!Kn(f,m):!0}function Af(e,i,a){var c=!1,f=or,m=i.contextType;return typeof m=="object"&&m!==null?m=Cn(m):(f=Yt(i)?Zr:Rt.current,c=i.contextTypes,m=(c=c!=null)?js(e,f):or),i=new i(a,m),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ql,e.stateNode=i,i._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=m),i}function Nf(e,i,a,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==e&&Ql.enqueueReplaceState(i,i.state,null)}function Zc(e,i,a,c){var f=e.stateNode;f.props=a,f.state=e.memoizedState,f.refs={},Mc(e);var m=i.contextType;typeof m=="object"&&m!==null?f.context=Cn(m):(m=Yt(i)?Zr:Rt.current,f.context=js(e,m)),f.state=e.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(jc(e,i,m,a),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Ql.enqueueReplaceState(f,f.state,null),Hl(e,a,f,c),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function qs(e,i){try{var a="",c=i;do a+=te(c),c=c.return;while(c);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:i,stack:f,digest:null}}function Vc(e,i,a){return{value:e,source:null,stack:a??null,digest:i??null}}function Gc(e,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var dg=typeof WeakMap=="function"?WeakMap:Map;function Df(e,i,a){a=Ti(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){nu||(nu=!0,ah=c),Gc(e,i)},a}function Rf(e,i,a){a=Ti(-1,a),a.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){Gc(e,i)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Gc(e,i),typeof c!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function bf(e,i,a){var c=e.pingCache;if(c===null){c=e.pingCache=new dg;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),e=Pg.bind(null,e,i,a),i.then(e,e))}function Of(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function zf(e,i,a,c,f){return e.mode&1?(e.flags|=65536,e.lanes=f,e):(e===i?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Ti(-1,1),i.tag=2,ur(a,i,1))),a.lanes|=1),e)}var fg=Be.ReactCurrentOwner,qt=!1;function Ut(e,i,a,c){i.child=e===null?nf(i,null,a,c):$s(i,e.child,a,c)}function Ff(e,i,a,c,f){a=a.render;var m=i.ref;return Qs(i,f),c=zc(e,i,a,c,m,f),a=Fc(),e!==null&&!qt?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~f,Pi(e,i,f)):(Ye&&a&&wc(i),i.flags|=1,Ut(e,i,c,f),i.child)}function Bf(e,i,a,c,f){if(e===null){var m=a.type;return typeof m=="function"&&!ph(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,Wf(e,i,m,c,f)):(e=lu(a.type,null,c,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(m=e.child,!(e.lanes&f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Kn,a(v,c)&&e.ref===i.ref)return Pi(e,i,f)}return i.flags|=1,e=mr(m,c),e.ref=i.ref,e.return=i,i.child=e}function Wf(e,i,a,c,f){if(e!==null){var m=e.memoizedProps;if(Kn(m,c)&&e.ref===i.ref)if(qt=!1,i.pendingProps=c=m,(e.lanes&f)!==0)e.flags&131072&&(qt=!0);else return i.lanes=e.lanes,Pi(e,i,f)}return $c(e,i,a,c,f)}function Uf(e,i,a){var c=i.pendingProps,f=c.children,m=e!==null?e.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Js,pn),pn|=a;else{if(!(a&1073741824))return e=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,He(Js,pn),pn|=e,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,He(Js,pn),pn|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,He(Js,pn),pn|=c;return Ut(e,i,f,a),i.child}function Hf(e,i){var a=i.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function $c(e,i,a,c,f){var m=Yt(a)?Zr:Rt.current;return m=js(i,m),Qs(i,f),a=zc(e,i,a,c,m,f),c=Fc(),e!==null&&!qt?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~f,Pi(e,i,f)):(Ye&&c&&wc(i),i.flags|=1,Ut(e,i,a,f),i.child)}function jf(e,i,a,c,f){if(Yt(a)){var m=!0;Dl(i)}else m=!1;if(Qs(i,f),i.stateNode===null)ql(e,i),Af(i,a,c),Zc(i,a,c,f),c=!0;else if(e===null){var v=i.stateNode,C=i.memoizedProps;v.props=C;var P=v.context,z=a.contextType;typeof z=="object"&&z!==null?z=Cn(z):(z=Yt(a)?Zr:Rt.current,z=js(i,z));var j=a.getDerivedStateFromProps,V=typeof j=="function"||typeof v.getSnapshotBeforeUpdate=="function";V||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==c||P!==z)&&Nf(i,v,c,z),lr=!1;var H=i.memoizedState;v.state=H,Hl(i,c,v,f),P=i.memoizedState,C!==c||H!==P||Qt.current||lr?(typeof j=="function"&&(jc(i,a,j,c),P=i.memoizedState),(C=lr||Mf(i,a,C,c,H,P,z))?(V||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),v.props=c,v.state=P,v.context=z,c=C):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,sf(e,i),C=i.memoizedProps,z=i.type===i.elementType?C:bn(i.type,C),v.props=z,V=i.pendingProps,H=v.context,P=a.contextType,typeof P=="object"&&P!==null?P=Cn(P):(P=Yt(a)?Zr:Rt.current,P=js(i,P));var X=a.getDerivedStateFromProps;(j=typeof X=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==V||H!==P)&&Nf(i,v,c,P),lr=!1,H=i.memoizedState,v.state=H,Hl(i,c,v,f);var ie=i.memoizedState;C!==V||H!==ie||Qt.current||lr?(typeof X=="function"&&(jc(i,a,X,c),ie=i.memoizedState),(z=lr||Mf(i,a,z,c,H,ie,P)||!1)?(j||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ie,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ie,P)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ie),v.props=c,v.state=ie,v.context=P,c=z):(typeof v.componentDidUpdate!="function"||C===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),c=!1)}return Kc(e,i,a,c,m,f)}function Kc(e,i,a,c,f,m){Hf(e,i);var v=(i.flags&128)!==0;if(!c&&!v)return f&&$d(i,a,!1),Pi(e,i,m);c=i.stateNode,fg.current=i;var C=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,e!==null&&v?(i.child=$s(i,e.child,null,m),i.child=$s(i,null,C,m)):Ut(e,i,C,m),i.memoizedState=c.state,f&&$d(i,a,!0),i.child}function Zf(e){var i=e.stateNode;i.pendingContext?Vd(e,i.pendingContext,i.pendingContext!==i.context):i.context&&Vd(e,i.context,!1),Ac(e,i.containerInfo)}function Vf(e,i,a,c,f){return Gs(),Ec(f),i.flags|=256,Ut(e,i,a,c),i.child}var Qc={dehydrated:null,treeContext:null,retryLane:0};function Yc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gf(e,i,a){var c=i.pendingProps,f=tt.current,m=!1,v=(i.flags&128)!==0,C;if((C=v)||(C=e!==null&&e.memoizedState===null?!1:(f&2)!==0),C?(m=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),He(tt,f&1),e===null)return Cc(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(i.mode&1?e.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(v=c.children,e=c.fallback,m?(c=i.mode,m=i.child,v={mode:"hidden",children:v},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=v):m=uu(v,c,0,null),e=es(e,c,a,null),m.return=i,e.return=i,m.sibling=e,i.child=m,i.child.memoizedState=Yc(a),i.memoizedState=Qc,e):qc(i,v));if(f=e.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return pg(e,i,v,c,C,f,a);if(m){m=c.fallback,v=i.mode,f=e.child,C=f.sibling;var P={mode:"hidden",children:c.children};return!(v&1)&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=P,i.deletions=null):(c=mr(f,P),c.subtreeFlags=f.subtreeFlags&14680064),C!==null?m=mr(C,m):(m=es(m,v,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,v=e.child.memoizedState,v=v===null?Yc(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=e.childLanes&~a,i.memoizedState=Qc,c}return m=e.child,e=m.sibling,c=mr(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,e!==null&&(a=i.deletions,a===null?(i.deletions=[e],i.flags|=16):a.push(e)),i.child=c,i.memoizedState=null,c}function qc(e,i){return i=uu({mode:"visible",children:i},e.mode,0,null),i.return=e,e.child=i}function Yl(e,i,a,c){return c!==null&&Ec(c),$s(i,e.child,null,a),e=qc(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function pg(e,i,a,c,f,m,v){if(a)return i.flags&256?(i.flags&=-257,c=Vc(Error(r(422))),Yl(e,i,v,c)):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(m=c.fallback,f=i.mode,c=uu({mode:"visible",children:c.children},f,0,null),m=es(m,f,v,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&$s(i,e.child,null,v),i.child.memoizedState=Yc(v),i.memoizedState=Qc,m);if(!(i.mode&1))return Yl(e,i,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var C=c.dgst;return c=C,m=Error(r(419)),c=Vc(m,c,void 0),Yl(e,i,v,c)}if(C=(v&e.childLanes)!==0,qt||C){if(c=gt,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|v)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,Ei(e,f),Fn(c,e,f,-1))}return fh(),c=Vc(Error(r(421))),Yl(e,i,v,c)}return f.data==="$?"?(i.flags|=128,i.child=e.child,i=kg.bind(null,e),f._reactRetry=i,null):(e=m.treeContext,fn=qn(f.nextSibling),dn=i,Ye=!0,Rn=null,e!==null&&(Sn[xn++]=xi,Sn[xn++]=Ci,Sn[xn++]=Vr,xi=e.id,Ci=e.overflow,Vr=i),i=qc(i,c.children),i.flags|=4096,i)}function $f(e,i,a){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),Ic(e.return,i,a)}function Xc(e,i,a,c,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=f)}function Kf(e,i,a){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(Ut(e,i,c.children,a),c=tt.current,c&2)c=c&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$f(e,a,i);else if(e.tag===19)$f(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(He(tt,c),!(i.mode&1))i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)e=a.alternate,e!==null&&jl(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Xc(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&jl(e)===null){i.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Xc(i,!0,a,null,m);break;case"together":Xc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ql(e,i){!(i.mode&1)&&e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2)}function Pi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Yr|=i.lanes,!(a&i.childLanes))return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=mr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=mr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function mg(e,i,a){switch(i.tag){case 3:Zf(i),Gs();break;case 5:lf(i);break;case 1:Yt(i.type)&&Dl(i);break;case 4:Ac(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;He(Bl,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(He(tt,tt.current&1),i.flags|=128,null):a&i.child.childLanes?Gf(e,i,a):(He(tt,tt.current&1),e=Pi(e,i,a),e!==null?e.sibling:null);He(tt,tt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,e.flags&128){if(c)return Kf(e,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),He(tt,tt.current),c)break;return null;case 22:case 23:return i.lanes=0,Uf(e,i,a)}return Pi(e,i,a)}var Qf,Jc,Yf,qf;Qf=function(e,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Jc=function(){},Yf=function(e,i,a,c){var f=e.memoizedProps;if(f!==c){e=i.stateNode,Kr(Xn.current);var m=null;switch(a){case"input":f=yo(e,f),c=yo(e,c),m=[];break;case"select":f=O({},f,{value:void 0}),c=O({},c,{value:void 0}),m=[];break;case"textarea":f=cs(e,f),c=cs(e,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=U)}To(a,c);var v;a=null;for(z in f)if(!c.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var C=f[z];for(v in C)C.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(h.hasOwnProperty(z)?m||(m=[]):(m=m||[]).push(z,null));for(z in c){var P=c[z];if(C=f!=null?f[z]:void 0,c.hasOwnProperty(z)&&P!==C&&(P!=null||C!=null))if(z==="style")if(C){for(v in C)!C.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in P)P.hasOwnProperty(v)&&C[v]!==P[v]&&(a||(a={}),a[v]=P[v])}else a||(m||(m=[]),m.push(z,a)),a=P;else z==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,C=C?C.__html:void 0,P!=null&&C!==P&&(m=m||[]).push(z,P)):z==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(z,""+P):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(h.hasOwnProperty(z)?(P!=null&&z==="onScroll"&&ze("scroll",e),m||C===P||(m=[])):(m=m||[]).push(z,P))}a&&(m=m||[]).push("style",a);var z=m;(i.updateQueue=z)&&(i.flags|=4)}},qf=function(e,i,a,c){a!==c&&(i.flags|=4)};function fa(e,i){if(!Ye)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Ot(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(i)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=a,i}function _g(e,i,a){var c=i.pendingProps;switch(Sc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Yt(i.type)&&Nl(),Ot(i),null;case 3:return c=i.stateNode,Ys(),Qe(Qt),Qe(Rt),Rc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(zl(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Rn!==null&&(ch(Rn),Rn=null))),Jc(e,i),Ot(i),null;case 5:Nc(i);var f=Kr(la.current);if(a=i.type,e!==null&&i.stateNode!=null)Yf(e,i,a,c,f),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Ot(i),null}if(e=Kr(Xn.current),zl(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[wn]=i,c[ir]=m,e=(i.mode&1)!==0,a){case"dialog":ze("cancel",c),ze("close",c);break;case"iframe":case"object":case"embed":ze("load",c);break;case"video":case"audio":for(f=0;f<er.length;f++)ze(er[f],c);break;case"source":ze("error",c);break;case"img":case"image":case"link":ze("error",c),ze("load",c);break;case"details":ze("toggle",c);break;case"input":wo(c,m),ze("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},ze("invalid",c);break;case"textarea":Co(c,m),ze("invalid",c)}To(a,m),f=null;for(var v in m)if(m.hasOwnProperty(v)){var C=m[v];v==="children"?typeof C=="string"?c.textContent!==C&&(m.suppressHydrationWarning!==!0&&b(c.textContent,C,e),f=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&b(c.textContent,C,e),f=["children",""+C]):h.hasOwnProperty(v)&&C!=null&&v==="onScroll"&&ze("scroll",c)}switch(a){case"input":Ni(c),Tr(c,m,!0);break;case"textarea":Ni(c),Qa(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=U)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hs(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=v.createElement(a,{is:c.is}):(e=v.createElement(a),a==="select"&&(v=e,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):e=v.createElementNS(e,a),e[wn]=i,e[ir]=c,Qf(e,i,!1,!1),i.stateNode=e;e:{switch(v=si(a,c),a){case"dialog":ze("cancel",e),ze("close",e),f=c;break;case"iframe":case"object":case"embed":ze("load",e),f=c;break;case"video":case"audio":for(f=0;f<er.length;f++)ze(er[f],e);f=c;break;case"source":ze("error",e),f=c;break;case"img":case"image":case"link":ze("error",e),ze("load",e),f=c;break;case"details":ze("toggle",e),f=c;break;case"input":wo(e,c),f=yo(e,c),ze("invalid",e);break;case"option":f=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},f=O({},c,{value:void 0}),ze("invalid",e);break;case"textarea":Co(e,c),f=cs(e,c),ze("invalid",e);break;default:f=c}To(a,f),C=f;for(m in C)if(C.hasOwnProperty(m)){var P=C[m];m==="style"?fs(e,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Ya(e,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Oi(e,P):typeof P=="number"&&Oi(e,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(h.hasOwnProperty(m)?P!=null&&m==="onScroll"&&ze("scroll",e):P!=null&&Le(e,m,P,v))}switch(a){case"input":Ni(e),Tr(e,c,!1);break;case"textarea":Ni(e),Qa(e);break;case"option":c.value!=null&&e.setAttribute("value",""+ye(c.value));break;case"select":e.multiple=!!c.multiple,m=c.value,m!=null?Hn(e,!!c.multiple,m,!1):c.defaultValue!=null&&Hn(e,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=U)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ot(i),null;case 6:if(e&&i.stateNode!=null)qf(e,i,e.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(a=Kr(la.current),Kr(Xn.current),zl(i)){if(c=i.stateNode,a=i.memoizedProps,c[wn]=i,(m=c.nodeValue!==a)&&(e=dn,e!==null))switch(e.tag){case 3:b(c.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&b(c.nodeValue,a,(e.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[wn]=i,i.stateNode=c}return Ot(i),null;case 13:if(Qe(tt),c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&fn!==null&&i.mode&1&&!(i.flags&128))Jd(),Gs(),i.flags|=98560,m=!1;else if(m=zl(i),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(r(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[wn]=i}else Gs(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Ot(i),m=!1}else Rn!==null&&(ch(Rn),Rn=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(e===null||tt.current&1?mt===0&&(mt=3):fh())),i.updateQueue!==null&&(i.flags|=4),Ot(i),null);case 4:return Ys(),Jc(e,i),e===null&&tr(i.stateNode.containerInfo),Ot(i),null;case 10:return kc(i.type._context),Ot(i),null;case 17:return Yt(i.type)&&Nl(),Ot(i),null;case 19:if(Qe(tt),m=i.memoizedState,m===null)return Ot(i),null;if(c=(i.flags&128)!==0,v=m.rendering,v===null)if(c)fa(m,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(v=jl(e),v!==null){for(i.flags|=128,fa(m,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,e=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=e,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,e=v.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return He(tt,tt.current&1|2),i.child}e=e.sibling}m.tail!==null&&Je()>eo&&(i.flags|=128,c=!0,fa(m,!1),i.lanes=4194304)}else{if(!c)if(e=jl(v),e!==null){if(i.flags|=128,c=!0,a=e.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),fa(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Ye)return Ot(i),null}else 2*Je()-m.renderingStartTime>eo&&a!==1073741824&&(i.flags|=128,c=!0,fa(m,!1),i.lanes=4194304);m.isBackwards?(v.sibling=i.child,i.child=v):(a=m.last,a!==null?a.sibling=v:i.child=v,m.last=v)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Je(),i.sibling=null,a=tt.current,He(tt,c?a&1|2:a&1),i):(Ot(i),null);case 22:case 23:return dh(),c=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?pn&1073741824&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function gg(e,i){switch(Sc(i),i.tag){case 1:return Yt(i.type)&&Nl(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ys(),Qe(Qt),Qe(Rt),Rc(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 5:return Nc(i),null;case 13:if(Qe(tt),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Gs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Qe(tt),null;case 4:return Ys(),null;case 10:return kc(i.type._context),null;case 22:case 23:return dh(),null;case 24:return null;default:return null}}var Xl=!1,zt=!1,vg=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Xs(e,i){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){rt(e,i,c)}else a.current=null}function eh(e,i,a){try{a()}catch(c){rt(e,i,c)}}var Xf=!1;function yg(e,i){if(Y=Or,e=Yo(),qo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,C=-1,P=-1,z=0,j=0,V=e,H=null;t:for(;;){for(var X;V!==a||f!==0&&V.nodeType!==3||(C=v+f),V!==m||c!==0&&V.nodeType!==3||(P=v+c),V.nodeType===3&&(v+=V.nodeValue.length),(X=V.firstChild)!==null;)H=V,V=X;for(;;){if(V===e)break t;if(H===a&&++z===f&&(C=v),H===m&&++j===c&&(P=v),(X=V.nextSibling)!==null)break;V=H,H=V.parentNode}V=X}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(ue={focusedElem:e,selectionRange:a},Or=!1,ne=i;ne!==null;)if(i=ne,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ne=e;else for(;ne!==null;){i=ne;try{var ie=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var re=ie.memoizedProps,at=ie.memoizedState,D=i.stateNode,I=D.getSnapshotBeforeUpdate(i.elementType===i.type?re:bn(i.type,re),at);D.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var R=i.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(G){rt(i,i.return,G)}if(e=i.sibling,e!==null){e.return=i.return,ne=e;break}ne=i.return}return ie=Xf,Xf=!1,ie}function pa(e,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&e)===e){var m=f.destroy;f.destroy=void 0,m!==void 0&&eh(i,a,m)}f=f.next}while(f!==c)}}function Jl(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function th(e){var i=e.ref;if(i!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof i=="function"?i(e):i.current=e}}function Jf(e){var i=e.alternate;i!==null&&(e.alternate=null,Jf(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[wn],delete i[ir],delete i[rr],delete i[_c],delete i[gc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ep(e){return e.tag===5||e.tag===3||e.tag===4}function tp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nh(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=U));else if(c!==4&&(e=e.child,e!==null))for(nh(e,i,a),e=e.sibling;e!==null;)nh(e,i,a),e=e.sibling}function ih(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(ih(e,i,a),e=e.sibling;e!==null;)ih(e,i,a),e=e.sibling}var Pt=null,On=!1;function cr(e,i,a){for(a=a.child;a!==null;)np(e,i,a),a=a.sibling}function np(e,i,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Mr,a)}catch{}switch(a.tag){case 5:zt||Xs(a,i);case 6:var c=Pt,f=On;Pt=null,cr(e,i,a),Pt=c,On=f,Pt!==null&&(On?(e=Pt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):Pt.removeChild(a.stateNode));break;case 18:Pt!==null&&(On?(e=Pt,a=a.stateNode,e.nodeType===8?ra(e.parentNode,a):e.nodeType===1&&ra(e,a),an(e)):ra(Pt,a.stateNode));break;case 4:c=Pt,f=On,Pt=a.stateNode.containerInfo,On=!0,cr(e,i,a),Pt=c,On=f;break;case 0:case 11:case 14:case 15:if(!zt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,v=m.destroy;m=m.tag,v!==void 0&&(m&2||m&4)&&eh(a,i,v),f=f.next}while(f!==c)}cr(e,i,a);break;case 1:if(!zt&&(Xs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){rt(a,i,C)}cr(e,i,a);break;case 21:cr(e,i,a);break;case 22:a.mode&1?(zt=(c=zt)||a.memoizedState!==null,cr(e,i,a),zt=c):cr(e,i,a);break;default:cr(e,i,a)}}function ip(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new vg),i.forEach(function(c){var f=Ig.bind(null,e,c);a.has(c)||(a.add(c),c.then(f,f))})}}function zn(e,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var m=e,v=i,C=v;e:for(;C!==null;){switch(C.tag){case 5:Pt=C.stateNode,On=!1;break e;case 3:Pt=C.stateNode.containerInfo,On=!0;break e;case 4:Pt=C.stateNode.containerInfo,On=!0;break e}C=C.return}if(Pt===null)throw Error(r(160));np(m,v,f),Pt=null,On=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(z){rt(f,i,z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)rp(i,e),i=i.sibling}function rp(e,i){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zn(i,e),ei(e),c&4){try{pa(3,e,e.return),Jl(3,e)}catch(re){rt(e,e.return,re)}try{pa(5,e,e.return)}catch(re){rt(e,e.return,re)}}break;case 1:zn(i,e),ei(e),c&512&&a!==null&&Xs(a,a.return);break;case 5:if(zn(i,e),ei(e),c&512&&a!==null&&Xs(a,a.return),e.flags&32){var f=e.stateNode;try{Oi(f,"")}catch(re){rt(e,e.return,re)}}if(c&4&&(f=e.stateNode,f!=null)){var m=e.memoizedProps,v=a!==null?a.memoizedProps:m,C=e.type,P=e.updateQueue;if(e.updateQueue=null,P!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&So(f,m),si(C,v);var z=si(C,m);for(v=0;v<P.length;v+=2){var j=P[v],V=P[v+1];j==="style"?fs(f,V):j==="dangerouslySetInnerHTML"?Ya(f,V):j==="children"?Oi(f,V):Le(f,j,V,z)}switch(C){case"input":Er(f,m);break;case"textarea":Ka(f,m);break;case"select":var H=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var X=m.value;X!=null?Hn(f,!!m.multiple,X,!1):H!==!!m.multiple&&(m.defaultValue!=null?Hn(f,!!m.multiple,m.defaultValue,!0):Hn(f,!!m.multiple,m.multiple?[]:"",!1))}f[ir]=m}catch(re){rt(e,e.return,re)}}break;case 6:if(zn(i,e),ei(e),c&4){if(e.stateNode===null)throw Error(r(162));f=e.stateNode,m=e.memoizedProps;try{f.nodeValue=m}catch(re){rt(e,e.return,re)}}break;case 3:if(zn(i,e),ei(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{an(i.containerInfo)}catch(re){rt(e,e.return,re)}break;case 4:zn(i,e),ei(e);break;case 13:zn(i,e),ei(e),f=e.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(oh=Je())),c&4&&ip(e);break;case 22:if(j=a!==null&&a.memoizedState!==null,e.mode&1?(zt=(z=zt)||j,zn(i,e),zt=z):zn(i,e),ei(e),c&8192){if(z=e.memoizedState!==null,(e.stateNode.isHidden=z)&&!j&&e.mode&1)for(ne=e,j=e.child;j!==null;){for(V=ne=j;ne!==null;){switch(H=ne,X=H.child,H.tag){case 0:case 11:case 14:case 15:pa(4,H,H.return);break;case 1:Xs(H,H.return);var ie=H.stateNode;if(typeof ie.componentWillUnmount=="function"){c=H,a=H.return;try{i=c,ie.props=i.memoizedProps,ie.state=i.memoizedState,ie.componentWillUnmount()}catch(re){rt(c,a,re)}}break;case 5:Xs(H,H.return);break;case 22:if(H.memoizedState!==null){ap(V);continue}}X!==null?(X.return=H,ne=X):ap(V)}j=j.sibling}e:for(j=null,V=e;;){if(V.tag===5){if(j===null){j=V;try{f=V.stateNode,z?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=V.stateNode,P=V.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,C.style.display=Eo("display",v))}catch(re){rt(e,e.return,re)}}}else if(V.tag===6){if(j===null)try{V.stateNode.nodeValue=z?"":V.memoizedProps}catch(re){rt(e,e.return,re)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===e)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===e)break e;for(;V.sibling===null;){if(V.return===null||V.return===e)break e;j===V&&(j=null),V=V.return}j===V&&(j=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:zn(i,e),ei(e),c&4&&ip(e);break;case 21:break;default:zn(i,e),ei(e)}}function ei(e){var i=e.flags;if(i&2){try{e:{for(var a=e.return;a!==null;){if(ep(a)){var c=a;break e}a=a.return}throw Error(r(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Oi(f,""),c.flags&=-33);var m=tp(e);ih(e,m,f);break;case 3:case 4:var v=c.stateNode.containerInfo,C=tp(e);nh(e,C,v);break;default:throw Error(r(161))}}catch(P){rt(e,e.return,P)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function wg(e,i,a){ne=e,sp(e)}function sp(e,i,a){for(var c=(e.mode&1)!==0;ne!==null;){var f=ne,m=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||Xl;if(!v){var C=f.alternate,P=C!==null&&C.memoizedState!==null||zt;C=Xl;var z=zt;if(Xl=v,(zt=P)&&!z)for(ne=f;ne!==null;)v=ne,P=v.child,v.tag===22&&v.memoizedState!==null?lp(f):P!==null?(P.return=v,ne=P):lp(f);for(;m!==null;)ne=m,sp(m),m=m.sibling;ne=f,Xl=C,zt=z}op(e)}else f.subtreeFlags&8772&&m!==null?(m.return=f,ne=m):op(e)}}function op(e){for(;ne!==null;){var i=ne;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:zt||Jl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!zt)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:bn(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&af(i,m,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}af(i,v,a)}break;case 5:var C=i.stateNode;if(a===null&&i.flags&4){a=C;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var z=i.alternate;if(z!==null){var j=z.memoizedState;if(j!==null){var V=j.dehydrated;V!==null&&an(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}zt||i.flags&512&&th(i)}catch(H){rt(i,i.return,H)}}if(i===e){ne=null;break}if(a=i.sibling,a!==null){a.return=i.return,ne=a;break}ne=i.return}}function ap(e){for(;ne!==null;){var i=ne;if(i===e){ne=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ne=a;break}ne=i.return}}function lp(e){for(;ne!==null;){var i=ne;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Jl(4,i)}catch(P){rt(i,a,P)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(P){rt(i,f,P)}}var m=i.return;try{th(i)}catch(P){rt(i,m,P)}break;case 5:var v=i.return;try{th(i)}catch(P){rt(i,v,P)}}}catch(P){rt(i,i.return,P)}if(i===e){ne=null;break}var C=i.sibling;if(C!==null){C.return=i.return,ne=C;break}ne=i.return}}var Sg=Math.ceil,eu=Be.ReactCurrentDispatcher,rh=Be.ReactCurrentOwner,Tn=Be.ReactCurrentBatchConfig,ke=0,gt=null,ct=null,kt=0,pn=0,Js=sr(0),mt=0,ma=null,Yr=0,tu=0,sh=0,_a=null,Xt=null,oh=0,eo=1/0,ki=null,nu=!1,ah=null,hr=null,iu=!1,dr=null,ru=0,ga=0,lh=null,su=-1,ou=0;function Ht(){return ke&6?Je():su!==-1?su:su=Je()}function fr(e){return e.mode&1?ke&2&&kt!==0?kt&-kt:rg.transition!==null?(ou===0&&(ou=ul()),ou):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:Ce(e.type)),e):1}function Fn(e,i,a,c){if(50<ga)throw ga=0,lh=null,Error(r(185));sn(e,a,c),(!(ke&2)||e!==gt)&&(e===gt&&(!(ke&2)&&(tu|=a),mt===4&&pr(e,kt)),Jt(e,c),a===1&&ke===0&&!(i.mode&1)&&(eo=Je()+500,Rl&&ar()))}function Jt(e,i){var a=e.callbackNode;ws(e,i);var c=Ue(e,e===gt?kt:0);if(c===0)a!==null&&No(a),e.callbackNode=null,e.callbackPriority=0;else if(i=c&-c,e.callbackPriority!==i){if(a!=null&&No(a),i===1)e.tag===0?ig(cp.bind(null,e)):Kd(cp.bind(null,e)),Dt(function(){!(ke&6)&&ar()}),a=null;else{switch(Hi(c)){case 1:a=Do;break;case 4:a=ll;break;case 16:a=vs;break;case 536870912:a=Fi;break;default:a=vs}a=vp(a,up.bind(null,e))}e.callbackPriority=i,e.callbackNode=a}}function up(e,i){if(su=-1,ou=0,ke&6)throw Error(r(327));var a=e.callbackNode;if(to()&&e.callbackNode!==a)return null;var c=Ue(e,e===gt?kt:0);if(c===0)return null;if(c&30||c&e.expiredLanes||i)i=au(e,c);else{i=c;var f=ke;ke|=2;var m=dp();(gt!==e||kt!==i)&&(ki=null,eo=Je()+500,Xr(e,i));do try{Eg();break}catch(C){hp(e,C)}while(!0);Pc(),eu.current=m,ke=f,ct!==null?i=0:(gt=null,kt=0,i=mt)}if(i!==0){if(i===2&&(f=At(e),f!==0&&(c=f,i=uh(e,f))),i===1)throw a=ma,Xr(e,0),pr(e,c),Jt(e,Je()),a;if(i===6)pr(e,c);else{if(f=e.current.alternate,!(c&30)&&!xg(f)&&(i=au(e,c),i===2&&(m=At(e),m!==0&&(c=m,i=uh(e,m))),i===1))throw a=ma,Xr(e,0),pr(e,c),Jt(e,Je()),a;switch(e.finishedWork=f,e.finishedLanes=c,i){case 0:case 1:throw Error(r(345));case 2:Jr(e,Xt,ki);break;case 3:if(pr(e,c),(c&130023424)===c&&(i=oh+500-Je(),10<i)){if(Ue(e,0)!==0)break;if(f=e.suspendedLanes,(f&c)!==c){Ht(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=ft(Jr.bind(null,e,Xt,ki),i);break}Jr(e,Xt,ki);break;case 4:if(pr(e,c),(c&4194240)===c)break;for(i=e.eventTimes,f=-1;0<c;){var v=31-_e(c);m=1<<v,v=i[v],v>f&&(f=v),c&=~m}if(c=f,c=Je()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Sg(c/1960))-c,10<c){e.timeoutHandle=ft(Jr.bind(null,e,Xt,ki),c);break}Jr(e,Xt,ki);break;case 5:Jr(e,Xt,ki);break;default:throw Error(r(329))}}}return Jt(e,Je()),e.callbackNode===a?up.bind(null,e):null}function uh(e,i){var a=_a;return e.current.memoizedState.isDehydrated&&(Xr(e,i).flags|=256),e=au(e,i),e!==2&&(i=Xt,Xt=a,i!==null&&ch(i)),e}function ch(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function xg(e){for(var i=e;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!cn(m(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pr(e,i){for(i&=~sh,i&=~tu,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var a=31-_e(i),c=1<<a;e[a]=-1,i&=~c}}function cp(e){if(ke&6)throw Error(r(327));to();var i=Ue(e,0);if(!(i&1))return Jt(e,Je()),null;var a=au(e,i);if(e.tag!==0&&a===2){var c=At(e);c!==0&&(i=c,a=uh(e,c))}if(a===1)throw a=ma,Xr(e,0),pr(e,i),Jt(e,Je()),a;if(a===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,Jr(e,Xt,ki),Jt(e,Je()),null}function hh(e,i){var a=ke;ke|=1;try{return e(i)}finally{ke=a,ke===0&&(eo=Je()+500,Rl&&ar())}}function qr(e){dr!==null&&dr.tag===0&&!(ke&6)&&to();var i=ke;ke|=1;var a=Tn.transition,c=Pe;try{if(Tn.transition=null,Pe=1,e)return e()}finally{Pe=c,Tn.transition=a,ke=i,!(ke&6)&&ar()}}function dh(){pn=Js.current,Qe(Js)}function Xr(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,ut(a)),ct!==null)for(a=ct.return;a!==null;){var c=a;switch(Sc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Nl();break;case 3:Ys(),Qe(Qt),Qe(Rt),Rc();break;case 5:Nc(c);break;case 4:Ys();break;case 13:Qe(tt);break;case 19:Qe(tt);break;case 10:kc(c.type._context);break;case 22:case 23:dh()}a=a.return}if(gt=e,ct=e=mr(e.current,null),kt=pn=i,mt=0,ma=null,sh=tu=Yr=0,Xt=_a=null,$r!==null){for(i=0;i<$r.length;i++)if(a=$r[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,m=a.pending;if(m!==null){var v=m.next;m.next=f,c.next=v}a.pending=c}$r=null}return e}function hp(e,i){do{var a=ct;try{if(Pc(),Zl.current=Kl,Vl){for(var c=nt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Vl=!1}if(Qr=0,_t=pt=nt=null,ua=!1,ca=0,rh.current=null,a===null||a.return===null){mt=1,ma=i,ct=null;break}e:{var m=e,v=a.return,C=a,P=i;if(i=kt,C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var z=P,j=C,V=j.tag;if(!(j.mode&1)&&(V===0||V===11||V===15)){var H=j.alternate;H?(j.updateQueue=H.updateQueue,j.memoizedState=H.memoizedState,j.lanes=H.lanes):(j.updateQueue=null,j.memoizedState=null)}var X=Of(v);if(X!==null){X.flags&=-257,zf(X,v,C,m,i),X.mode&1&&bf(m,z,i),i=X,P=z;var ie=i.updateQueue;if(ie===null){var re=new Set;re.add(P),i.updateQueue=re}else ie.add(P);break e}else{if(!(i&1)){bf(m,z,i),fh();break e}P=Error(r(426))}}else if(Ye&&C.mode&1){var at=Of(v);if(at!==null){!(at.flags&65536)&&(at.flags|=256),zf(at,v,C,m,i),Ec(qs(P,C));break e}}m=P=qs(P,C),mt!==4&&(mt=2),_a===null?_a=[m]:_a.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var D=Df(m,P,i);of(m,D);break e;case 1:C=P;var I=m.type,R=m.stateNode;if(!(m.flags&128)&&(typeof I.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(hr===null||!hr.has(R)))){m.flags|=65536,i&=-i,m.lanes|=i;var G=Rf(m,C,i);of(m,G);break e}}m=m.return}while(m!==null)}pp(a)}catch(oe){i=oe,ct===a&&a!==null&&(ct=a=a.return);continue}break}while(!0)}function dp(){var e=eu.current;return eu.current=Kl,e===null?Kl:e}function fh(){(mt===0||mt===3||mt===2)&&(mt=4),gt===null||!(Yr&268435455)&&!(tu&268435455)||pr(gt,kt)}function au(e,i){var a=ke;ke|=2;var c=dp();(gt!==e||kt!==i)&&(ki=null,Xr(e,i));do try{Cg();break}catch(f){hp(e,f)}while(!0);if(Pc(),ke=a,eu.current=c,ct!==null)throw Error(r(261));return gt=null,kt=0,mt}function Cg(){for(;ct!==null;)fp(ct)}function Eg(){for(;ct!==null&&!ec();)fp(ct)}function fp(e){var i=gp(e.alternate,e,pn);e.memoizedProps=e.pendingProps,i===null?pp(e):ct=i,rh.current=null}function pp(e){var i=e;do{var a=i.alternate;if(e=i.return,i.flags&32768){if(a=gg(a,i),a!==null){a.flags&=32767,ct=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,ct=null;return}}else if(a=_g(a,i,pn),a!==null){ct=a;return}if(i=i.sibling,i!==null){ct=i;return}ct=i=e}while(i!==null);mt===0&&(mt=5)}function Jr(e,i,a){var c=Pe,f=Tn.transition;try{Tn.transition=null,Pe=1,Tg(e,i,a,c)}finally{Tn.transition=f,Pe=c}return null}function Tg(e,i,a,c){do to();while(dr!==null);if(ke&6)throw Error(r(327));a=e.finishedWork;var f=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var m=a.lanes|a.childLanes;if(it(e,m),e===gt&&(ct=gt=null,kt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||iu||(iu=!0,vp(vs,function(){return to(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=Tn.transition,Tn.transition=null;var v=Pe;Pe=1;var C=ke;ke|=4,rh.current=null,yg(e,a),rp(a,e),vn(ue),Or=!!Y,ue=Y=null,e.current=a,wg(a),gs(),ke=C,Pe=v,Tn.transition=m}else e.current=a;if(iu&&(iu=!1,dr=e,ru=f),m=e.pendingLanes,m===0&&(hr=null),Ar(a.stateNode),Jt(e,Je()),i!==null)for(c=e.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(nu)throw nu=!1,e=ah,ah=null,e;return ru&1&&e.tag!==0&&to(),m=e.pendingLanes,m&1?e===lh?ga++:(ga=0,lh=e):ga=0,ar(),null}function to(){if(dr!==null){var e=Hi(ru),i=Tn.transition,a=Pe;try{if(Tn.transition=null,Pe=16>e?16:e,dr===null)var c=!1;else{if(e=dr,dr=null,ru=0,ke&6)throw Error(r(331));var f=ke;for(ke|=4,ne=e.current;ne!==null;){var m=ne,v=m.child;if(ne.flags&16){var C=m.deletions;if(C!==null){for(var P=0;P<C.length;P++){var z=C[P];for(ne=z;ne!==null;){var j=ne;switch(j.tag){case 0:case 11:case 15:pa(8,j,m)}var V=j.child;if(V!==null)V.return=j,ne=V;else for(;ne!==null;){j=ne;var H=j.sibling,X=j.return;if(Jf(j),j===z){ne=null;break}if(H!==null){H.return=X,ne=H;break}ne=X}}}var ie=m.alternate;if(ie!==null){var re=ie.child;if(re!==null){ie.child=null;do{var at=re.sibling;re.sibling=null,re=at}while(re!==null)}}ne=m}}if(m.subtreeFlags&2064&&v!==null)v.return=m,ne=v;else e:for(;ne!==null;){if(m=ne,m.flags&2048)switch(m.tag){case 0:case 11:case 15:pa(9,m,m.return)}var D=m.sibling;if(D!==null){D.return=m.return,ne=D;break e}ne=m.return}}var I=e.current;for(ne=I;ne!==null;){v=ne;var R=v.child;if(v.subtreeFlags&2064&&R!==null)R.return=v,ne=R;else e:for(v=I;ne!==null;){if(C=ne,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Jl(9,C)}}catch(oe){rt(C,C.return,oe)}if(C===v){ne=null;break e}var G=C.sibling;if(G!==null){G.return=C.return,ne=G;break e}ne=C.return}}if(ke=f,ar(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Mr,e)}catch{}c=!0}return c}finally{Pe=a,Tn.transition=i}}return!1}function mp(e,i,a){i=qs(a,i),i=Df(e,i,1),e=ur(e,i,1),i=Ht(),e!==null&&(sn(e,1,i),Jt(e,i))}function rt(e,i,a){if(e.tag===3)mp(e,e,a);else for(;i!==null;){if(i.tag===3){mp(i,e,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(hr===null||!hr.has(c))){e=qs(a,e),e=Rf(i,e,1),i=ur(i,e,1),e=Ht(),i!==null&&(sn(i,1,e),Jt(i,e));break}}i=i.return}}function Pg(e,i,a){var c=e.pingCache;c!==null&&c.delete(i),i=Ht(),e.pingedLanes|=e.suspendedLanes&a,gt===e&&(kt&a)===a&&(mt===4||mt===3&&(kt&130023424)===kt&&500>Je()-oh?Xr(e,0):sh|=a),Jt(e,i)}function _p(e,i){i===0&&(e.mode&1?(i=Wi,Wi<<=1,!(Wi&130023424)&&(Wi=4194304)):i=1);var a=Ht();e=Ei(e,i),e!==null&&(sn(e,i,a),Jt(e,a))}function kg(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),_p(e,a)}function Ig(e,i){var a=0;switch(e.tag){case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(i),_p(e,a)}var gp;gp=function(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps||Qt.current)qt=!0;else{if(!(e.lanes&a)&&!(i.flags&128))return qt=!1,mg(e,i,a);qt=!!(e.flags&131072)}else qt=!1,Ye&&i.flags&1048576&&Qd(i,Ol,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;ql(e,i),e=i.pendingProps;var f=js(i,Rt.current);Qs(i,a),f=zc(null,i,c,e,f,a);var m=Fc();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Yt(c)?(m=!0,Dl(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Mc(i),f.updater=Ql,i.stateNode=f,f._reactInternals=i,Zc(i,c,e,a),i=Kc(null,i,c,!0,m,a)):(i.tag=0,Ye&&m&&wc(i),Ut(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(ql(e,i),e=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=Mg(c),e=bn(c,e),f){case 0:i=$c(null,i,c,e,a);break e;case 1:i=jf(null,i,c,e,a);break e;case 11:i=Ff(null,i,c,e,a);break e;case 14:i=Bf(null,i,c,bn(c.type,e),a);break e}throw Error(r(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:bn(c,f),$c(e,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:bn(c,f),jf(e,i,c,f,a);case 3:e:{if(Zf(i),e===null)throw Error(r(387));c=i.pendingProps,m=i.memoizedState,f=m.element,sf(e,i),Hl(i,c,null,a);var v=i.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=qs(Error(r(423)),i),i=Vf(e,i,c,a,f);break e}else if(c!==f){f=qs(Error(r(424)),i),i=Vf(e,i,c,a,f);break e}else for(fn=qn(i.stateNode.containerInfo.firstChild),dn=i,Ye=!0,Rn=null,a=nf(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Gs(),c===f){i=Pi(e,i,a);break e}Ut(e,i,c,a)}i=i.child}return i;case 5:return lf(i),e===null&&Cc(i),c=i.type,f=i.pendingProps,m=e!==null?e.memoizedProps:null,v=f.children,ge(c,f)?v=null:m!==null&&ge(c,m)&&(i.flags|=32),Hf(e,i),Ut(e,i,v,a),i.child;case 6:return e===null&&Cc(i),null;case 13:return Gf(e,i,a);case 4:return Ac(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=$s(i,null,c,a):Ut(e,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:bn(c,f),Ff(e,i,c,f,a);case 7:return Ut(e,i,i.pendingProps,a),i.child;case 8:return Ut(e,i,i.pendingProps.children,a),i.child;case 12:return Ut(e,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,m=i.memoizedProps,v=f.value,He(Bl,c._currentValue),c._currentValue=v,m!==null)if(cn(m.value,v)){if(m.children===f.children&&!Qt.current){i=Pi(e,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var C=m.dependencies;if(C!==null){v=m.child;for(var P=C.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=Ti(-1,a&-a),P.tag=2;var z=m.updateQueue;if(z!==null){z=z.shared;var j=z.pending;j===null?P.next=P:(P.next=j.next,j.next=P),z.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),Ic(m.return,a,i),C.lanes|=a;break}P=P.next}}else if(m.tag===10)v=m.type===i.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(r(341));v.lanes|=a,C=v.alternate,C!==null&&(C.lanes|=a),Ic(v,a,i),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===i){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}Ut(e,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,Qs(i,a),f=Cn(f),c=c(f),i.flags|=1,Ut(e,i,c,a),i.child;case 14:return c=i.type,f=bn(c,i.pendingProps),f=bn(c.type,f),Bf(e,i,c,f,a);case 15:return Wf(e,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:bn(c,f),ql(e,i),i.tag=1,Yt(c)?(e=!0,Dl(i)):e=!1,Qs(i,a),Af(i,c,f),Zc(i,c,f,a),Kc(null,i,c,!0,e,a);case 19:return Kf(e,i,a);case 22:return Uf(e,i,a)}throw Error(r(156,i.tag))};function vp(e,i){return al(e,i)}function Lg(e,i,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(e,i,a,c){return new Lg(e,i,a,c)}function ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mg(e){if(typeof e=="function")return ph(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$e)return 11;if(e===Gt)return 14}return 2}function mr(e,i){var a=e.alternate;return a===null?(a=Pn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function lu(e,i,a,c,f,m){var v=2;if(c=e,typeof e=="function")ph(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case ht:return es(a.children,f,m,i);case Ct:v=8,f|=8;break;case Zt:return e=Pn(12,a,i,f|2),e.elementType=Zt,e.lanes=m,e;case Et:return e=Pn(13,a,i,f),e.elementType=Et,e.lanes=m,e;case Xe:return e=Pn(19,a,i,f),e.elementType=Xe,e.lanes=m,e;case be:return uu(a,f,m,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vt:v=10;break e;case Ge:v=9;break e;case $e:v=11;break e;case Gt:v=14;break e;case De:v=16,c=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return i=Pn(v,a,i,f),i.elementType=e,i.type=c,i.lanes=m,i}function es(e,i,a,c){return e=Pn(7,e,c,i),e.lanes=a,e}function uu(e,i,a,c){return e=Pn(22,e,c,i),e.elementType=be,e.lanes=a,e.stateNode={isHidden:!1},e}function mh(e,i,a){return e=Pn(6,e,null,i),e.lanes=a,e}function _h(e,i,a){return i=Pn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Ag(e,i,a,c,f){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function gh(e,i,a,c,f,m,v,C,P){return e=new Ag(e,i,a,C,P),i===1?(i=1,m===!0&&(i|=8)):i=0,m=Pn(3,null,null,i),e.current=m,m.stateNode=e,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mc(m),e}function Ng(e,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qe,key:c==null?null:""+c,children:e,containerInfo:i,implementation:a}}function yp(e){if(!e)return or;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(r(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Yt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(e.tag===1){var a=e.type;if(Yt(a))return Gd(e,a,i)}return i}function wp(e,i,a,c,f,m,v,C,P){return e=gh(a,c,!0,e,f,m,v,C,P),e.context=yp(null),a=e.current,c=Ht(),f=fr(a),m=Ti(c,f),m.callback=i??null,ur(a,m,f),e.current.lanes=f,sn(e,f,c),Jt(e,c),e}function cu(e,i,a,c){var f=i.current,m=Ht(),v=fr(f);return a=yp(a),i.context===null?i.context=a:i.pendingContext=a,i=Ti(m,v),i.payload={element:e},c=c===void 0?null:c,c!==null&&(i.callback=c),e=ur(f,i,v),e!==null&&(Fn(e,f,v,m),Ul(e,f,v)),v}function hu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sp(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function vh(e,i){Sp(e,i),(e=e.alternate)&&Sp(e,i)}var xp=typeof reportError=="function"?reportError:function(e){console.error(e)};function yh(e){this._internalRoot=e}du.prototype.render=yh.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));cu(e,i,null,null)},du.prototype.unmount=yh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;qr(function(){cu(null,e,null,null)}),i[Re]=null}};function du(e){this._internalRoot=e}du.prototype.unstable_scheduleHydration=function(e){if(e){var i=Cs();e={blockedOn:null,target:e,priority:i};for(var a=0;a<dt.length&&i!==0&&i<dt[a].priority;a++);dt.splice(a,0,e),a===0&&Es(e)}};function wh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cp(){}function Dg(e,i,a,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var z=hu(v);m.call(z)}}var v=wp(i,c,e,0,null,!1,!1,"",Cp);return e._reactRootContainer=v,e[Re]=v.current,tr(e.nodeType===8?e.parentNode:e),qr(),v}for(;f=e.lastChild;)e.removeChild(f);if(typeof c=="function"){var C=c;c=function(){var z=hu(P);C.call(z)}}var P=gh(e,0,!1,null,null,!1,!1,"",Cp);return e._reactRootContainer=P,e[Re]=P.current,tr(e.nodeType===8?e.parentNode:e),qr(function(){cu(i,P,a,c)}),P}function pu(e,i,a,c,f){var m=a._reactRootContainer;if(m){var v=m;if(typeof f=="function"){var C=f;f=function(){var P=hu(v);C.call(P)}}cu(i,v,e,f)}else v=Dg(a,i,e,f,c);return hu(v)}Ss=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var a=me(i.pendingLanes);a!==0&&(Ln(i,a|1),Jt(i,Je()),!(ke&6)&&(eo=Je()+500,ar()))}break;case 13:qr(function(){var c=Ei(e,1);if(c!==null){var f=Ht();Fn(c,e,1,f)}}),vh(e,1)}},ui=function(e){if(e.tag===13){var i=Ei(e,134217728);if(i!==null){var a=Ht();Fn(i,e,134217728,a)}vh(e,134217728)}},xs=function(e){if(e.tag===13){var i=fr(e),a=Ei(e,i);if(a!==null){var c=Ht();Fn(a,e,i,c)}vh(e,i)}},Cs=function(){return Pe},Nr=function(e,i){var a=Pe;try{return Pe=e,i()}finally{Pe=a}},ps=function(e,i,a){switch(i){case"input":if(Er(e,a),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==e&&c.form===e.form){var f=Us(c);if(!f)throw Error(r(90));Di(c),Er(c,f)}}}break;case"textarea":Ka(e,a);break;case"select":i=a.value,i!=null&&Hn(e,!!a.multiple,i,!1)}},tl=hh,nl=qr;var Rg={usingClientEntryPoint:!1,Events:[yi,wi,Us,Ja,el,hh]},va={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bg={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Be.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sl(e),e===null?null:e.stateNode},findFiberByHostInstance:va.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{Mr=mu.inject(bg),rn=mu}catch{}}return en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rg,en.createPortal=function(e,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wh(i))throw Error(r(200));return Ng(e,i,null,a)},en.createRoot=function(e,i){if(!wh(e))throw Error(r(299));var a=!1,c="",f=xp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=gh(e,1,!1,null,null,a,!1,c,f),e[Re]=i.current,tr(e.nodeType===8?e.parentNode:e),new yh(i)},en.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=sl(i),e=e===null?null:e.stateNode,e},en.flushSync=function(e){return qr(e)},en.hydrate=function(e,i,a){if(!fu(i))throw Error(r(200));return pu(null,e,i,!0,a)},en.hydrateRoot=function(e,i,a){if(!wh(e))throw Error(r(405));var c=a!=null&&a.hydratedSources||null,f=!1,m="",v=xp;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=wp(i,null,e,1,a??null,f,!1,m,v),e[Re]=i.current,tr(e),c)for(e=0;e<c.length;e++)a=c[e],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new du(i)},en.render=function(e,i,a){if(!fu(i))throw Error(r(200));return pu(null,e,i,!1,a)},en.unmountComponentAtNode=function(e){if(!fu(e))throw Error(r(40));return e._reactRootContainer?(qr(function(){pu(null,null,e,!1,function(){e._reactRootContainer=null,e[Re]=null})}),!0):!1},en.unstable_batchedUpdates=hh,en.unstable_renderSubtreeIntoContainer=function(e,i,a,c){if(!fu(a))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return pu(e,i,a,!1,c)},en.version="18.3.1-next-f1338f8080-20240426",en}var Ap;function Im(){if(Ap)return Ch.exports;Ap=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Ch.exports=Hg(),Ch.exports}var Np;function jg(){if(Np)return _u;Np=1;var s=Im();return _u.createRoot=s.createRoot,_u.hydrateRoot=s.hydrateRoot,_u}var Zg=jg(),Dp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=function(s,n){if(!s)throw po(n)},po=function(s){return new Error("Firebase Database ("+Lm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=function(s){const n=[];let r=0;for(let l=0;l<s.length;l++){let h=s.charCodeAt(l);h<128?n[r++]=h:h<2048?(n[r++]=h>>6|192,n[r++]=h&63|128):(h&64512)===55296&&l+1<s.length&&(s.charCodeAt(l+1)&64512)===56320?(h=65536+((h&1023)<<10)+(s.charCodeAt(++l)&1023),n[r++]=h>>18|240,n[r++]=h>>12&63|128,n[r++]=h>>6&63|128,n[r++]=h&63|128):(n[r++]=h>>12|224,n[r++]=h>>6&63|128,n[r++]=h&63|128)}return n},Vg=function(s){const n=[];let r=0,l=0;for(;r<s.length;){const h=s[r++];if(h<128)n[l++]=String.fromCharCode(h);else if(h>191&&h<224){const p=s[r++];n[l++]=String.fromCharCode((h&31)<<6|p&63)}else if(h>239&&h<365){const p=s[r++],_=s[r++],w=s[r++],S=((h&7)<<18|(p&63)<<12|(_&63)<<6|w&63)-65536;n[l++]=String.fromCharCode(55296+(S>>10)),n[l++]=String.fromCharCode(56320+(S&1023))}else{const p=s[r++],_=s[r++];n[l++]=String.fromCharCode((h&15)<<12|(p&63)<<6|_&63)}}return n.join("")},ad={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let h=0;h<s.length;h+=3){const p=s[h],_=h+1<s.length,w=_?s[h+1]:0,S=h+2<s.length,x=S?s[h+2]:0,A=p>>2,k=(p&3)<<4|w>>4;let M=(w&15)<<2|x>>6,Z=x&63;S||(Z=64,_||(M=64)),l.push(r[A],r[k],r[M],r[Z])}return l.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(Mm(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):Vg(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const r=n?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let h=0;h<s.length;){const p=r[s.charAt(h++)],w=h<s.length?r[s.charAt(h)]:0;++h;const x=h<s.length?r[s.charAt(h)]:64;++h;const k=h<s.length?r[s.charAt(h)]:64;if(++h,p==null||w==null||x==null||k==null)throw new Gg;const M=p<<2|w>>4;if(l.push(M),x!==64){const Z=w<<4&240|x>>2;if(l.push(Z),k!==64){const Q=x<<6&192|k;l.push(Q)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Gg extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Am=function(s){const n=Mm(s);return ad.encodeByteArray(n,!0)},Su=function(s){return Am(s).replace(/\./g,"")},Fh=function(s){try{return ad.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(s){return Nm(void 0,s)}function Nm(s,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const r=n;return new Date(r.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return n}for(const r in n)!n.hasOwnProperty(r)||!Kg(r)||(s[r]=Nm(s[r],n[r]));return s}function Kg(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=()=>Qg().__FIREBASE_DEFAULTS__,qg=()=>{if(typeof process>"u"||typeof Dp>"u")return;const s=Dp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Xg=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&Fh(s[1]);return n&&JSON.parse(n)},Dm=()=>{try{return Yg()||qg()||Xg()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Jg=s=>{var n,r;return(r=(n=Dm())===null||n===void 0?void 0:n.emulatorHosts)===null||r===void 0?void 0:r[s]},ev=s=>{const n=Jg(s);if(!n)return;const r=n.lastIndexOf(":");if(r<=0||r+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const l=parseInt(n.substring(r+1),10);return n[0]==="["?[n.substring(1,r-1),l]:[n.substring(0,r),l]},Rm=()=>{var s;return(s=Dm())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}wrapCallback(n){return(r,l)=>{r?this.reject(r):this.resolve(l),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(r):n(r,l))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},l=n||"demo-project",h=s.iat||0,p=s.sub||s.user_id;if(!p)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _=Object.assign({iss:`https://securetoken.google.com/${l}`,aud:l,iat:h,exp:h+3600,auth_time:h,sub:p,user_id:p,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Su(JSON.stringify(r)),Su(JSON.stringify(_)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nv())}function iv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rv(){return Lm.NODE_ADMIN===!0}function sv(){try{return typeof indexedDB=="object"}catch{return!1}}function ov(){return new Promise((s,n)=>{try{let r=!0;const l="validate-browser-context-for-indexeddb-analytics-module",h=self.indexedDB.open(l);h.onsuccess=()=>{h.result.close(),r||self.indexedDB.deleteDatabase(l),s(!0)},h.onupgradeneeded=()=>{r=!1},h.onerror=()=>{var p;n(((p=h.error)===null||p===void 0?void 0:p.message)||"")}}catch(r){n(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="FirebaseError";class ja extends Error{constructor(n,r,l){super(r),this.code=n,this.customData=l,this.name=av,Object.setPrototypeOf(this,ja.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Om.prototype.create)}}class Om{constructor(n,r,l){this.service=n,this.serviceName=r,this.errors=l}create(n,...r){const l=r[0]||{},h=`${this.service}/${n}`,p=this.errors[n],_=p?lv(p,l):"Error",w=`${this.serviceName}: ${_} (${h}).`;return new ja(h,w,l)}}function lv(s,n){return s.replace(uv,(r,l)=>{const h=n[l];return h!=null?String(h):`<${l}?>`})}const uv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(s){return JSON.parse(s)}function xt(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=function(s){let n={},r={},l={},h="";try{const p=s.split(".");n=Na(Fh(p[0])||""),r=Na(Fh(p[1])||""),h=p[2],l=r.d||{},delete r.d}catch{}return{header:n,claims:r,data:l,signature:h}},cv=function(s){const n=zm(s),r=n.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},hv=function(s){const n=zm(s).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function ao(s,n){if(Object.prototype.hasOwnProperty.call(s,n))return s[n]}function Rp(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}function xu(s,n,r){const l={};for(const h in s)Object.prototype.hasOwnProperty.call(s,h)&&(l[h]=n.call(r,s[h],h,s));return l}function Bh(s,n){if(s===n)return!0;const r=Object.keys(s),l=Object.keys(n);for(const h of r){if(!l.includes(h))return!1;const p=s[h],_=n[h];if(bp(p)&&bp(_)){if(!Bh(p,_))return!1}else if(p!==_)return!1}for(const h of l)if(!r.includes(h))return!1;return!0}function bp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(s){const n=[];for(const[r,l]of Object.entries(s))Array.isArray(l)?l.forEach(h=>{n.push(encodeURIComponent(r)+"="+encodeURIComponent(h))}):n.push(encodeURIComponent(r)+"="+encodeURIComponent(l));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,r){r||(r=0);const l=this.W_;if(typeof n=="string")for(let k=0;k<16;k++)l[k]=n.charCodeAt(r)<<24|n.charCodeAt(r+1)<<16|n.charCodeAt(r+2)<<8|n.charCodeAt(r+3),r+=4;else for(let k=0;k<16;k++)l[k]=n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3],r+=4;for(let k=16;k<80;k++){const M=l[k-3]^l[k-8]^l[k-14]^l[k-16];l[k]=(M<<1|M>>>31)&4294967295}let h=this.chain_[0],p=this.chain_[1],_=this.chain_[2],w=this.chain_[3],S=this.chain_[4],x,A;for(let k=0;k<80;k++){k<40?k<20?(x=w^p&(_^w),A=1518500249):(x=p^_^w,A=1859775393):k<60?(x=p&_|w&(p|_),A=2400959708):(x=p^_^w,A=3395469782);const M=(h<<5|h>>>27)+x+S+A+l[k]&4294967295;S=w,w=_,_=(p<<30|p>>>2)&4294967295,p=h,h=M}this.chain_[0]=this.chain_[0]+h&4294967295,this.chain_[1]=this.chain_[1]+p&4294967295,this.chain_[2]=this.chain_[2]+_&4294967295,this.chain_[3]=this.chain_[3]+w&4294967295,this.chain_[4]=this.chain_[4]+S&4294967295}update(n,r){if(n==null)return;r===void 0&&(r=n.length);const l=r-this.blockSize;let h=0;const p=this.buf_;let _=this.inbuf_;for(;h<r;){if(_===0)for(;h<=l;)this.compress_(n,h),h+=this.blockSize;if(typeof n=="string"){for(;h<r;)if(p[_]=n.charCodeAt(h),++_,++h,_===this.blockSize){this.compress_(p),_=0;break}}else for(;h<r;)if(p[_]=n[h],++_,++h,_===this.blockSize){this.compress_(p),_=0;break}}this.inbuf_=_,this.total_+=r}digest(){const n=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let h=this.blockSize-1;h>=56;h--)this.buf_[h]=r&255,r/=256;this.compress_(this.buf_);let l=0;for(let h=0;h<5;h++)for(let p=24;p>=0;p-=8)n[l]=this.chain_[h]>>p&255,++l;return n}}function Fu(s,n){return`${s} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=function(s){const n=[];let r=0;for(let l=0;l<s.length;l++){let h=s.charCodeAt(l);if(h>=55296&&h<=56319){const p=h-55296;l++,$(l<s.length,"Surrogate pair missing trail surrogate.");const _=s.charCodeAt(l)-56320;h=65536+(p<<10)+_}h<128?n[r++]=h:h<2048?(n[r++]=h>>6|192,n[r++]=h&63|128):h<65536?(n[r++]=h>>12|224,n[r++]=h>>6&63|128,n[r++]=h&63|128):(n[r++]=h>>18|240,n[r++]=h>>12&63|128,n[r++]=h>>6&63|128,n[r++]=h&63|128)}return n},Bu=function(s){let n=0;for(let r=0;r<s.length;r++){const l=s.charCodeAt(r);l<128?n++:l<2048?n+=2:l>=55296&&l<=56319?(n+=4,r++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(s){return s&&s._delegate?s._delegate:s}class Da{constructor(n,r,l){this.name=n,this.instanceFactory=r,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(n,r){this.name=n,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const r=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(r)){const l=new Ha;if(this.instancesDeferred.set(r,l),this.isInitialized(r)||this.shouldAutoInitialize())try{const h=this.getOrInitializeService({instanceIdentifier:r});h&&l.resolve(h)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(n){var r;const l=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),h=(r=n==null?void 0:n.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(p){if(h)return null;throw p}else{if(h)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(gv(n))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[r,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(r);try{const p=this.getOrInitializeService({instanceIdentifier:h});l.resolve(p)}catch{}}}}clearInstance(n=ts){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=ts){return this.instances.has(n)}getOptions(n=ts){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:r={}}=n,l=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const h=this.getOrInitializeService({instanceIdentifier:l,options:r});for(const[p,_]of this.instancesDeferred.entries()){const w=this.normalizeInstanceIdentifier(p);l===w&&_.resolve(h)}return h}onInit(n,r){var l;const h=this.normalizeInstanceIdentifier(r),p=(l=this.onInitCallbacks.get(h))!==null&&l!==void 0?l:new Set;p.add(n),this.onInitCallbacks.set(h,p);const _=this.instances.get(h);return _&&n(_,h),()=>{p.delete(n)}}invokeOnInitCallbacks(n,r){const l=this.onInitCallbacks.get(r);if(l)for(const h of l)try{h(n,r)}catch{}}getOrInitializeService({instanceIdentifier:n,options:r={}}){let l=this.instances.get(n);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:_v(n),options:r}),this.instances.set(n,l),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(l,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,l)}catch{}return l||null}normalizeInstanceIdentifier(n=ts){return this.component?this.component.multipleInstances?n:ts:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _v(s){return s===ts?void 0:s}function gv(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const r=this.getProvider(n.name);if(r.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);r.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const r=new mv(n,this);return this.providers.set(n,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ze||(Ze={}));const yv={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},wv=Ze.INFO,Sv={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},xv=(s,n,...r)=>{if(n<s.logLevel)return;const l=new Date().toISOString(),h=Sv[n];if(h)console[h](`[${l}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Fm{constructor(n){this.name=n,this._logLevel=wv,this._logHandler=xv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ze))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?yv[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...n),this._logHandler(this,Ze.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...n),this._logHandler(this,Ze.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...n),this._logHandler(this,Ze.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...n),this._logHandler(this,Ze.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...n),this._logHandler(this,Ze.ERROR,...n)}}const Cv=(s,n)=>n.some(r=>s instanceof r);let Op,zp;function Ev(){return Op||(Op=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tv(){return zp||(zp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bm=new WeakMap,Wh=new WeakMap,Wm=new WeakMap,Ph=new WeakMap,ld=new WeakMap;function Pv(s){const n=new Promise((r,l)=>{const h=()=>{s.removeEventListener("success",p),s.removeEventListener("error",_)},p=()=>{r(vr(s.result)),h()},_=()=>{l(s.error),h()};s.addEventListener("success",p),s.addEventListener("error",_)});return n.then(r=>{r instanceof IDBCursor&&Bm.set(r,s)}).catch(()=>{}),ld.set(n,s),n}function kv(s){if(Wh.has(s))return;const n=new Promise((r,l)=>{const h=()=>{s.removeEventListener("complete",p),s.removeEventListener("error",_),s.removeEventListener("abort",_)},p=()=>{r(),h()},_=()=>{l(s.error||new DOMException("AbortError","AbortError")),h()};s.addEventListener("complete",p),s.addEventListener("error",_),s.addEventListener("abort",_)});Wh.set(s,n)}let Uh={get(s,n,r){if(s instanceof IDBTransaction){if(n==="done")return Wh.get(s);if(n==="objectStoreNames")return s.objectStoreNames||Wm.get(s);if(n==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return vr(s[n])},set(s,n,r){return s[n]=r,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function Iv(s){Uh=s(Uh)}function Lv(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...r){const l=s.call(kh(this),n,...r);return Wm.set(l,n.sort?n.sort():[n]),vr(l)}:Tv().includes(s)?function(...n){return s.apply(kh(this),n),vr(Bm.get(this))}:function(...n){return vr(s.apply(kh(this),n))}}function Mv(s){return typeof s=="function"?Lv(s):(s instanceof IDBTransaction&&kv(s),Cv(s,Ev())?new Proxy(s,Uh):s)}function vr(s){if(s instanceof IDBRequest)return Pv(s);if(Ph.has(s))return Ph.get(s);const n=Mv(s);return n!==s&&(Ph.set(s,n),ld.set(n,s)),n}const kh=s=>ld.get(s);function Av(s,n,{blocked:r,upgrade:l,blocking:h,terminated:p}={}){const _=indexedDB.open(s,n),w=vr(_);return l&&_.addEventListener("upgradeneeded",S=>{l(vr(_.result),S.oldVersion,S.newVersion,vr(_.transaction),S)}),r&&_.addEventListener("blocked",S=>r(S.oldVersion,S.newVersion,S)),w.then(S=>{p&&S.addEventListener("close",()=>p()),h&&S.addEventListener("versionchange",x=>h(x.oldVersion,x.newVersion,x))}).catch(()=>{}),w}const Nv=["get","getKey","getAll","getAllKeys","count"],Dv=["put","add","delete","clear"],Ih=new Map;function Fp(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(Ih.get(n))return Ih.get(n);const r=n.replace(/FromIndex$/,""),l=n!==r,h=Dv.includes(r);if(!(r in(l?IDBIndex:IDBObjectStore).prototype)||!(h||Nv.includes(r)))return;const p=async function(_,...w){const S=this.transaction(_,h?"readwrite":"readonly");let x=S.store;return l&&(x=x.index(w.shift())),(await Promise.all([x[r](...w),h&&S.done]))[0]};return Ih.set(n,p),p}Iv(s=>({...s,get:(n,r,l)=>Fp(n,r)||s.get(n,r,l),has:(n,r)=>!!Fp(n,r)||s.has(n,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(bv(r)){const l=r.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(r=>r).join(" ")}}function bv(s){const n=s.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Hh="@firebase/app",Bp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Fm("@firebase/app"),Ov="@firebase/app-compat",zv="@firebase/analytics-compat",Fv="@firebase/analytics",Bv="@firebase/app-check-compat",Wv="@firebase/app-check",Uv="@firebase/auth",Hv="@firebase/auth-compat",jv="@firebase/database",Zv="@firebase/data-connect",Vv="@firebase/database-compat",Gv="@firebase/functions",$v="@firebase/functions-compat",Kv="@firebase/installations",Qv="@firebase/installations-compat",Yv="@firebase/messaging",qv="@firebase/messaging-compat",Xv="@firebase/performance",Jv="@firebase/performance-compat",ey="@firebase/remote-config",ty="@firebase/remote-config-compat",ny="@firebase/storage",iy="@firebase/storage-compat",ry="@firebase/firestore",sy="@firebase/vertexai",oy="@firebase/firestore-compat",ay="firebase",ly="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="[DEFAULT]",uy={[Hh]:"fire-core",[Ov]:"fire-core-compat",[Fv]:"fire-analytics",[zv]:"fire-analytics-compat",[Wv]:"fire-app-check",[Bv]:"fire-app-check-compat",[Uv]:"fire-auth",[Hv]:"fire-auth-compat",[jv]:"fire-rtdb",[Zv]:"fire-data-connect",[Vv]:"fire-rtdb-compat",[Gv]:"fire-fn",[$v]:"fire-fn-compat",[Kv]:"fire-iid",[Qv]:"fire-iid-compat",[Yv]:"fire-fcm",[qv]:"fire-fcm-compat",[Xv]:"fire-perf",[Jv]:"fire-perf-compat",[ey]:"fire-rc",[ty]:"fire-rc-compat",[ny]:"fire-gcs",[iy]:"fire-gcs-compat",[ry]:"fire-fst",[oy]:"fire-fst-compat",[sy]:"fire-vertex","fire-js":"fire-js",[ay]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new Map,cy=new Map,Zh=new Map;function Wp(s,n){try{s.container.addComponent(n)}catch(r){Mi.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,r)}}function Eu(s){const n=s.name;if(Zh.has(n))return Mi.debug(`There were multiple attempts to register component ${n}.`),!1;Zh.set(n,s);for(const r of Cu.values())Wp(r,s);for(const r of cy.values())Wp(r,s);return!0}function hy(s,n){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new Om("app","Firebase",dy);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(n,r,l){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=ly;function Um(s,n={}){let r=s;typeof n!="object"&&(n={name:n});const l=Object.assign({name:jh,automaticDataCollectionEnabled:!1},n),h=l.name;if(typeof h!="string"||!h)throw yr.create("bad-app-name",{appName:String(h)});if(r||(r=Rm()),!r)throw yr.create("no-options");const p=Cu.get(h);if(p){if(Bh(r,p.options)&&Bh(l,p.config))return p;throw yr.create("duplicate-app",{appName:h})}const _=new vv(h);for(const S of Zh.values())_.addComponent(S);const w=new fy(r,l,_);return Cu.set(h,w),w}function my(s=jh){const n=Cu.get(s);if(!n&&s===jh&&Rm())return Um();if(!n)throw yr.create("no-app",{appName:s});return n}function io(s,n,r){var l;let h=(l=uy[s])!==null&&l!==void 0?l:s;r&&(h+=`-${r}`);const p=h.match(/\s|\//),_=n.match(/\s|\//);if(p||_){const w=[`Unable to register library "${h}" with version "${n}":`];p&&w.push(`library name "${h}" contains illegal characters (whitespace or "/")`),p&&_&&w.push("and"),_&&w.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Mi.warn(w.join(" "));return}Eu(new Da(`${h}-version`,()=>({library:h,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="firebase-heartbeat-database",gy=1,Ra="firebase-heartbeat-store";let Lh=null;function Hm(){return Lh||(Lh=Av(_y,gy,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(Ra)}catch(r){console.warn(r)}}}}).catch(s=>{throw yr.create("idb-open",{originalErrorMessage:s.message})})),Lh}async function vy(s){try{const r=(await Hm()).transaction(Ra),l=await r.objectStore(Ra).get(jm(s));return await r.done,l}catch(n){if(n instanceof ja)Mi.warn(n.message);else{const r=yr.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}async function Up(s,n){try{const l=(await Hm()).transaction(Ra,"readwrite");await l.objectStore(Ra).put(n,jm(s)),await l.done}catch(r){if(r instanceof ja)Mi.warn(r.message);else{const l=yr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Mi.warn(l.message)}}}function jm(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=1024,wy=30*24*60*60*1e3;class Sy{constructor(n){this.container=n,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Cy(r),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){var n,r;try{const h=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),p=Hp();return((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===p||this._heartbeatsCache.heartbeats.some(_=>_.date===p)?void 0:(this._heartbeatsCache.heartbeats.push({date:p,agent:h}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(_=>{const w=new Date(_.date).valueOf();return Date.now()-w<=wy}),this._storage.overwrite(this._heartbeatsCache))}catch(l){Mi.warn(l)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Hp(),{heartbeatsToSend:l,unsentEntries:h}=xy(this._heartbeatsCache.heartbeats),p=Su(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=r,h.length>0?(this._heartbeatsCache.heartbeats=h,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),p}catch(r){return Mi.warn(r),""}}}function Hp(){return new Date().toISOString().substring(0,10)}function xy(s,n=yy){const r=[];let l=s.slice();for(const h of s){const p=r.find(_=>_.agent===h.agent);if(p){if(p.dates.push(h.date),jp(r)>n){p.dates.pop();break}}else if(r.push({agent:h.agent,dates:[h.date]}),jp(r)>n){r.pop();break}l=l.slice(1)}return{heartbeatsToSend:r,unsentEntries:l}}class Cy{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sv()?ov().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await vy(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var r;if(await this._canUseIndexedDBPromise){const h=await this.read();return Up(this.app,{lastSentHeartbeatDate:(r=n.lastSentHeartbeatDate)!==null&&r!==void 0?r:h.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var r;if(await this._canUseIndexedDBPromise){const h=await this.read();return Up(this.app,{lastSentHeartbeatDate:(r=n.lastSentHeartbeatDate)!==null&&r!==void 0?r:h.lastSentHeartbeatDate,heartbeats:[...h.heartbeats,...n.heartbeats]})}else return}}function jp(s){return Su(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(s){Eu(new Da("platform-logger",n=>new Rv(n),"PRIVATE")),Eu(new Da("heartbeat",n=>new Sy(n),"PRIVATE")),io(Hh,Bp,s),io(Hh,Bp,"esm2017"),io("fire-js","")}Ey("");var Zp={};const Vp="@firebase/database",Gp="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zm="";function Ty(s){Zm=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,r){r==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),xt(r))}get(n){const r=this.domStorage_.getItem(this.prefixedName_(n));return r==null?null:Na(r)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,r){r==null?delete this.cache_[n]:this.cache_[n]=r}get(n){return ri(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Py(n)}}catch{}return new ky},is=Vm("localStorage"),Iy=Vm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new Fm("@firebase/database"),Ly=function(){let s=1;return function(){return s++}}(),Gm=function(s){const n=pv(s),r=new fv;r.update(n);const l=r.digest();return ad.encodeByteArray(l)},Za=function(...s){let n="";for(let r=0;r<s.length;r++){const l=s[r];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?n+=Za.apply(null,l):typeof l=="object"?n+=xt(l):n+=l,n+=" "}return n};let ka=null,$p=!0;const My=function(s,n){$(!0,"Can't turn on custom loggers persistently."),ro.logLevel=Ze.VERBOSE,ka=ro.log.bind(ro)},It=function(...s){if($p===!0&&($p=!1,ka===null&&Iy.get("logging_enabled")===!0&&My()),ka){const n=Za.apply(null,s);ka(n)}},Va=function(s){return function(...n){It(s,...n)}},Vh=function(...s){const n="FIREBASE INTERNAL ERROR: "+Za(...s);ro.error(n)},Ai=function(...s){const n=`FIREBASE FATAL ERROR: ${Za(...s)}`;throw ro.error(n),new Error(n)},jt=function(...s){const n="FIREBASE WARNING: "+Za(...s);ro.warn(n)},Ay=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ud=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},Ny=function(s){if(document.readyState==="complete")s();else{let n=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},lo="[MIN_NAME]",rs="[MAX_NAME]",ls=function(s,n){if(s===n)return 0;if(s===lo||n===rs)return-1;if(n===lo||s===rs)return 1;{const r=Kp(s),l=Kp(n);return r!==null?l!==null?r-l===0?s.length-n.length:r-l:-1:l!==null?1:s<n?-1:1}},Dy=function(s,n){return s===n?0:s<n?-1:1},wa=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+xt(n))},cd=function(s){if(typeof s!="object"||s===null)return xt(s);const n=[];for(const l in s)n.push(l);n.sort();let r="{";for(let l=0;l<n.length;l++)l!==0&&(r+=","),r+=xt(n[l]),r+=":",r+=cd(s[n[l]]);return r+="}",r},$m=function(s,n){const r=s.length;if(r<=n)return[s];const l=[];for(let h=0;h<r;h+=n)h+n>r?l.push(s.substring(h,r)):l.push(s.substring(h,h+n));return l};function Lt(s,n){for(const r in s)s.hasOwnProperty(r)&&n(r,s[r])}const Km=function(s){$(!ud(s),"Invalid JSON number");const n=11,r=52,l=(1<<n-1)-1;let h,p,_,w,S;s===0?(p=0,_=0,h=1/s===-1/0?1:0):(h=s<0,s=Math.abs(s),s>=Math.pow(2,1-l)?(w=Math.min(Math.floor(Math.log(s)/Math.LN2),l),p=w+l,_=Math.round(s*Math.pow(2,r-w)-Math.pow(2,r))):(p=0,_=Math.round(s/Math.pow(2,1-l-r))));const x=[];for(S=r;S;S-=1)x.push(_%2?1:0),_=Math.floor(_/2);for(S=n;S;S-=1)x.push(p%2?1:0),p=Math.floor(p/2);x.push(h?1:0),x.reverse();const A=x.join("");let k="";for(S=0;S<64;S+=8){let M=parseInt(A.substr(S,8),2).toString(16);M.length===1&&(M="0"+M),k=k+M}return k.toLowerCase()},Ry=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},by=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Oy(s,n){let r="Unknown Error";s==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?r="Client doesn't have permission to access the desired data.":s==="unavailable"&&(r="The service is unavailable");const l=new Error(s+" at "+n._path.toString()+": "+r);return l.code=s.toUpperCase(),l}const zy=new RegExp("^-?(0*)\\d{1,10}$"),Fy=-2147483648,By=2147483647,Kp=function(s){if(zy.test(s)){const n=Number(s);if(n>=Fy&&n<=By)return n}return null},_o=function(s){try{s()}catch(n){setTimeout(()=>{const r=n.stack||"";throw jt("Exception was thrown by user callback.",r),n},Math.floor(0))}},Wy=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ia=function(s,n){const r=setTimeout(s,n);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(n,r){this.appName_=n,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(l=>this.appCheck=l)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((r,l)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(r,l):r(null)},0)})}addTokenChangeListener(n){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){jt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(n,r,l){this.appName_=n,this.firebaseOptions_=r,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(h=>this.auth_=h)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(r=>r&&r.code==="auth/token-not-initialized"?(It("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,l)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(r,l):r(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(r=>r.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(r=>r.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jt(n)}}class wu{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}wu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="5",Qm="v",Ym="s",qm="r",Xm="f",Jm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,e_="ls",t_="p",Gh="ac",n_="websocket",i_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(n,r,l,h,p=!1,_="",w=!1,S=!1){this.secure=r,this.namespace=l,this.webSocketOnly=h,this.nodeAdmin=p,this.persistenceKey=_,this.includeNamespaceInQueryParams=w,this.isUsingEmulator=S,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=is.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&is.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${r}`}}function jy(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function s_(s,n,r){$(typeof n=="string","typeof type must == string"),$(typeof r=="object","typeof params must == object");let l;if(n===n_)l=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===i_)l=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);jy(s)&&(r.ns=s.namespace);const h=[];return Lt(r,(p,_)=>{h.push(p+"="+_)}),l+h.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.counters_={}}incrementCounter(n,r=1){ri(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=r}get(){return $g(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh={},Ah={};function dd(s){const n=s.toString();return Mh[n]||(Mh[n]=new Zy),Mh[n]}function Vy(s,n){const r=s.toString();return Ah[r]||(Ah[r]=n()),Ah[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,r){this.closeAfterResponse=n,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,r){for(this.pendingResponses[n]=r;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let h=0;h<l.length;++h)l[h]&&_o(()=>{this.onMessage_(l[h])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="start",$y="close",Ky="pLPCommand",Qy="pRTLPCB",o_="id",a_="pw",l_="ser",Yy="cb",qy="seg",Xy="ts",Jy="d",ew="dframe",u_=1870,c_=30,tw=u_-c_,nw=25e3,iw=3e4;class no{constructor(n,r,l,h,p,_,w){this.connId=n,this.repoInfo=r,this.applicationId=l,this.appCheckToken=h,this.authToken=p,this.transportSessionId=_,this.lastSessionId=w,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Va(n),this.stats_=dd(r),this.urlFn=S=>(this.appCheckToken&&(S[Gh]=this.appCheckToken),s_(r,i_,S))}open(n,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new Gy(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(iw)),Ny(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fd((...p)=>{const[_,w,S,x,A]=p;if(this.incrementIncomingBytes_(p),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,_===Qp)this.id=w,this.password=S;else if(_===$y)w?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(w,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+_)},(...p)=>{const[_,w]=p;this.incrementIncomingBytes_(p),this.myPacketOrderer.handleResponse(_,w)},()=>{this.onClosed_()},this.urlFn);const l={};l[Qp]="t",l[l_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[Yy]=this.scriptTagHolder.uniqueCallbackIdentifier),l[Qm]=hd,this.transportSessionId&&(l[Ym]=this.transportSessionId),this.lastSessionId&&(l[e_]=this.lastSessionId),this.applicationId&&(l[t_]=this.applicationId),this.appCheckToken&&(l[Gh]=this.appCheckToken),typeof location<"u"&&location.hostname&&Jm.test(location.hostname)&&(l[qm]=Xm);const h=this.urlFn(l);this.log_("Connecting via long-poll to "+h),this.scriptTagHolder.addTag(h,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){no.forceAllow_=!0}static forceDisallow(){no.forceDisallow_=!0}static isAvailable(){return no.forceAllow_?!0:!no.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ry()&&!by()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const r=xt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const l=Am(r),h=$m(l,tw);for(let p=0;p<h.length;p++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,h.length,h[p]),this.curSegmentNum++}addDisconnectPingFrame(n,r){this.myDisconnFrame=document.createElement("iframe");const l={};l[ew]="t",l[o_]=n,l[a_]=r,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const r=xt(n).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class fd{constructor(n,r,l,h){this.onDisconnect=l,this.urlFn=h,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ly(),window[Ky+this.uniqueCallbackIdentifier]=n,window[Qy+this.uniqueCallbackIdentifier]=r,this.myIFrame=fd.createIFrame_();let p="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(p='<script>document.domain="'+document.domain+'";<\/script>');const _="<html><body>"+p+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(_),this.myIFrame.doc.close()}catch(w){It("frame writing exception"),w.stack&&It(w.stack),It(w)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||It("No IE domain setting required")}catch{const l=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,r){for(this.myID=n,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[o_]=this.myID,n[a_]=this.myPW,n[l_]=this.currentSerial;let r=this.urlFn(n),l="",h=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+c_+l.length<=u_;){const _=this.pendingSegs.shift();l=l+"&"+qy+h+"="+_.seg+"&"+Xy+h+"="+_.ts+"&"+Jy+h+"="+_.d,h++}return r=r+l,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(n,r,l){this.pendingSegs.push({seg:n,ts:r,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(n,r){this.outstandingRequests.add(r);const l=()=>{this.outstandingRequests.delete(r),this.newRequest_()},h=setTimeout(l,Math.floor(nw)),p=()=>{clearTimeout(h),l()};this.addTag(n,p)}addTag(n,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=n,l.onload=l.onreadystatechange=function(){const h=l.readyState;(!h||h==="loaded"||h==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),r())},l.onerror=()=>{It("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=16384,sw=45e3;let Tu=null;typeof MozWebSocket<"u"?Tu=MozWebSocket:typeof WebSocket<"u"&&(Tu=WebSocket);class ii{constructor(n,r,l,h,p,_,w){this.connId=n,this.applicationId=l,this.appCheckToken=h,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Va(this.connId),this.stats_=dd(r),this.connURL=ii.connectionURL_(r,_,w,h,l),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,l,h,p){const _={};return _[Qm]=hd,typeof location<"u"&&location.hostname&&Jm.test(location.hostname)&&(_[qm]=Xm),r&&(_[Ym]=r),l&&(_[e_]=l),h&&(_[Gh]=h),p&&(_[t_]=p),s_(n,n_,_)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,is.set("previous_websocket_failure",!0);try{let l;rv(),this.mySock=new Tu(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const h=l.message||l.data;h&&this.log_(h),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const h=l.message||l.data;h&&this.log_(h),this.onClosed_()}}start(){}static forceDisallow(){ii.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(r);l&&l.length>1&&parseFloat(l[1])<4.4&&(n=!0)}return!n&&Tu!==null&&!ii.forceDisallow_}static previouslyFailed(){return is.isInMemoryStorage||is.get("previous_websocket_failure")===!0}markConnectionHealthy(){is.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const l=Na(r);this.onMessage(l)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if($(this.frames===null,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const l=this.extractFrameCount_(r);l!==null&&this.appendFrame_(l)}}send(n){this.resetKeepAlive();const r=xt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const l=$m(r,rw);l.length>1&&this.sendString_(String(l.length));for(let h=0;h<l.length;h++)this.sendString_(l[h])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sw))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ii.responsesRequiredToBeHealthy=2;ii.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{static get ALL_TRANSPORTS(){return[no,ii]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const r=ii.isAvailable();let l=r&&!ii.previouslyFailed();if(n.webSocketOnly&&(r||jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[ii];else{const h=this.transports_=[];for(const p of ba.ALL_TRANSPORTS)p&&p.isAvailable()&&h.push(p);ba.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ba.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=6e4,aw=5e3,lw=10*1024,uw=100*1024,Nh="t",Yp="d",cw="s",qp="r",hw="e",Xp="o",Jp="a",em="n",tm="p",dw="h";class fw{constructor(n,r,l,h,p,_,w,S,x,A){this.id=n,this.repoInfo_=r,this.applicationId_=l,this.appCheckToken_=h,this.authToken_=p,this.onMessage_=_,this.onReady_=w,this.onDisconnect_=S,this.onKill_=x,this.lastSessionId=A,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Va("c:"+this.id+":"),this.transportManager_=new ba(r),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,l)},Math.floor(0));const h=n.healthyTimeout||0;h>0&&(this.healthyTimeout_=Ia(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>lw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(h)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return r=>{n===this.conn_?this.onConnectionLost_(r):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return r=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(r):n===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(n){const r={t:"d",d:n};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Nh in n){const r=n[Nh];r===Jp?this.upgradeIfSecondaryHealthy_():r===qp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Xp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const r=wa("t",n),l=wa("d",n);if(r==="c")this.onSecondaryControl_(l);else if(r==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Jp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:em,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const r=wa("t",n),l=wa("d",n);r==="c"?this.onControl_(l):r==="d"&&this.onDataMessage_(l)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const r=wa(Nh,n);if(Yp in n){const l=n[Yp];if(r===dw){const h=Object.assign({},l);this.repoInfo_.isUsingEmulator&&(h.h=this.repoInfo_.host),this.onHandshake_(h)}else if(r===em){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let h=0;h<this.pendingDataMessages.length;++h)this.onDataMessage_(this.pendingDataMessages[h]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===cw?this.onConnectionShutdown_(l):r===qp?this.onReset_(l):r===hw?Vh("Server Error: "+l):r===Xp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vh("Unknown control packet command: "+r)}}onHandshake_(n){const r=n.ts,l=n.v,h=n.h;this.sessionId=n.s,this.repoInfo_.host=h,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),hd!==l&&jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,l),Ia(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ow))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,r){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ia(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(aw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tm,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(is.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{put(n,r,l,h){}merge(n,r,l,h){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,r,l){}onDisconnectMerge(n,r,l){}onDisconnectCancel(n,r){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(n){this.allowedEvents_=n,this.listeners_={},$(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...r){if(Array.isArray(this.listeners_[n])){const l=[...this.listeners_[n]];for(let h=0;h<l.length;h++)l[h].callback.apply(l[h].context,r)}}on(n,r,l){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:r,context:l});const h=this.getInitialEvent(n);h&&r.apply(l,h)}off(n,r,l){this.validateEventType_(n);const h=this.listeners_[n]||[];for(let p=0;p<h.length;p++)if(h[p].callback===r&&(!l||l===h[p].context)){h.splice(p,1);return}}validateEventType_(n){$(this.allowedEvents_.find(r=>r===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends d_{static getInstance(){return new Pu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!bm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return $(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=32,im=768;class Fe{constructor(n,r){if(r===void 0){this.pieces_=n.split("/");let l=0;for(let h=0;h<this.pieces_.length;h++)this.pieces_[h].length>0&&(this.pieces_[l]=this.pieces_[h],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=r}toString(){let n="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(n+="/"+this.pieces_[r]);return n||"/"}}function Ae(){return new Fe("")}function Se(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Sr(s){return s.pieces_.length-s.pieceNum_}function Ve(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new Fe(s.pieces_,n)}function pd(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function pw(s){let n="";for(let r=s.pieceNum_;r<s.pieces_.length;r++)s.pieces_[r]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[r])));return n||"/"}function Oa(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function f_(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let r=s.pieceNum_;r<s.pieces_.length-1;r++)n.push(s.pieces_[r]);return new Fe(n,0)}function st(s,n){const r=[];for(let l=s.pieceNum_;l<s.pieces_.length;l++)r.push(s.pieces_[l]);if(n instanceof Fe)for(let l=n.pieceNum_;l<n.pieces_.length;l++)r.push(n.pieces_[l]);else{const l=n.split("/");for(let h=0;h<l.length;h++)l[h].length>0&&r.push(l[h])}return new Fe(r,0)}function Ee(s){return s.pieceNum_>=s.pieces_.length}function tn(s,n){const r=Se(s),l=Se(n);if(r===null)return n;if(r===l)return tn(Ve(s),Ve(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function mw(s,n){const r=Oa(s,0),l=Oa(n,0);for(let h=0;h<r.length&&h<l.length;h++){const p=ls(r[h],l[h]);if(p!==0)return p}return r.length===l.length?0:r.length<l.length?-1:1}function md(s,n){if(Sr(s)!==Sr(n))return!1;for(let r=s.pieceNum_,l=n.pieceNum_;r<=s.pieces_.length;r++,l++)if(s.pieces_[r]!==n.pieces_[l])return!1;return!0}function kn(s,n){let r=s.pieceNum_,l=n.pieceNum_;if(Sr(s)>Sr(n))return!1;for(;r<s.pieces_.length;){if(s.pieces_[r]!==n.pieces_[l])return!1;++r,++l}return!0}class _w{constructor(n,r){this.errorPrefix_=r,this.parts_=Oa(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=Bu(this.parts_[l]);p_(this)}}function gw(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=Bu(n),p_(s)}function vw(s){const n=s.parts_.pop();s.byteLength_-=Bu(n),s.parts_.length>0&&(s.byteLength_-=1)}function p_(s){if(s.byteLength_>im)throw new Error(s.errorPrefix_+"has a key path longer than "+im+" bytes ("+s.byteLength_+").");if(s.parts_.length>nm)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nm+") or object contains a cycle "+ns(s))}function ns(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends d_{static getInstance(){return new _d}constructor(){super(["visible"]);let n,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const l=!document[n];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(n){return $(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=1e3,yw=60*5*1e3,rm=30*1e3,ww=1.3,Sw=3e4,xw="server_kill",sm=3;class Li extends h_{constructor(n,r,l,h,p,_,w,S){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=l,this.onConnectStatus_=h,this.onServerInfoUpdate_=p,this.authTokenProvider_=_,this.appCheckTokenProvider_=w,this.authOverride_=S,this.id=Li.nextPersistentConnectionId_++,this.log_=Va("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sa,this.maxReconnectDelay_=yw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_d.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Pu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,l){const h=++this.requestNumber_,p={r:h,a:n,b:r};this.log_(xt(p)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),l&&(this.requestCBHash_[h]=l)}get(n){this.initConnection_();const r=new Ha,h={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:_=>{const w=_.d;_.s==="ok"?r.resolve(w):r.reject(w)}};this.outstandingGets_.push(h),this.outstandingGetCount_++;const p=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(p),r.promise}listen(n,r,l,h){this.initConnection_();const p=n._queryIdentifier,_=n._path.toString();this.log_("Listen called for "+_+" "+p),this.listens.has(_)||this.listens.set(_,new Map),$(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(_).has(p),"listen() called twice for same path/queryId.");const w={onComplete:h,hashFn:r,query:n,tag:l};this.listens.get(_).set(p,w),this.connected_&&this.sendListen_(w)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,l=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(l)})}sendListen_(n){const r=n.query,l=r._path.toString(),h=r._queryIdentifier;this.log_("Listen on "+l+" for "+h);const p={p:l},_="q";n.tag&&(p.q=r._queryObject,p.t=n.tag),p.h=n.hashFn(),this.sendRequest(_,p,w=>{const S=w.d,x=w.s;Li.warnOnListenWarnings_(S,r),(this.listens.get(l)&&this.listens.get(l).get(h))===n&&(this.log_("listen response",w),x!=="ok"&&this.removeListen_(l,h),n.onComplete&&n.onComplete(x,S))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&ri(n,"w")){const l=ao(n,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const h='".indexOn": "'+r._queryParams.getIndex().toString()+'"',p=r._path.toString();jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${h} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||hv(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=rm)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=cv(n)?"auth":"gauth",l={cred:n};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(r,l,h=>{const p=h.s,_=h.d||"error";this.authToken_===n&&(p==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,l=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,l)})}unlisten(n,r){const l=n._path.toString(),h=n._queryIdentifier;this.log_("Unlisten called for "+l+" "+h),$(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,h)&&this.connected_&&this.sendUnlisten_(l,h,n._queryObject,r)}sendUnlisten_(n,r,l,h){this.log_("Unlisten on "+n+" for "+r);const p={p:n},_="n";h&&(p.q=l,p.t=h),this.sendRequest(_,p)}onDisconnectPut(n,r,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:l})}onDisconnectMerge(n,r,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:l})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,l,h){const p={p:r,d:l};this.log_("onDisconnect "+n,p),this.sendRequest(n,p,_=>{h&&setTimeout(()=>{h(_.s,_.d)},Math.floor(0))})}put(n,r,l,h){this.putInternal("p",n,r,l,h)}merge(n,r,l,h){this.putInternal("m",n,r,l,h)}putInternal(n,r,l,h,p){this.initConnection_();const _={p:r,d:l};p!==void 0&&(_.h=p),this.outstandingPuts_.push({action:n,request:_,onComplete:h}),this.outstandingPutCount_++;const w=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(w):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,l=this.outstandingPuts_[n].request,h=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,l,p=>{this.log_(r+" response",p),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),h&&h(p.s,p.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,l=>{if(l.s!=="ok"){const p=l.d;this.log_("reportStats","Error sending stats: "+p)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+xt(n));const r=n.r,l=this.requestCBHash_[r];l&&(delete this.requestCBHash_[r],l(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Vh("Unrecognized action received from server: "+xt(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Sa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Sw&&(this.reconnectDelay_=Sa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ww)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),h=this.id+":"+Li.nextConnectionId_++,p=this.lastSessionId;let _=!1,w=null;const S=function(){w?w.close():(_=!0,l())},x=function(k){$(w,"sendRequest call when we're not connected not allowed."),w.sendRequest(k)};this.realtime_={close:S,sendRequest:x};const A=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[k,M]=await Promise.all([this.authTokenProvider_.getToken(A),this.appCheckTokenProvider_.getToken(A)]);_?It("getToken() completed but was canceled"):(It("getToken() completed. Creating connection."),this.authToken_=k&&k.accessToken,this.appCheckToken_=M&&M.token,w=new fw(h,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,l,Z=>{jt(Z+" ("+this.repoInfo_.toString()+")"),this.interrupt(xw)},p))}catch(k){this.log_("Failed to get token: "+k),_||(this.repoInfo_.nodeAdmin&&jt(k),S())}}}interrupt(n){It("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){It("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Rp(this.interruptReasons_)&&(this.reconnectDelay_=Sa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let l;r?l=r.map(p=>cd(p)).join("$"):l="default";const h=this.removeListen_(n,l);h&&h.onComplete&&h.onComplete("permission_denied")}removeListen_(n,r){const l=new Fe(n).toString();let h;if(this.listens.has(l)){const p=this.listens.get(l);h=p.get(r),p.delete(r),p.size===0&&this.listens.delete(l)}else h=void 0;return h}onAuthRevoked_(n,r){It("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=sm&&(this.reconnectDelay_=rm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){It("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=sm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+Zm.replace(/\./g,"-")]=1,bm()?n["framework.cordova"]=1:iv()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Pu.getInstance().currentlyOnline();return Rp(this.interruptReasons_)&&n}}Li.nextPersistentConnectionId_=0;Li.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(n,r){this.name=n,this.node=r}static Wrap(n,r){return new xe(n,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,r){const l=new xe(lo,n),h=new xe(lo,r);return this.compare(l,h)!==0}minPost(){return xe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu;class m_ extends Wu{static get __EMPTY_NODE(){return gu}static set __EMPTY_NODE(n){gu=n}compare(n,r){return ls(n.name,r.name)}isDefinedOn(n){throw po("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,r){return!1}minPost(){return xe.MIN}maxPost(){return new xe(rs,gu)}makePost(n,r){return $(typeof n=="string","KeyIndex indexValue must always be a string."),new xe(n,gu)}toString(){return".key"}}const so=new m_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(n,r,l,h,p=null){this.isReverse_=h,this.resultGenerator_=p,this.nodeStack_=[];let _=1;for(;!n.isEmpty();)if(n=n,_=r?l(n.key,r):1,h&&(_*=-1),_<0)this.isReverse_?n=n.left:n=n.right;else if(_===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(n.key,n.value):r={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class wt{constructor(n,r,l,h,p){this.key=n,this.value=r,this.color=l??wt.RED,this.left=h??nn.EMPTY_NODE,this.right=p??nn.EMPTY_NODE}copy(n,r,l,h,p){return new wt(n??this.key,r??this.value,l??this.color,h??this.left,p??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,l){let h=this;const p=l(n,h.key);return p<0?h=h.copy(null,null,null,h.left.insert(n,r,l),null):p===0?h=h.copy(null,r,null,null,null):h=h.copy(null,null,null,null,h.right.insert(n,r,l)),h.fixUp_()}removeMin_(){if(this.left.isEmpty())return nn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let l,h;if(l=this,r(n,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(n,r),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),r(n,l.key)===0){if(l.right.isEmpty())return nn.EMPTY_NODE;h=l.right.min_(),l=l.copy(h.key,h.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(n,r))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}wt.RED=!0;wt.BLACK=!1;class Cw{copy(n,r,l,h,p){return this}insert(n,r,l){return new wt(n,r,null)}remove(n,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class nn{constructor(n,r=nn.EMPTY_NODE){this.comparator_=n,this.root_=r}insert(n,r){return new nn(this.comparator_,this.root_.insert(n,r,this.comparator_).copy(null,null,wt.BLACK,null,null))}remove(n){return new nn(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,wt.BLACK,null,null))}get(n){let r,l=this.root_;for(;!l.isEmpty();){if(r=this.comparator_(n,l.key),r===0)return l.value;r<0?l=l.left:r>0&&(l=l.right)}return null}getPredecessorKey(n){let r,l=this.root_,h=null;for(;!l.isEmpty();)if(r=this.comparator_(n,l.key),r===0){if(l.left.isEmpty())return h?h.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else r<0?l=l.left:r>0&&(h=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new vu(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,r){return new vu(this.root_,n,this.comparator_,!1,r)}getReverseIteratorFrom(n,r){return new vu(this.root_,n,this.comparator_,!0,r)}getReverseIterator(n){return new vu(this.root_,null,this.comparator_,!0,n)}}nn.EMPTY_NODE=new Cw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(s,n){return ls(s.name,n.name)}function gd(s,n){return ls(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h;function Tw(s){$h=s}const __=function(s){return typeof s=="number"?"number:"+Km(s):"string:"+s},g_=function(s){if(s.isLeafNode()){const n=s.val();$(typeof n=="string"||typeof n=="number"||typeof n=="object"&&ri(n,".sv"),"Priority must be a string or number.")}else $(s===$h||s.isEmpty(),"priority of unexpected type.");$(s===$h||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om;class yt{static set __childrenNodeConstructor(n){om=n}static get __childrenNodeConstructor(){return om}constructor(n,r=yt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),g_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new yt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:yt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Ee(n)?this:Se(n)===".priority"?this.priorityNode_:yt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:yt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const l=Se(n);return l===null?r:r.isEmpty()&&l!==".priority"?this:($(l!==".priority"||Sr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,yt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ve(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+__(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",r==="number"?n+=Km(this.value_):n+=this.value_,this.lazyHash_=Gm(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===yt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof yt.__childrenNodeConstructor?-1:($(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,l=typeof this.value_,h=yt.VALUE_TYPE_ORDER.indexOf(r),p=yt.VALUE_TYPE_ORDER.indexOf(l);return $(h>=0,"Unknown leaf type: "+r),$(p>=0,"Unknown leaf type: "+l),h===p?l==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:p-h}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}yt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v_,y_;function Pw(s){v_=s}function kw(s){y_=s}class Iw extends Wu{compare(n,r){const l=n.node.getPriority(),h=r.node.getPriority(),p=l.compareTo(h);return p===0?ls(n.name,r.name):p}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,r){return!n.getPriority().equals(r.getPriority())}minPost(){return xe.MIN}maxPost(){return new xe(rs,new yt("[PRIORITY-POST]",y_))}makePost(n,r){const l=v_(n);return new xe(r,new yt("[PRIORITY-POST]",l))}toString(){return".priority"}}const ot=new Iw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=Math.log(2);class Mw{constructor(n){const r=p=>parseInt(Math.log(p)/Lw,10),l=p=>parseInt(Array(p+1).join("1"),2);this.count=r(n+1),this.current_=this.count-1;const h=l(this.count);this.bits_=n+1&h}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const ku=function(s,n,r,l){s.sort(n);const h=function(S,x){const A=x-S;let k,M;if(A===0)return null;if(A===1)return k=s[S],M=r?r(k):k,new wt(M,k.node,wt.BLACK,null,null);{const Z=parseInt(A/2,10)+S,Q=h(S,Z),K=h(Z+1,x);return k=s[Z],M=r?r(k):k,new wt(M,k.node,wt.BLACK,Q,K)}},p=function(S){let x=null,A=null,k=s.length;const M=function(Q,K){const le=k-Q,Ie=k;k-=Q;const Ne=h(le+1,Ie),Le=s[le],Be=r?r(Le):Le;Z(new wt(Be,Le.node,K,null,Ne))},Z=function(Q){x?(x.left=Q,x=Q):(A=Q,x=Q)};for(let Q=0;Q<S.count;++Q){const K=S.nextBitIsOne(),le=Math.pow(2,S.count-(Q+1));K?M(le,wt.BLACK):(M(le,wt.BLACK),M(le,wt.RED))}return A},_=new Mw(s.length),w=p(_);return new nn(l||n,w)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh;const xa={};class Ii{static get Default(){return $(ot,"ChildrenNode.ts has not been loaded"),Dh=Dh||new Ii({".priority":xa},{".priority":ot}),Dh}constructor(n,r){this.indexes_=n,this.indexSet_=r}get(n){const r=ao(this.indexes_,n);if(!r)throw new Error("No index defined for "+n);return r instanceof nn?r:null}hasIndex(n){return ri(this.indexSet_,n.toString())}addIndex(n,r){$(n!==so,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let h=!1;const p=r.getIterator(xe.Wrap);let _=p.getNext();for(;_;)h=h||n.isDefinedOn(_.node),l.push(_),_=p.getNext();let w;h?w=ku(l,n.getCompare()):w=xa;const S=n.toString(),x=Object.assign({},this.indexSet_);x[S]=n;const A=Object.assign({},this.indexes_);return A[S]=w,new Ii(A,x)}addToIndexes(n,r){const l=xu(this.indexes_,(h,p)=>{const _=ao(this.indexSet_,p);if($(_,"Missing index implementation for "+p),h===xa)if(_.isDefinedOn(n.node)){const w=[],S=r.getIterator(xe.Wrap);let x=S.getNext();for(;x;)x.name!==n.name&&w.push(x),x=S.getNext();return w.push(n),ku(w,_.getCompare())}else return xa;else{const w=r.get(n.name);let S=h;return w&&(S=S.remove(new xe(n.name,w))),S.insert(n,n.node)}});return new Ii(l,this.indexSet_)}removeFromIndexes(n,r){const l=xu(this.indexes_,h=>{if(h===xa)return h;{const p=r.get(n.name);return p?h.remove(new xe(n.name,p)):h}});return new Ii(l,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca;class fe{static get EMPTY_NODE(){return Ca||(Ca=new fe(new nn(gd),null,Ii.Default))}constructor(n,r,l){this.children_=n,this.priorityNode_=r,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&g_(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ca}updatePriority(n){return this.children_.isEmpty()?this:new fe(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const r=this.children_.get(n);return r===null?Ca:r}}getChild(n){const r=Se(n);return r===null?this:this.getImmediateChild(r).getChild(Ve(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if($(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{const l=new xe(n,r);let h,p;r.isEmpty()?(h=this.children_.remove(n),p=this.indexMap_.removeFromIndexes(l,this.children_)):(h=this.children_.insert(n,r),p=this.indexMap_.addToIndexes(l,this.children_));const _=h.isEmpty()?Ca:this.priorityNode_;return new fe(h,_,p)}}updateChild(n,r){const l=Se(n);if(l===null)return r;{$(Se(n)!==".priority"||Sr(n)===1,".priority must be the last token in a path");const h=this.getImmediateChild(l).updateChild(Ve(n),r);return this.updateImmediateChild(l,h)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let l=0,h=0,p=!0;if(this.forEachChild(ot,(_,w)=>{r[_]=w.val(n),l++,p&&fe.INTEGER_REGEXP_.test(_)?h=Math.max(h,Number(_)):p=!1}),!n&&p&&h<2*l){const _=[];for(const w in r)_[w]=r[w];return _}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+__(this.getPriority().val())+":"),this.forEachChild(ot,(r,l)=>{const h=l.hash();h!==""&&(n+=":"+r+":"+h)}),this.lazyHash_=n===""?"":Gm(n)}return this.lazyHash_}getPredecessorChildName(n,r,l){const h=this.resolveIndex_(l);if(h){const p=h.getPredecessorKey(new xe(n,r));return p?p.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const l=r.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new xe(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const l=r.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new xe(r,this.children_.get(r)):null}forEachChild(n,r){const l=this.resolveIndex_(n);return l?l.inorderTraversal(h=>r(h.name,h.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const l=this.resolveIndex_(r);if(l)return l.getIteratorFrom(n,h=>h);{const h=this.children_.getIteratorFrom(n.name,xe.Wrap);let p=h.peek();for(;p!=null&&r.compare(p,n)<0;)h.getNext(),p=h.peek();return h}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const l=this.resolveIndex_(r);if(l)return l.getReverseIteratorFrom(n,h=>h);{const h=this.children_.getReverseIteratorFrom(n.name,xe.Wrap);let p=h.peek();for(;p!=null&&r.compare(p,n)>0;)h.getNext(),p=h.peek();return h}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ga?-1:0}withIndex(n){if(n===so||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new fe(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===so||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const l=this.getIterator(ot),h=r.getIterator(ot);let p=l.getNext(),_=h.getNext();for(;p&&_;){if(p.name!==_.name||!p.node.equals(_.node))return!1;p=l.getNext(),_=h.getNext()}return p===null&&_===null}else return!1;else return!1}}resolveIndex_(n){return n===so?null:this.indexMap_.get(n.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Aw extends fe{constructor(){super(new nn(gd),fe.EMPTY_NODE,Ii.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return fe.EMPTY_NODE}isEmpty(){return!1}}const Ga=new Aw;Object.defineProperties(xe,{MIN:{value:new xe(lo,fe.EMPTY_NODE)},MAX:{value:new xe(rs,Ga)}});m_.__EMPTY_NODE=fe.EMPTY_NODE;yt.__childrenNodeConstructor=fe;Tw(Ga);kw(Ga);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=!0;function St(s,n=null){if(s===null)return fe.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),$(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const r=s;return new yt(r,St(n))}if(!(s instanceof Array)&&Nw){const r=[];let l=!1;if(Lt(s,(_,w)=>{if(_.substring(0,1)!=="."){const S=St(w);S.isEmpty()||(l=l||!S.getPriority().isEmpty(),r.push(new xe(_,S)))}}),r.length===0)return fe.EMPTY_NODE;const p=ku(r,Ew,_=>_.name,gd);if(l){const _=ku(r,ot.getCompare());return new fe(p,St(n),new Ii({".priority":_},{".priority":ot}))}else return new fe(p,St(n),Ii.Default)}else{let r=fe.EMPTY_NODE;return Lt(s,(l,h)=>{if(ri(s,l)&&l.substring(0,1)!=="."){const p=St(h);(p.isLeafNode()||!p.isEmpty())&&(r=r.updateImmediateChild(l,p))}}),r.updatePriority(St(n))}}Pw(St);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends Wu{constructor(n){super(),this.indexPath_=n,$(!Ee(n)&&Se(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,r){const l=this.extractChild(n.node),h=this.extractChild(r.node),p=l.compareTo(h);return p===0?ls(n.name,r.name):p}makePost(n,r){const l=St(n),h=fe.EMPTY_NODE.updateChild(this.indexPath_,l);return new xe(r,h)}maxPost(){const n=fe.EMPTY_NODE.updateChild(this.indexPath_,Ga);return new xe(rs,n)}toString(){return Oa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Wu{compare(n,r){const l=n.node.compareTo(r.node);return l===0?ls(n.name,r.name):l}isDefinedOn(n){return!0}indexedValueChanged(n,r){return!n.equals(r)}minPost(){return xe.MIN}maxPost(){return xe.MAX}makePost(n,r){const l=St(n);return new xe(r,l)}toString(){return".value"}}const bw=new Rw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(s){return{type:"value",snapshotNode:s}}function uo(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function za(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function Fa(s,n,r){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:r}}function Ow(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(n){this.index_=n}updateChild(n,r,l,h,p,_){$(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const w=n.getImmediateChild(r);return w.getChild(h).equals(l.getChild(h))&&w.isEmpty()===l.isEmpty()||(_!=null&&(l.isEmpty()?n.hasChild(r)?_.trackChildChange(za(r,w)):$(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):w.isEmpty()?_.trackChildChange(uo(r,l)):_.trackChildChange(Fa(r,l,w))),n.isLeafNode()&&l.isEmpty())?n:n.updateImmediateChild(r,l).withIndex(this.index_)}updateFullNode(n,r,l){return l!=null&&(n.isLeafNode()||n.forEachChild(ot,(h,p)=>{r.hasChild(h)||l.trackChildChange(za(h,p))}),r.isLeafNode()||r.forEachChild(ot,(h,p)=>{if(n.hasChild(h)){const _=n.getImmediateChild(h);_.equals(p)||l.trackChildChange(Fa(h,p,_))}else l.trackChildChange(uo(h,p))})),r.withIndex(this.index_)}updatePriority(n,r){return n.isEmpty()?fe.EMPTY_NODE:n.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(n){this.indexedFilter_=new vd(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Ba.getStartPost_(n),this.endPost_=Ba.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,l=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return r&&l}updateChild(n,r,l,h,p,_){return this.matches(new xe(r,l))||(l=fe.EMPTY_NODE),this.indexedFilter_.updateChild(n,r,l,h,p,_)}updateFullNode(n,r,l){r.isLeafNode()&&(r=fe.EMPTY_NODE);let h=r.withIndex(this.index_);h=h.updatePriority(fe.EMPTY_NODE);const p=this;return r.forEachChild(ot,(_,w)=>{p.matches(new xe(_,w))||(h=h.updateImmediateChild(_,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,h,l)}updatePriority(n,r){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const r=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),r)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const r=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),r)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(n){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=r=>{const l=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Ba(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,r,l,h,p,_){return this.rangedFilter_.matches(new xe(r,l))||(l=fe.EMPTY_NODE),n.getImmediateChild(r).equals(l)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,r,l,h,p,_):this.fullLimitUpdateChild_(n,r,l,p,_)}updateFullNode(n,r,l){let h;if(r.isLeafNode()||r.isEmpty())h=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){h=fe.EMPTY_NODE.withIndex(this.index_);let p;this.reverse_?p=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):p=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let _=0;for(;p.hasNext()&&_<this.limit_;){const w=p.getNext();if(this.withinDirectionalStart(w))if(this.withinDirectionalEnd(w))h=h.updateImmediateChild(w.name,w.node),_++;else break;else continue}}else{h=r.withIndex(this.index_),h=h.updatePriority(fe.EMPTY_NODE);let p;this.reverse_?p=h.getReverseIterator(this.index_):p=h.getIterator(this.index_);let _=0;for(;p.hasNext();){const w=p.getNext();_<this.limit_&&this.withinDirectionalStart(w)&&this.withinDirectionalEnd(w)?_++:h=h.updateImmediateChild(w.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,h,l)}updatePriority(n,r){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,r,l,h,p){let _;if(this.reverse_){const k=this.index_.getCompare();_=(M,Z)=>k(Z,M)}else _=this.index_.getCompare();const w=n;$(w.numChildren()===this.limit_,"");const S=new xe(r,l),x=this.reverse_?w.getFirstChild(this.index_):w.getLastChild(this.index_),A=this.rangedFilter_.matches(S);if(w.hasChild(r)){const k=w.getImmediateChild(r);let M=h.getChildAfterChild(this.index_,x,this.reverse_);for(;M!=null&&(M.name===r||w.hasChild(M.name));)M=h.getChildAfterChild(this.index_,M,this.reverse_);const Z=M==null?1:_(M,S);if(A&&!l.isEmpty()&&Z>=0)return p!=null&&p.trackChildChange(Fa(r,l,k)),w.updateImmediateChild(r,l);{p!=null&&p.trackChildChange(za(r,k));const K=w.updateImmediateChild(r,fe.EMPTY_NODE);return M!=null&&this.rangedFilter_.matches(M)?(p!=null&&p.trackChildChange(uo(M.name,M.node)),K.updateImmediateChild(M.name,M.node)):K}}else return l.isEmpty()?n:A&&_(x,S)>=0?(p!=null&&(p.trackChildChange(za(x.name,x.node)),p.trackChildChange(uo(r,l))),w.updateImmediateChild(r,l).updateImmediateChild(x.name,fe.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ot}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lo}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ot}copy(){const n=new yd;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Fw(s){return s.loadsAllData()?new vd(s.getIndex()):s.hasLimit()?new zw(s):new Ba(s)}function am(s){const n={};if(s.isDefault())return n;let r;if(s.index_===ot?r="$priority":s.index_===bw?r="$value":s.index_===so?r="$key":($(s.index_ instanceof Dw,"Unrecognized index type!"),r=s.index_.toString()),n.orderBy=xt(r),s.startSet_){const l=s.startAfterSet_?"startAfter":"startAt";n[l]=xt(s.indexStartValue_),s.startNameSet_&&(n[l]+=","+xt(s.indexStartName_))}if(s.endSet_){const l=s.endBeforeSet_?"endBefore":"endAt";n[l]=xt(s.indexEndValue_),s.endNameSet_&&(n[l]+=","+xt(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function lm(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let r=s.viewFrom_;r===""&&(s.isViewFromLeft()?r="l":r="r"),n.vf=r}return s.index_!==ot&&(n.i=s.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends h_{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,r){return r!==void 0?"tag$"+r:($(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,r,l,h){super(),this.repoInfo_=n,this.onDataUpdate_=r,this.authTokenProvider_=l,this.appCheckTokenProvider_=h,this.log_=Va("p:rest:"),this.listens_={}}listen(n,r,l,h){const p=n._path.toString();this.log_("Listen called for "+p+" "+n._queryIdentifier);const _=Iu.getListenId_(n,l),w={};this.listens_[_]=w;const S=am(n._queryParams);this.restRequest_(p+".json",S,(x,A)=>{let k=A;if(x===404&&(k=null,x=null),x===null&&this.onDataUpdate_(p,k,!1,l),ao(this.listens_,_)===w){let M;x?x===401?M="permission_denied":M="rest_error:"+x:M="ok",h(M,null)}})}unlisten(n,r){const l=Iu.getListenId_(n,r);delete this.listens_[l]}get(n){const r=am(n._queryParams),l=n._path.toString(),h=new Ha;return this.restRequest_(l+".json",r,(p,_)=>{let w=_;p===404&&(w=null,p=null),p===null?(this.onDataUpdate_(l,w,!1,null),h.resolve(w)):h.reject(new Error(w))}),h.promise}refreshAuthToken(n){}restRequest_(n,r={},l){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([h,p])=>{h&&h.accessToken&&(r.auth=h.accessToken),p&&p.token&&(r.ac=p.token);const _=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+dv(r);this.log_("Sending REST request for "+_);const w=new XMLHttpRequest;w.onreadystatechange=()=>{if(l&&w.readyState===4){this.log_("REST Response for "+_+" received. status:",w.status,"response:",w.responseText);let S=null;if(w.status>=200&&w.status<300){try{S=Na(w.responseText)}catch{jt("Failed to parse JSON response for "+_+": "+w.responseText)}l(null,S)}else w.status!==401&&w.status!==404&&jt("Got unsuccessful REST response for "+_+" Status: "+w.status),l(w.status);l=null}},w.open("GET",_,!0),w.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,r){this.rootNode_=this.rootNode_.updateChild(n,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(){return{value:null,children:new Map}}function S_(s,n,r){if(Ee(n))s.value=r,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,r);else{const l=Se(n);s.children.has(l)||s.children.set(l,Lu());const h=s.children.get(l);n=Ve(n),S_(h,n,r)}}function Kh(s,n,r){s.value!==null?r(n,s.value):Ww(s,(l,h)=>{const p=new Fe(n.toString()+"/"+l);Kh(h,p,r)})}function Ww(s,n){s.children.forEach((r,l)=>{n(l,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),r=Object.assign({},n);return this.last_&&Lt(this.last_,(l,h)=>{r[l]=r[l]-h}),this.last_=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=10*1e3,Hw=30*1e3,jw=5*60*1e3;class Zw{constructor(n,r){this.server_=r,this.statsToReport_={},this.statsListener_=new Uw(n);const l=um+(Hw-um)*Math.random();Ia(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const n=this.statsListener_.get(),r={};let l=!1;Lt(n,(h,p)=>{p>0&&ri(this.statsToReport_,h)&&(r[h]=p,l=!0)}),l&&this.server_.reportStats(r),Ia(this.reportStats_.bind(this),Math.floor(Math.random()*2*jw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Bn||(Bn={}));function wd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Sd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function xd(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(n,r,l){this.path=n,this.affectedTree=r,this.revert=l,this.type=Bn.ACK_USER_WRITE,this.source=wd()}operationForChild(n){if(Ee(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new Fe(n));return new Mu(Ae(),r,this.revert)}}else return $(Se(this.path)===n,"operationForChild called for unrelated child."),new Mu(Ve(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(n,r){this.source=n,this.path=r,this.type=Bn.LISTEN_COMPLETE}operationForChild(n){return Ee(this.path)?new Wa(this.source,Ae()):new Wa(this.source,Ve(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(n,r,l){this.source=n,this.path=r,this.snap=l,this.type=Bn.OVERWRITE}operationForChild(n){return Ee(this.path)?new ss(this.source,Ae(),this.snap.getImmediateChild(n)):new ss(this.source,Ve(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(n,r,l){this.source=n,this.path=r,this.children=l,this.type=Bn.MERGE}operationForChild(n){if(Ee(this.path)){const r=this.children.subtree(new Fe(n));return r.isEmpty()?null:r.value?new ss(this.source,Ae(),r.value):new co(this.source,Ae(),r)}else return $(Se(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new co(this.source,Ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(n,r,l){this.node_=n,this.fullyInitialized_=r,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Ee(n))return this.isFullyInitialized()&&!this.filtered_;const r=Se(n);return this.isCompleteForChild(r)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Gw(s,n,r,l){const h=[],p=[];return n.forEach(_=>{_.type==="child_changed"&&s.index_.indexedValueChanged(_.oldSnap,_.snapshotNode)&&p.push(Ow(_.childName,_.snapshotNode))}),Ea(s,h,"child_removed",n,l,r),Ea(s,h,"child_added",n,l,r),Ea(s,h,"child_moved",p,l,r),Ea(s,h,"child_changed",n,l,r),Ea(s,h,"value",n,l,r),h}function Ea(s,n,r,l,h,p){const _=l.filter(w=>w.type===r);_.sort((w,S)=>Kw(s,w,S)),_.forEach(w=>{const S=$w(s,w,p);h.forEach(x=>{x.respondsTo(w.type)&&n.push(x.createEvent(S,s.query_))})})}function $w(s,n,r){return n.type==="value"||n.type==="child_removed"||(n.prevName=r.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function Kw(s,n,r){if(n.childName==null||r.childName==null)throw po("Should only compare child_ events.");const l=new xe(n.childName,n.snapshotNode),h=new xe(r.childName,r.snapshotNode);return s.index_.compare(l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(s,n){return{eventCache:s,serverCache:n}}function La(s,n,r,l){return Uu(new os(n,r,l),s.serverCache)}function x_(s,n,r,l){return Uu(s.eventCache,new os(n,r,l))}function Qh(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function as(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh;const Qw=()=>(Rh||(Rh=new nn(Dy)),Rh);class je{static fromObject(n){let r=new je(null);return Lt(n,(l,h)=>{r=r.set(new Fe(l),h)}),r}constructor(n,r=Qw()){this.value=n,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,r){if(this.value!=null&&r(this.value))return{path:Ae(),value:this.value};if(Ee(n))return null;{const l=Se(n),h=this.children.get(l);if(h!==null){const p=h.findRootMostMatchingPathAndValue(Ve(n),r);return p!=null?{path:st(new Fe(l),p.path),value:p.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Ee(n))return this;{const r=Se(n),l=this.children.get(r);return l!==null?l.subtree(Ve(n)):new je(null)}}set(n,r){if(Ee(n))return new je(r,this.children);{const l=Se(n),p=(this.children.get(l)||new je(null)).set(Ve(n),r),_=this.children.insert(l,p);return new je(this.value,_)}}remove(n){if(Ee(n))return this.children.isEmpty()?new je(null):new je(null,this.children);{const r=Se(n),l=this.children.get(r);if(l){const h=l.remove(Ve(n));let p;return h.isEmpty()?p=this.children.remove(r):p=this.children.insert(r,h),this.value===null&&p.isEmpty()?new je(null):new je(this.value,p)}else return this}}get(n){if(Ee(n))return this.value;{const r=Se(n),l=this.children.get(r);return l?l.get(Ve(n)):null}}setTree(n,r){if(Ee(n))return r;{const l=Se(n),p=(this.children.get(l)||new je(null)).setTree(Ve(n),r);let _;return p.isEmpty()?_=this.children.remove(l):_=this.children.insert(l,p),new je(this.value,_)}}fold(n){return this.fold_(Ae(),n)}fold_(n,r){const l={};return this.children.inorderTraversal((h,p)=>{l[h]=p.fold_(st(n,h),r)}),r(n,this.value,l)}findOnPath(n,r){return this.findOnPath_(n,Ae(),r)}findOnPath_(n,r,l){const h=this.value?l(r,this.value):!1;if(h)return h;if(Ee(n))return null;{const p=Se(n),_=this.children.get(p);return _?_.findOnPath_(Ve(n),st(r,p),l):null}}foreachOnPath(n,r){return this.foreachOnPath_(n,Ae(),r)}foreachOnPath_(n,r,l){if(Ee(n))return this;{this.value&&l(r,this.value);const h=Se(n),p=this.children.get(h);return p?p.foreachOnPath_(Ve(n),st(r,h),l):new je(null)}}foreach(n){this.foreach_(Ae(),n)}foreach_(n,r){this.children.inorderTraversal((l,h)=>{h.foreach_(st(n,l),r)}),this.value&&r(n,this.value)}foreachChild(n){this.children.inorderTraversal((r,l)=>{l.value&&n(r,l.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(n){this.writeTree_=n}static empty(){return new Wn(new je(null))}}function Ma(s,n,r){if(Ee(n))return new Wn(new je(r));{const l=s.writeTree_.findRootMostValueAndPath(n);if(l!=null){const h=l.path;let p=l.value;const _=tn(h,n);return p=p.updateChild(_,r),new Wn(s.writeTree_.set(h,p))}else{const h=new je(r),p=s.writeTree_.setTree(n,h);return new Wn(p)}}}function Yh(s,n,r){let l=s;return Lt(r,(h,p)=>{l=Ma(l,st(n,h),p)}),l}function cm(s,n){if(Ee(n))return Wn.empty();{const r=s.writeTree_.setTree(n,new je(null));return new Wn(r)}}function qh(s,n){return us(s,n)!=null}function us(s,n){const r=s.writeTree_.findRootMostValueAndPath(n);return r!=null?s.writeTree_.get(r.path).getChild(tn(r.path,n)):null}function hm(s){const n=[],r=s.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(ot,(l,h)=>{n.push(new xe(l,h))}):s.writeTree_.children.inorderTraversal((l,h)=>{h.value!=null&&n.push(new xe(l,h.value))}),n}function wr(s,n){if(Ee(n))return s;{const r=us(s,n);return r!=null?new Wn(new je(r)):new Wn(s.writeTree_.subtree(n))}}function Xh(s){return s.writeTree_.isEmpty()}function ho(s,n){return C_(Ae(),s.writeTree_,n)}function C_(s,n,r){if(n.value!=null)return r.updateChild(s,n.value);{let l=null;return n.children.inorderTraversal((h,p)=>{h===".priority"?($(p.value!==null,"Priority writes must always be leaf nodes"),l=p.value):r=C_(st(s,h),p,r)}),!r.getChild(s).isEmpty()&&l!==null&&(r=r.updateChild(st(s,".priority"),l)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(s,n){return k_(n,s)}function Yw(s,n,r,l,h){$(l>s.lastWriteId,"Stacking an older write on top of newer ones"),h===void 0&&(h=!0),s.allWrites.push({path:n,snap:r,writeId:l,visible:h}),h&&(s.visibleWrites=Ma(s.visibleWrites,n,r)),s.lastWriteId=l}function qw(s,n,r,l){$(l>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:n,children:r,writeId:l,visible:!0}),s.visibleWrites=Yh(s.visibleWrites,n,r),s.lastWriteId=l}function Xw(s,n){for(let r=0;r<s.allWrites.length;r++){const l=s.allWrites[r];if(l.writeId===n)return l}return null}function Jw(s,n){const r=s.allWrites.findIndex(w=>w.writeId===n);$(r>=0,"removeWrite called with nonexistent writeId.");const l=s.allWrites[r];s.allWrites.splice(r,1);let h=l.visible,p=!1,_=s.allWrites.length-1;for(;h&&_>=0;){const w=s.allWrites[_];w.visible&&(_>=r&&e0(w,l.path)?h=!1:kn(l.path,w.path)&&(p=!0)),_--}if(h){if(p)return t0(s),!0;if(l.snap)s.visibleWrites=cm(s.visibleWrites,l.path);else{const w=l.children;Lt(w,S=>{s.visibleWrites=cm(s.visibleWrites,st(l.path,S))})}return!0}else return!1}function e0(s,n){if(s.snap)return kn(s.path,n);for(const r in s.children)if(s.children.hasOwnProperty(r)&&kn(st(s.path,r),n))return!0;return!1}function t0(s){s.visibleWrites=E_(s.allWrites,n0,Ae()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function n0(s){return s.visible}function E_(s,n,r){let l=Wn.empty();for(let h=0;h<s.length;++h){const p=s[h];if(n(p)){const _=p.path;let w;if(p.snap)kn(r,_)?(w=tn(r,_),l=Ma(l,w,p.snap)):kn(_,r)&&(w=tn(_,r),l=Ma(l,Ae(),p.snap.getChild(w)));else if(p.children){if(kn(r,_))w=tn(r,_),l=Yh(l,w,p.children);else if(kn(_,r))if(w=tn(_,r),Ee(w))l=Yh(l,Ae(),p.children);else{const S=ao(p.children,Se(w));if(S){const x=S.getChild(Ve(w));l=Ma(l,Ae(),x)}}}else throw po("WriteRecord should have .snap or .children")}}return l}function T_(s,n,r,l,h){if(!l&&!h){const p=us(s.visibleWrites,n);if(p!=null)return p;{const _=wr(s.visibleWrites,n);if(Xh(_))return r;if(r==null&&!qh(_,Ae()))return null;{const w=r||fe.EMPTY_NODE;return ho(_,w)}}}else{const p=wr(s.visibleWrites,n);if(!h&&Xh(p))return r;if(!h&&r==null&&!qh(p,Ae()))return null;{const _=function(x){return(x.visible||h)&&(!l||!~l.indexOf(x.writeId))&&(kn(x.path,n)||kn(n,x.path))},w=E_(s.allWrites,_,n),S=r||fe.EMPTY_NODE;return ho(w,S)}}}function i0(s,n,r){let l=fe.EMPTY_NODE;const h=us(s.visibleWrites,n);if(h)return h.isLeafNode()||h.forEachChild(ot,(p,_)=>{l=l.updateImmediateChild(p,_)}),l;if(r){const p=wr(s.visibleWrites,n);return r.forEachChild(ot,(_,w)=>{const S=ho(wr(p,new Fe(_)),w);l=l.updateImmediateChild(_,S)}),hm(p).forEach(_=>{l=l.updateImmediateChild(_.name,_.node)}),l}else{const p=wr(s.visibleWrites,n);return hm(p).forEach(_=>{l=l.updateImmediateChild(_.name,_.node)}),l}}function r0(s,n,r,l,h){$(l||h,"Either existingEventSnap or existingServerSnap must exist");const p=st(n,r);if(qh(s.visibleWrites,p))return null;{const _=wr(s.visibleWrites,p);return Xh(_)?h.getChild(r):ho(_,h.getChild(r))}}function s0(s,n,r,l){const h=st(n,r),p=us(s.visibleWrites,h);if(p!=null)return p;if(l.isCompleteForChild(r)){const _=wr(s.visibleWrites,h);return ho(_,l.getNode().getImmediateChild(r))}else return null}function o0(s,n){return us(s.visibleWrites,n)}function a0(s,n,r,l,h,p,_){let w;const S=wr(s.visibleWrites,n),x=us(S,Ae());if(x!=null)w=x;else if(r!=null)w=ho(S,r);else return[];if(w=w.withIndex(_),!w.isEmpty()&&!w.isLeafNode()){const A=[],k=_.getCompare(),M=p?w.getReverseIteratorFrom(l,_):w.getIteratorFrom(l,_);let Z=M.getNext();for(;Z&&A.length<h;)k(Z,l)!==0&&A.push(Z),Z=M.getNext();return A}else return[]}function l0(){return{visibleWrites:Wn.empty(),allWrites:[],lastWriteId:-1}}function Au(s,n,r,l){return T_(s.writeTree,s.treePath,n,r,l)}function Ed(s,n){return i0(s.writeTree,s.treePath,n)}function dm(s,n,r,l){return r0(s.writeTree,s.treePath,n,r,l)}function Nu(s,n){return o0(s.writeTree,st(s.treePath,n))}function u0(s,n,r,l,h,p){return a0(s.writeTree,s.treePath,n,r,l,h,p)}function Td(s,n,r){return s0(s.writeTree,s.treePath,n,r)}function P_(s,n){return k_(st(s.treePath,n),s.writeTree)}function k_(s,n){return{treePath:s,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.changeMap=new Map}trackChildChange(n){const r=n.type,l=n.childName;$(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),$(l!==".priority","Only non-priority child changes can be tracked.");const h=this.changeMap.get(l);if(h){const p=h.type;if(r==="child_added"&&p==="child_removed")this.changeMap.set(l,Fa(l,n.snapshotNode,h.snapshotNode));else if(r==="child_removed"&&p==="child_added")this.changeMap.delete(l);else if(r==="child_removed"&&p==="child_changed")this.changeMap.set(l,za(l,h.oldSnap));else if(r==="child_changed"&&p==="child_added")this.changeMap.set(l,uo(l,n.snapshotNode));else if(r==="child_changed"&&p==="child_changed")this.changeMap.set(l,Fa(l,n.snapshotNode,h.oldSnap));else throw po("Illegal combination of changes: "+n+" occurred after "+h)}else this.changeMap.set(l,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{getCompleteChild(n){return null}getChildAfterChild(n,r,l){return null}}const I_=new h0;class Pd{constructor(n,r,l=null){this.writes_=n,this.viewCache_=r,this.optCompleteServerCache_=l}getCompleteChild(n){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(n))return r.getNode().getImmediateChild(n);{const l=this.optCompleteServerCache_!=null?new os(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Td(this.writes_,n,l)}}getChildAfterChild(n,r,l){const h=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:as(this.viewCache_),p=u0(this.writes_,h,r,1,l,n);return p.length===0?null:p[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(s){return{filter:s}}function f0(s,n){$(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),$(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function p0(s,n,r,l,h){const p=new c0;let _,w;if(r.type===Bn.OVERWRITE){const x=r;x.source.fromUser?_=Jh(s,n,x.path,x.snap,l,h,p):($(x.source.fromServer,"Unknown source."),w=x.source.tagged||n.serverCache.isFiltered()&&!Ee(x.path),_=Du(s,n,x.path,x.snap,l,h,w,p))}else if(r.type===Bn.MERGE){const x=r;x.source.fromUser?_=_0(s,n,x.path,x.children,l,h,p):($(x.source.fromServer,"Unknown source."),w=x.source.tagged||n.serverCache.isFiltered(),_=ed(s,n,x.path,x.children,l,h,w,p))}else if(r.type===Bn.ACK_USER_WRITE){const x=r;x.revert?_=y0(s,n,x.path,l,h,p):_=g0(s,n,x.path,x.affectedTree,l,h,p)}else if(r.type===Bn.LISTEN_COMPLETE)_=v0(s,n,r.path,l,p);else throw po("Unknown operation type: "+r.type);const S=p.getChanges();return m0(n,_,S),{viewCache:_,changes:S}}function m0(s,n,r){const l=n.eventCache;if(l.isFullyInitialized()){const h=l.getNode().isLeafNode()||l.getNode().isEmpty(),p=Qh(s);(r.length>0||!s.eventCache.isFullyInitialized()||h&&!l.getNode().equals(p)||!l.getNode().getPriority().equals(p.getPriority()))&&r.push(w_(Qh(n)))}}function L_(s,n,r,l,h,p){const _=n.eventCache;if(Nu(l,r)!=null)return n;{let w,S;if(Ee(r))if($(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const x=as(n),A=x instanceof fe?x:fe.EMPTY_NODE,k=Ed(l,A);w=s.filter.updateFullNode(n.eventCache.getNode(),k,p)}else{const x=Au(l,as(n));w=s.filter.updateFullNode(n.eventCache.getNode(),x,p)}else{const x=Se(r);if(x===".priority"){$(Sr(r)===1,"Can't have a priority with additional path components");const A=_.getNode();S=n.serverCache.getNode();const k=dm(l,r,A,S);k!=null?w=s.filter.updatePriority(A,k):w=_.getNode()}else{const A=Ve(r);let k;if(_.isCompleteForChild(x)){S=n.serverCache.getNode();const M=dm(l,r,_.getNode(),S);M!=null?k=_.getNode().getImmediateChild(x).updateChild(A,M):k=_.getNode().getImmediateChild(x)}else k=Td(l,x,n.serverCache);k!=null?w=s.filter.updateChild(_.getNode(),x,k,A,h,p):w=_.getNode()}}return La(n,w,_.isFullyInitialized()||Ee(r),s.filter.filtersNodes())}}function Du(s,n,r,l,h,p,_,w){const S=n.serverCache;let x;const A=_?s.filter:s.filter.getIndexedFilter();if(Ee(r))x=A.updateFullNode(S.getNode(),l,null);else if(A.filtersNodes()&&!S.isFiltered()){const Z=S.getNode().updateChild(r,l);x=A.updateFullNode(S.getNode(),Z,null)}else{const Z=Se(r);if(!S.isCompleteForPath(r)&&Sr(r)>1)return n;const Q=Ve(r),le=S.getNode().getImmediateChild(Z).updateChild(Q,l);Z===".priority"?x=A.updatePriority(S.getNode(),le):x=A.updateChild(S.getNode(),Z,le,Q,I_,null)}const k=x_(n,x,S.isFullyInitialized()||Ee(r),A.filtersNodes()),M=new Pd(h,k,p);return L_(s,k,r,h,M,w)}function Jh(s,n,r,l,h,p,_){const w=n.eventCache;let S,x;const A=new Pd(h,n,p);if(Ee(r))x=s.filter.updateFullNode(n.eventCache.getNode(),l,_),S=La(n,x,!0,s.filter.filtersNodes());else{const k=Se(r);if(k===".priority")x=s.filter.updatePriority(n.eventCache.getNode(),l),S=La(n,x,w.isFullyInitialized(),w.isFiltered());else{const M=Ve(r),Z=w.getNode().getImmediateChild(k);let Q;if(Ee(M))Q=l;else{const K=A.getCompleteChild(k);K!=null?pd(M)===".priority"&&K.getChild(f_(M)).isEmpty()?Q=K:Q=K.updateChild(M,l):Q=fe.EMPTY_NODE}if(Z.equals(Q))S=n;else{const K=s.filter.updateChild(w.getNode(),k,Q,M,A,_);S=La(n,K,w.isFullyInitialized(),s.filter.filtersNodes())}}}return S}function fm(s,n){return s.eventCache.isCompleteForChild(n)}function _0(s,n,r,l,h,p,_){let w=n;return l.foreach((S,x)=>{const A=st(r,S);fm(n,Se(A))&&(w=Jh(s,w,A,x,h,p,_))}),l.foreach((S,x)=>{const A=st(r,S);fm(n,Se(A))||(w=Jh(s,w,A,x,h,p,_))}),w}function pm(s,n,r){return r.foreach((l,h)=>{n=n.updateChild(l,h)}),n}function ed(s,n,r,l,h,p,_,w){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let S=n,x;Ee(r)?x=l:x=new je(null).setTree(r,l);const A=n.serverCache.getNode();return x.children.inorderTraversal((k,M)=>{if(A.hasChild(k)){const Z=n.serverCache.getNode().getImmediateChild(k),Q=pm(s,Z,M);S=Du(s,S,new Fe(k),Q,h,p,_,w)}}),x.children.inorderTraversal((k,M)=>{const Z=!n.serverCache.isCompleteForChild(k)&&M.value===null;if(!A.hasChild(k)&&!Z){const Q=n.serverCache.getNode().getImmediateChild(k),K=pm(s,Q,M);S=Du(s,S,new Fe(k),K,h,p,_,w)}}),S}function g0(s,n,r,l,h,p,_){if(Nu(h,r)!=null)return n;const w=n.serverCache.isFiltered(),S=n.serverCache;if(l.value!=null){if(Ee(r)&&S.isFullyInitialized()||S.isCompleteForPath(r))return Du(s,n,r,S.getNode().getChild(r),h,p,w,_);if(Ee(r)){let x=new je(null);return S.getNode().forEachChild(so,(A,k)=>{x=x.set(new Fe(A),k)}),ed(s,n,r,x,h,p,w,_)}else return n}else{let x=new je(null);return l.foreach((A,k)=>{const M=st(r,A);S.isCompleteForPath(M)&&(x=x.set(A,S.getNode().getChild(M)))}),ed(s,n,r,x,h,p,w,_)}}function v0(s,n,r,l,h){const p=n.serverCache,_=x_(n,p.getNode(),p.isFullyInitialized()||Ee(r),p.isFiltered());return L_(s,_,r,l,I_,h)}function y0(s,n,r,l,h,p){let _;if(Nu(l,r)!=null)return n;{const w=new Pd(l,n,h),S=n.eventCache.getNode();let x;if(Ee(r)||Se(r)===".priority"){let A;if(n.serverCache.isFullyInitialized())A=Au(l,as(n));else{const k=n.serverCache.getNode();$(k instanceof fe,"serverChildren would be complete if leaf node"),A=Ed(l,k)}A=A,x=s.filter.updateFullNode(S,A,p)}else{const A=Se(r);let k=Td(l,A,n.serverCache);k==null&&n.serverCache.isCompleteForChild(A)&&(k=S.getImmediateChild(A)),k!=null?x=s.filter.updateChild(S,A,k,Ve(r),w,p):n.eventCache.getNode().hasChild(A)?x=s.filter.updateChild(S,A,fe.EMPTY_NODE,Ve(r),w,p):x=S,x.isEmpty()&&n.serverCache.isFullyInitialized()&&(_=Au(l,as(n)),_.isLeafNode()&&(x=s.filter.updateFullNode(x,_,p)))}return _=n.serverCache.isFullyInitialized()||Nu(l,Ae())!=null,La(n,x,_,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(n,r){this.query_=n,this.eventRegistrations_=[];const l=this.query_._queryParams,h=new vd(l.getIndex()),p=Fw(l);this.processor_=d0(p);const _=r.serverCache,w=r.eventCache,S=h.updateFullNode(fe.EMPTY_NODE,_.getNode(),null),x=p.updateFullNode(fe.EMPTY_NODE,w.getNode(),null),A=new os(S,_.isFullyInitialized(),h.filtersNodes()),k=new os(x,w.isFullyInitialized(),p.filtersNodes());this.viewCache_=Uu(k,A),this.eventGenerator_=new Vw(this.query_)}get query(){return this.query_}}function S0(s){return s.viewCache_.serverCache.getNode()}function x0(s,n){const r=as(s.viewCache_);return r&&(s.query._queryParams.loadsAllData()||!Ee(n)&&!r.getImmediateChild(Se(n)).isEmpty())?r.getChild(n):null}function mm(s){return s.eventRegistrations_.length===0}function C0(s,n){s.eventRegistrations_.push(n)}function _m(s,n,r){const l=[];if(r){$(n==null,"A cancel should cancel all event registrations.");const h=s.query._path;s.eventRegistrations_.forEach(p=>{const _=p.createCancelEvent(r,h);_&&l.push(_)})}if(n){let h=[];for(let p=0;p<s.eventRegistrations_.length;++p){const _=s.eventRegistrations_[p];if(!_.matches(n))h.push(_);else if(n.hasAnyCallback()){h=h.concat(s.eventRegistrations_.slice(p+1));break}}s.eventRegistrations_=h}else s.eventRegistrations_=[];return l}function gm(s,n,r,l){n.type===Bn.MERGE&&n.source.queryId!==null&&($(as(s.viewCache_),"We should always have a full cache before handling merges"),$(Qh(s.viewCache_),"Missing event cache, even though we have a server cache"));const h=s.viewCache_,p=p0(s.processor_,h,n,r,l);return f0(s.processor_,p.viewCache),$(p.viewCache.serverCache.isFullyInitialized()||!h.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=p.viewCache,M_(s,p.changes,p.viewCache.eventCache.getNode(),null)}function E0(s,n){const r=s.viewCache_.eventCache,l=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(ot,(p,_)=>{l.push(uo(p,_))}),r.isFullyInitialized()&&l.push(w_(r.getNode())),M_(s,l,r.getNode(),n)}function M_(s,n,r,l){const h=l?[l]:s.eventRegistrations_;return Gw(s.eventGenerator_,n,r,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru;class T0{constructor(){this.views=new Map}}function P0(s){$(!Ru,"__referenceConstructor has already been defined"),Ru=s}function k0(){return $(Ru,"Reference.ts has not been loaded"),Ru}function I0(s){return s.views.size===0}function kd(s,n,r,l){const h=n.source.queryId;if(h!==null){const p=s.views.get(h);return $(p!=null,"SyncTree gave us an op for an invalid query."),gm(p,n,r,l)}else{let p=[];for(const _ of s.views.values())p=p.concat(gm(_,n,r,l));return p}}function L0(s,n,r,l,h){const p=n._queryIdentifier,_=s.views.get(p);if(!_){let w=Au(r,h?l:null),S=!1;w?S=!0:l instanceof fe?(w=Ed(r,l),S=!1):(w=fe.EMPTY_NODE,S=!1);const x=Uu(new os(w,S,!1),new os(l,h,!1));return new w0(n,x)}return _}function M0(s,n,r,l,h,p){const _=L0(s,n,l,h,p);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,_),C0(_,r),E0(_,r)}function A0(s,n,r,l){const h=n._queryIdentifier,p=[];let _=[];const w=xr(s);if(h==="default")for(const[S,x]of s.views.entries())_=_.concat(_m(x,r,l)),mm(x)&&(s.views.delete(S),x.query._queryParams.loadsAllData()||p.push(x.query));else{const S=s.views.get(h);S&&(_=_.concat(_m(S,r,l)),mm(S)&&(s.views.delete(h),S.query._queryParams.loadsAllData()||p.push(S.query)))}return w&&!xr(s)&&p.push(new(k0())(n._repo,n._path)),{removed:p,events:_}}function A_(s){const n=[];for(const r of s.views.values())r.query._queryParams.loadsAllData()||n.push(r);return n}function oo(s,n){let r=null;for(const l of s.views.values())r=r||x0(l,n);return r}function N_(s,n){if(n._queryParams.loadsAllData())return Hu(s);{const l=n._queryIdentifier;return s.views.get(l)}}function D_(s,n){return N_(s,n)!=null}function xr(s){return Hu(s)!=null}function Hu(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu;function N0(s){$(!bu,"__referenceConstructor has already been defined"),bu=s}function D0(){return $(bu,"Reference.ts has not been loaded"),bu}let R0=1;class vm{constructor(n){this.listenProvider_=n,this.syncPointTree_=new je(null),this.pendingWriteTree_=l0(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function R_(s,n,r,l,h){return Yw(s.pendingWriteTree_,n,r,l,h),h?go(s,new ss(wd(),n,r)):[]}function b0(s,n,r,l){qw(s.pendingWriteTree_,n,r,l);const h=je.fromObject(r);return go(s,new co(wd(),n,h))}function gr(s,n,r=!1){const l=Xw(s.pendingWriteTree_,n);if(Jw(s.pendingWriteTree_,n)){let p=new je(null);return l.snap!=null?p=p.set(Ae(),!0):Lt(l.children,_=>{p=p.set(new Fe(_),!0)}),go(s,new Mu(l.path,p,r))}else return[]}function ju(s,n,r){return go(s,new ss(Sd(),n,r))}function O0(s,n,r){const l=je.fromObject(r);return go(s,new co(Sd(),n,l))}function z0(s,n){return go(s,new Wa(Sd(),n))}function F0(s,n,r){const l=Ld(s,r);if(l){const h=Md(l),p=h.path,_=h.queryId,w=tn(p,n),S=new Wa(xd(_),w);return Ad(s,p,S)}else return[]}function td(s,n,r,l,h=!1){const p=n._path,_=s.syncPointTree_.get(p);let w=[];if(_&&(n._queryIdentifier==="default"||D_(_,n))){const S=A0(_,n,r,l);I0(_)&&(s.syncPointTree_=s.syncPointTree_.remove(p));const x=S.removed;if(w=S.events,!h){const A=x.findIndex(M=>M._queryParams.loadsAllData())!==-1,k=s.syncPointTree_.findOnPath(p,(M,Z)=>xr(Z));if(A&&!k){const M=s.syncPointTree_.subtree(p);if(!M.isEmpty()){const Z=U0(M);for(let Q=0;Q<Z.length;++Q){const K=Z[Q],le=K.query,Ie=z_(s,K);s.listenProvider_.startListening(Aa(le),Ou(s,le),Ie.hashFn,Ie.onComplete)}}}!k&&x.length>0&&!l&&(A?s.listenProvider_.stopListening(Aa(n),null):x.forEach(M=>{const Z=s.queryToTagMap.get(Zu(M));s.listenProvider_.stopListening(Aa(M),Z)}))}H0(s,x)}return w}function B0(s,n,r,l){const h=Ld(s,l);if(h!=null){const p=Md(h),_=p.path,w=p.queryId,S=tn(_,n),x=new ss(xd(w),S,r);return Ad(s,_,x)}else return[]}function W0(s,n,r,l){const h=Ld(s,l);if(h){const p=Md(h),_=p.path,w=p.queryId,S=tn(_,n),x=je.fromObject(r),A=new co(xd(w),S,x);return Ad(s,_,A)}else return[]}function ym(s,n,r,l=!1){const h=n._path;let p=null,_=!1;s.syncPointTree_.foreachOnPath(h,(M,Z)=>{const Q=tn(M,h);p=p||oo(Z,Q),_=_||xr(Z)});let w=s.syncPointTree_.get(h);w?(_=_||xr(w),p=p||oo(w,Ae())):(w=new T0,s.syncPointTree_=s.syncPointTree_.set(h,w));let S;p!=null?S=!0:(S=!1,p=fe.EMPTY_NODE,s.syncPointTree_.subtree(h).foreachChild((Z,Q)=>{const K=oo(Q,Ae());K&&(p=p.updateImmediateChild(Z,K))}));const x=D_(w,n);if(!x&&!n._queryParams.loadsAllData()){const M=Zu(n);$(!s.queryToTagMap.has(M),"View does not exist, but we have a tag");const Z=j0();s.queryToTagMap.set(M,Z),s.tagToQueryMap.set(Z,M)}const A=Cd(s.pendingWriteTree_,h);let k=M0(w,n,r,A,p,S);if(!x&&!_&&!l){const M=N_(w,n);k=k.concat(Z0(s,n,M))}return k}function Id(s,n,r){const h=s.pendingWriteTree_,p=s.syncPointTree_.findOnPath(n,(_,w)=>{const S=tn(_,n),x=oo(w,S);if(x)return x});return T_(h,n,p,r,!0)}function go(s,n){return b_(n,s.syncPointTree_,null,Cd(s.pendingWriteTree_,Ae()))}function b_(s,n,r,l){if(Ee(s.path))return O_(s,n,r,l);{const h=n.get(Ae());r==null&&h!=null&&(r=oo(h,Ae()));let p=[];const _=Se(s.path),w=s.operationForChild(_),S=n.children.get(_);if(S&&w){const x=r?r.getImmediateChild(_):null,A=P_(l,_);p=p.concat(b_(w,S,x,A))}return h&&(p=p.concat(kd(h,s,l,r))),p}}function O_(s,n,r,l){const h=n.get(Ae());r==null&&h!=null&&(r=oo(h,Ae()));let p=[];return n.children.inorderTraversal((_,w)=>{const S=r?r.getImmediateChild(_):null,x=P_(l,_),A=s.operationForChild(_);A&&(p=p.concat(O_(A,w,S,x)))}),h&&(p=p.concat(kd(h,s,l,r))),p}function z_(s,n){const r=n.query,l=Ou(s,r);return{hashFn:()=>(S0(n)||fe.EMPTY_NODE).hash(),onComplete:h=>{if(h==="ok")return l?F0(s,r._path,l):z0(s,r._path);{const p=Oy(h,r);return td(s,r,null,p)}}}}function Ou(s,n){const r=Zu(n);return s.queryToTagMap.get(r)}function Zu(s){return s._path.toString()+"$"+s._queryIdentifier}function Ld(s,n){return s.tagToQueryMap.get(n)}function Md(s){const n=s.indexOf("$");return $(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new Fe(s.substr(0,n))}}function Ad(s,n,r){const l=s.syncPointTree_.get(n);$(l,"Missing sync point for query tag that we're tracking");const h=Cd(s.pendingWriteTree_,n);return kd(l,r,h,null)}function U0(s){return s.fold((n,r,l)=>{if(r&&xr(r))return[Hu(r)];{let h=[];return r&&(h=A_(r)),Lt(l,(p,_)=>{h=h.concat(_)}),h}})}function Aa(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(D0())(s._repo,s._path):s}function H0(s,n){for(let r=0;r<n.length;++r){const l=n[r];if(!l._queryParams.loadsAllData()){const h=Zu(l),p=s.queryToTagMap.get(h);s.queryToTagMap.delete(h),s.tagToQueryMap.delete(p)}}}function j0(){return R0++}function Z0(s,n,r){const l=n._path,h=Ou(s,n),p=z_(s,r),_=s.listenProvider_.startListening(Aa(n),h,p.hashFn,p.onComplete),w=s.syncPointTree_.subtree(l);if(h)$(!xr(w.value),"If we're adding a query, it shouldn't be shadowed");else{const S=w.fold((x,A,k)=>{if(!Ee(x)&&A&&xr(A))return[Hu(A).query];{let M=[];return A&&(M=M.concat(A_(A).map(Z=>Z.query))),Lt(k,(Z,Q)=>{M=M.concat(Q)}),M}});for(let x=0;x<S.length;++x){const A=S[x];s.listenProvider_.stopListening(Aa(A),Ou(s,A))}}return _}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(n){this.node_=n}getImmediateChild(n){const r=this.node_.getImmediateChild(n);return new Nd(r)}node(){return this.node_}}class Dd{constructor(n,r){this.syncTree_=n,this.path_=r}getImmediateChild(n){const r=st(this.path_,n);return new Dd(this.syncTree_,r)}node(){return Id(this.syncTree_,this.path_)}}const V0=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},wm=function(s,n,r){if(!s||typeof s!="object")return s;if($(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return G0(s[".sv"],n,r);if(typeof s[".sv"]=="object")return $0(s[".sv"],n);$(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},G0=function(s,n,r){switch(s){case"timestamp":return r.timestamp;default:$(!1,"Unexpected server value: "+s)}},$0=function(s,n,r){s.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const l=s.increment;typeof l!="number"&&$(!1,"Unexpected increment value: "+l);const h=n.node();if($(h!==null&&typeof h<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!h.isLeafNode())return l;const _=h.getValue();return typeof _!="number"?l:_+l},F_=function(s,n,r,l){return Rd(n,new Dd(r,s),l)},B_=function(s,n,r){return Rd(s,new Nd(n),r)};function Rd(s,n,r){const l=s.getPriority().val(),h=wm(l,n.getImmediateChild(".priority"),r);let p;if(s.isLeafNode()){const _=s,w=wm(_.getValue(),n,r);return w!==_.getValue()||h!==_.getPriority().val()?new yt(w,St(h)):s}else{const _=s;return p=_,h!==_.getPriority().val()&&(p=p.updatePriority(new yt(h))),_.forEachChild(ot,(w,S)=>{const x=Rd(S,n.getImmediateChild(w),r);x!==S&&(p=p.updateImmediateChild(w,x))}),p}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(n="",r=null,l={children:{},childCount:0}){this.name=n,this.parent=r,this.node=l}}function Od(s,n){let r=n instanceof Fe?n:new Fe(n),l=s,h=Se(r);for(;h!==null;){const p=ao(l.node.children,h)||{children:{},childCount:0};l=new bd(h,l,p),r=Ve(r),h=Se(r)}return l}function vo(s){return s.node.value}function W_(s,n){s.node.value=n,nd(s)}function U_(s){return s.node.childCount>0}function K0(s){return vo(s)===void 0&&!U_(s)}function Vu(s,n){Lt(s.node.children,(r,l)=>{n(new bd(r,s,l))})}function H_(s,n,r,l){r&&n(s),Vu(s,h=>{H_(h,n,!0)})}function Q0(s,n,r){let l=s.parent;for(;l!==null;){if(n(l))return!0;l=l.parent}return!1}function $a(s){return new Fe(s.parent===null?s.name:$a(s.parent)+"/"+s.name)}function nd(s){s.parent!==null&&Y0(s.parent,s.name,s)}function Y0(s,n,r){const l=K0(r),h=ri(s.node.children,n);l&&h?(delete s.node.children[n],s.node.childCount--,nd(s)):!l&&!h&&(s.node.children[n]=r.node,s.node.childCount++,nd(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=/[\[\].#$\/\u0000-\u001F\u007F]/,X0=/[\[\].#$\u0000-\u001F\u007F]/,bh=10*1024*1024,zd=function(s){return typeof s=="string"&&s.length!==0&&!q0.test(s)},j_=function(s){return typeof s=="string"&&s.length!==0&&!X0.test(s)},J0=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),j_(s)},e1=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!ud(s)||s&&typeof s=="object"&&ri(s,".sv")},Z_=function(s,n,r,l){l&&n===void 0||Gu(Fu(s,"value"),n,r)},Gu=function(s,n,r){const l=r instanceof Fe?new _w(r,s):r;if(n===void 0)throw new Error(s+"contains undefined "+ns(l));if(typeof n=="function")throw new Error(s+"contains a function "+ns(l)+" with contents = "+n.toString());if(ud(n))throw new Error(s+"contains "+n.toString()+" "+ns(l));if(typeof n=="string"&&n.length>bh/3&&Bu(n)>bh)throw new Error(s+"contains a string greater than "+bh+" utf8 bytes "+ns(l)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let h=!1,p=!1;if(Lt(n,(_,w)=>{if(_===".value")h=!0;else if(_!==".priority"&&_!==".sv"&&(p=!0,!zd(_)))throw new Error(s+" contains an invalid key ("+_+") "+ns(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);gw(l,_),Gu(s,w,l),vw(l)}),h&&p)throw new Error(s+' contains ".value" child '+ns(l)+" in addition to actual children.")}},t1=function(s,n){let r,l;for(r=0;r<n.length;r++){l=n[r];const p=Oa(l);for(let _=0;_<p.length;_++)if(!(p[_]===".priority"&&_===p.length-1)){if(!zd(p[_]))throw new Error(s+"contains an invalid key ("+p[_]+") in path "+l.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(mw);let h=null;for(r=0;r<n.length;r++){if(l=n[r],h!==null&&kn(h,l))throw new Error(s+"contains a path "+h.toString()+" that is ancestor of another path "+l.toString());h=l}},n1=function(s,n,r,l){const h=Fu(s,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(h+" must be an object containing the children to replace.");const p=[];Lt(n,(_,w)=>{const S=new Fe(_);if(Gu(h,w,st(r,S)),pd(S)===".priority"&&!e1(w))throw new Error(h+"contains an invalid value for '"+S.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");p.push(S)}),t1(h,p)},V_=function(s,n,r,l){if(!j_(r))throw new Error(Fu(s,n)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},i1=function(s,n,r,l){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),V_(s,n,r)},G_=function(s,n){if(Se(n)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},r1=function(s,n){const r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!zd(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!J0(r))throw new Error(Fu(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $u(s,n){let r=null;for(let l=0;l<n.length;l++){const h=n[l],p=h.getPath();r!==null&&!md(p,r.path)&&(s.eventLists_.push(r),r=null),r===null&&(r={events:[],path:p}),r.events.push(h)}r&&s.eventLists_.push(r)}function $_(s,n,r){$u(s,r),K_(s,l=>md(l,n))}function Un(s,n,r){$u(s,r),K_(s,l=>kn(l,n)||kn(n,l))}function K_(s,n){s.recursionDepth_++;let r=!0;for(let l=0;l<s.eventLists_.length;l++){const h=s.eventLists_[l];if(h){const p=h.path;n(p)?(o1(s.eventLists_[l]),s.eventLists_[l]=null):r=!1}}r&&(s.eventLists_=[]),s.recursionDepth_--}function o1(s){for(let n=0;n<s.events.length;n++){const r=s.events[n];if(r!==null){s.events[n]=null;const l=r.getEventRunner();ka&&It("event: "+r.toString()),_o(l)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="repo_interrupt",l1=25;class u1{constructor(n,r,l,h){this.repoInfo_=n,this.forceRestClient_=r,this.authTokenProvider_=l,this.appCheckProvider_=h,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new s1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lu(),this.transactionQueueTree_=new bd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function c1(s,n,r){if(s.stats_=dd(s.repoInfo_),s.forceRestClient_||Wy())s.server_=new Iu(s.repoInfo_,(l,h,p,_)=>{Sm(s,l,h,p,_)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>xm(s,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xt(r)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}s.persistentConnection_=new Li(s.repoInfo_,n,(l,h,p,_)=>{Sm(s,l,h,p,_)},l=>{xm(s,l)},l=>{h1(s,l)},s.authTokenProvider_,s.appCheckProvider_,r),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(l=>{s.server_.refreshAuthToken(l)}),s.appCheckProvider_.addTokenChangeListener(l=>{s.server_.refreshAppCheckToken(l.token)}),s.statsReporter_=Vy(s.repoInfo_,()=>new Zw(s.stats_,s.server_)),s.infoData_=new Bw,s.infoSyncTree_=new vm({startListening:(l,h,p,_)=>{let w=[];const S=s.infoData_.getNode(l._path);return S.isEmpty()||(w=ju(s.infoSyncTree_,l._path,S),setTimeout(()=>{_("ok")},0)),w},stopListening:()=>{}}),Fd(s,"connected",!1),s.serverSyncTree_=new vm({startListening:(l,h,p,_)=>(s.server_.listen(l,p,h,(w,S)=>{const x=_(w,S);Un(s.eventQueue_,l._path,x)}),[]),stopListening:(l,h)=>{s.server_.unlisten(l,h)}})}function Q_(s){const r=s.infoData_.getNode(new Fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Ku(s){return V0({timestamp:Q_(s)})}function Sm(s,n,r,l,h){s.dataUpdateCount++;const p=new Fe(n);r=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,r):r;let _=[];if(h)if(l){const S=xu(r,x=>St(x));_=W0(s.serverSyncTree_,p,S,h)}else{const S=St(r);_=B0(s.serverSyncTree_,p,S,h)}else if(l){const S=xu(r,x=>St(x));_=O0(s.serverSyncTree_,p,S)}else{const S=St(r);_=ju(s.serverSyncTree_,p,S)}let w=p;_.length>0&&(w=fo(s,p)),Un(s.eventQueue_,w,_)}function xm(s,n){Fd(s,"connected",n),n===!1&&p1(s)}function h1(s,n){Lt(n,(r,l)=>{Fd(s,r,l)})}function Fd(s,n,r){const l=new Fe("/.info/"+n),h=St(r);s.infoData_.updateSnapshot(l,h);const p=ju(s.infoSyncTree_,l,h);Un(s.eventQueue_,l,p)}function Bd(s){return s.nextWriteId_++}function d1(s,n,r,l,h){Qu(s,"set",{path:n.toString(),value:r,priority:l});const p=Ku(s),_=St(r,l),w=Id(s.serverSyncTree_,n),S=B_(_,w,p),x=Bd(s),A=R_(s.serverSyncTree_,n,S,x,!0);$u(s.eventQueue_,A),s.server_.put(n.toString(),_.val(!0),(M,Z)=>{const Q=M==="ok";Q||jt("set at "+n+" failed: "+M);const K=gr(s.serverSyncTree_,x,!Q);Un(s.eventQueue_,n,K),id(s,h,M,Z)});const k=Ud(s,n);fo(s,k),Un(s.eventQueue_,k,[])}function f1(s,n,r,l){Qu(s,"update",{path:n.toString(),value:r});let h=!0;const p=Ku(s),_={};if(Lt(r,(w,S)=>{h=!1,_[w]=F_(st(n,w),St(S),s.serverSyncTree_,p)}),h)It("update() called with empty data.  Don't do anything."),id(s,l,"ok",void 0);else{const w=Bd(s),S=b0(s.serverSyncTree_,n,_,w);$u(s.eventQueue_,S),s.server_.merge(n.toString(),r,(x,A)=>{const k=x==="ok";k||jt("update at "+n+" failed: "+x);const M=gr(s.serverSyncTree_,w,!k),Z=M.length>0?fo(s,n):n;Un(s.eventQueue_,Z,M),id(s,l,x,A)}),Lt(r,x=>{const A=Ud(s,st(n,x));fo(s,A)}),Un(s.eventQueue_,n,[])}}function p1(s){Qu(s,"onDisconnectEvents");const n=Ku(s),r=Lu();Kh(s.onDisconnect_,Ae(),(h,p)=>{const _=F_(h,p,s.serverSyncTree_,n);S_(r,h,_)});let l=[];Kh(r,Ae(),(h,p)=>{l=l.concat(ju(s.serverSyncTree_,h,p));const _=Ud(s,h);fo(s,_)}),s.onDisconnect_=Lu(),Un(s.eventQueue_,Ae(),l)}function m1(s,n,r){let l;Se(n._path)===".info"?l=ym(s.infoSyncTree_,n,r):l=ym(s.serverSyncTree_,n,r),$_(s.eventQueue_,n._path,l)}function _1(s,n,r){let l;Se(n._path)===".info"?l=td(s.infoSyncTree_,n,r):l=td(s.serverSyncTree_,n,r),$_(s.eventQueue_,n._path,l)}function g1(s){s.persistentConnection_&&s.persistentConnection_.interrupt(a1)}function Qu(s,...n){let r="";s.persistentConnection_&&(r=s.persistentConnection_.id+":"),It(r,...n)}function id(s,n,r,l){n&&_o(()=>{if(r==="ok")n(null);else{const h=(r||"error").toUpperCase();let p=h;l&&(p+=": "+l);const _=new Error(p);_.code=h,n(_)}})}function Y_(s,n,r){return Id(s.serverSyncTree_,n,r)||fe.EMPTY_NODE}function Wd(s,n=s.transactionQueueTree_){if(n||Yu(s,n),vo(n)){const r=X_(s,n);$(r.length>0,"Sending zero length transaction queue"),r.every(h=>h.status===0)&&v1(s,$a(n),r)}else U_(n)&&Vu(n,r=>{Wd(s,r)})}function v1(s,n,r){const l=r.map(x=>x.currentWriteId),h=Y_(s,n,l);let p=h;const _=h.hash();for(let x=0;x<r.length;x++){const A=r[x];$(A.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),A.status=1,A.retryCount++;const k=tn(n,A.path);p=p.updateChild(k,A.currentOutputSnapshotRaw)}const w=p.val(!0),S=n;s.server_.put(S.toString(),w,x=>{Qu(s,"transaction put response",{path:S.toString(),status:x});let A=[];if(x==="ok"){const k=[];for(let M=0;M<r.length;M++)r[M].status=2,A=A.concat(gr(s.serverSyncTree_,r[M].currentWriteId)),r[M].onComplete&&k.push(()=>r[M].onComplete(null,!0,r[M].currentOutputSnapshotResolved)),r[M].unwatcher();Yu(s,Od(s.transactionQueueTree_,n)),Wd(s,s.transactionQueueTree_),Un(s.eventQueue_,n,A);for(let M=0;M<k.length;M++)_o(k[M])}else{if(x==="datastale")for(let k=0;k<r.length;k++)r[k].status===3?r[k].status=4:r[k].status=0;else{jt("transaction at "+S.toString()+" failed: "+x);for(let k=0;k<r.length;k++)r[k].status=4,r[k].abortReason=x}fo(s,n)}},_)}function fo(s,n){const r=q_(s,n),l=$a(r),h=X_(s,r);return y1(s,h,l),l}function y1(s,n,r){if(n.length===0)return;const l=[];let h=[];const _=n.filter(w=>w.status===0).map(w=>w.currentWriteId);for(let w=0;w<n.length;w++){const S=n[w],x=tn(r,S.path);let A=!1,k;if($(x!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),S.status===4)A=!0,k=S.abortReason,h=h.concat(gr(s.serverSyncTree_,S.currentWriteId,!0));else if(S.status===0)if(S.retryCount>=l1)A=!0,k="maxretry",h=h.concat(gr(s.serverSyncTree_,S.currentWriteId,!0));else{const M=Y_(s,S.path,_);S.currentInputSnapshot=M;const Z=n[w].update(M.val());if(Z!==void 0){Gu("transaction failed: Data returned ",Z,S.path);let Q=St(Z);typeof Z=="object"&&Z!=null&&ri(Z,".priority")||(Q=Q.updatePriority(M.getPriority()));const le=S.currentWriteId,Ie=Ku(s),Ne=B_(Q,M,Ie);S.currentOutputSnapshotRaw=Q,S.currentOutputSnapshotResolved=Ne,S.currentWriteId=Bd(s),_.splice(_.indexOf(le),1),h=h.concat(R_(s.serverSyncTree_,S.path,Ne,S.currentWriteId,S.applyLocally)),h=h.concat(gr(s.serverSyncTree_,le,!0))}else A=!0,k="nodata",h=h.concat(gr(s.serverSyncTree_,S.currentWriteId,!0))}Un(s.eventQueue_,r,h),h=[],A&&(n[w].status=2,function(M){setTimeout(M,Math.floor(0))}(n[w].unwatcher),n[w].onComplete&&(k==="nodata"?l.push(()=>n[w].onComplete(null,!1,n[w].currentInputSnapshot)):l.push(()=>n[w].onComplete(new Error(k),!1,null))))}Yu(s,s.transactionQueueTree_);for(let w=0;w<l.length;w++)_o(l[w]);Wd(s,s.transactionQueueTree_)}function q_(s,n){let r,l=s.transactionQueueTree_;for(r=Se(n);r!==null&&vo(l)===void 0;)l=Od(l,r),n=Ve(n),r=Se(n);return l}function X_(s,n){const r=[];return J_(s,n,r),r.sort((l,h)=>l.order-h.order),r}function J_(s,n,r){const l=vo(n);if(l)for(let h=0;h<l.length;h++)r.push(l[h]);Vu(n,h=>{J_(s,h,r)})}function Yu(s,n){const r=vo(n);if(r){let l=0;for(let h=0;h<r.length;h++)r[h].status!==2&&(r[l]=r[h],l++);r.length=l,W_(n,r.length>0?r:void 0)}Vu(n,l=>{Yu(s,l)})}function Ud(s,n){const r=$a(q_(s,n)),l=Od(s.transactionQueueTree_,n);return Q0(l,h=>{Oh(s,h)}),Oh(s,l),H_(l,h=>{Oh(s,h)}),r}function Oh(s,n){const r=vo(n);if(r){const l=[];let h=[],p=-1;for(let _=0;_<r.length;_++)r[_].status===3||(r[_].status===1?($(p===_-1,"All SENT items should be at beginning of queue."),p=_,r[_].status=3,r[_].abortReason="set"):($(r[_].status===0,"Unexpected transaction status in abort"),r[_].unwatcher(),h=h.concat(gr(s.serverSyncTree_,r[_].currentWriteId,!0)),r[_].onComplete&&l.push(r[_].onComplete.bind(null,new Error("set"),!1,null))));p===-1?W_(n,void 0):r.length=p+1,Un(s.eventQueue_,$a(n),h);for(let _=0;_<l.length;_++)_o(l[_])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(s){let n="";const r=s.split("/");for(let l=0;l<r.length;l++)if(r[l].length>0){let h=r[l];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch{}n+="/"+h}return n}function S1(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const r of s.split("&")){if(r.length===0)continue;const l=r.split("=");l.length===2?n[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):jt(`Invalid query segment '${r}' in query '${s}'`)}return n}const Cm=function(s,n){const r=x1(s),l=r.namespace;r.domain==="firebase.com"&&Ai(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&r.domain!=="localhost"&&Ai("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||Ay();const h=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new r_(r.host,r.secure,l,h,n,"",l!==r.subdomain),path:new Fe(r.pathString)}},x1=function(s){let n="",r="",l="",h="",p="",_=!0,w="https",S=443;if(typeof s=="string"){let x=s.indexOf("//");x>=0&&(w=s.substring(0,x-1),s=s.substring(x+2));let A=s.indexOf("/");A===-1&&(A=s.length);let k=s.indexOf("?");k===-1&&(k=s.length),n=s.substring(0,Math.min(A,k)),A<k&&(h=w1(s.substring(A,k)));const M=S1(s.substring(Math.min(s.length,k)));x=n.indexOf(":"),x>=0?(_=w==="https"||w==="wss",S=parseInt(n.substring(x+1),10)):x=n.length;const Z=n.slice(0,x);if(Z.toLowerCase()==="localhost")r="localhost";else if(Z.split(".").length<=2)r=Z;else{const Q=n.indexOf(".");l=n.substring(0,Q).toLowerCase(),r=n.substring(Q+1),p=l}"ns"in M&&(p=M.ns)}return{host:n,port:S,domain:r,subdomain:l,secure:_,scheme:w,pathString:h,namespace:p}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",C1=function(){let s=0;const n=[];return function(r){const l=r===s;s=r;let h;const p=new Array(8);for(h=7;h>=0;h--)p[h]=Em.charAt(r%64),r=Math.floor(r/64);$(r===0,"Cannot push at time == 0");let _=p.join("");if(l){for(h=11;h>=0&&n[h]===63;h--)n[h]=0;n[h]++}else for(h=0;h<12;h++)n[h]=Math.floor(Math.random()*64);for(h=0;h<12;h++)_+=Em.charAt(n[h]);return $(_.length===20,"nextPushId: Length should be 20."),_}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(n,r,l,h){this.eventType=n,this.eventRegistration=r,this.snapshot=l,this.prevName=h}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+xt(this.snapshot.exportVal())}}class T1{constructor(n,r,l){this.eventRegistration=n,this.error=r,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(n,r){this.snapshotCallback=n,this.cancelCallback=r}onValue(n,r){this.snapshotCallback.call(null,n,r)}onCancel(n){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(n,r,l,h){this._repo=n,this._path=r,this._queryParams=l,this._orderByCalled=h}get key(){return Ee(this._path)?null:pd(this._path)}get ref(){return new Cr(this._repo,this._path)}get _queryIdentifier(){const n=lm(this._queryParams),r=cd(n);return r==="{}"?"default":r}get _queryObject(){return lm(this._queryParams)}isEqual(n){if(n=mo(n),!(n instanceof Hd))return!1;const r=this._repo===n._repo,l=md(this._path,n._path),h=this._queryIdentifier===n._queryIdentifier;return r&&l&&h}toJSON(){return this.toString()}toString(){return this._repo.toString()+pw(this._path)}}class Cr extends Hd{constructor(n,r){super(n,r,new yd,!1)}get parent(){const n=f_(this._path);return n===null?null:new Cr(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class zu{constructor(n,r,l){this._node=n,this.ref=r,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const r=new Fe(n),l=Ua(this.ref,n);return new zu(this._node.getChild(r),l,ot)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,h)=>n(new zu(h,Ua(this.ref,l),ot)))}hasChild(n){const r=new Fe(n);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ti(s,n){return s=mo(s),s._checkNotDeleted("ref"),n!==void 0?Ua(s._root,n):s._root}function Ua(s,n){return s=mo(s),Se(s._path)===null?i1("child","path",n):V_("child","path",n),new Cr(s._repo,st(s._path,n))}function k1(s,n){s=mo(s),G_("push",s._path),Z_("push",n,s._path,!0);const r=Q_(s._repo),l=C1(r),h=Ua(s,l),p=Ua(s,l);let _;return _=Promise.resolve(p),h.then=_.then.bind(_),h.catch=_.then.bind(_,void 0),h}function I1(s,n){s=mo(s),G_("set",s._path),Z_("set",n,s._path,!1);const r=new Ha;return d1(s._repo,s._path,n,null,r.wrapCallback(()=>{})),r.promise}function yu(s,n){n1("update",n,s._path);const r=new Ha;return f1(s._repo,s._path,n,r.wrapCallback(()=>{})),r.promise}class jd{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,r){const l=r._queryParams.getIndex();return new E1("value",this,new zu(n.snapshotNode,new Cr(r._repo,r._path),l))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,r){return this.callbackContext.hasCancelCallback?new T1(this,n,r):null}matches(n){return n instanceof jd?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function L1(s,n,r,l,h){const p=new P1(r,void 0),_=new jd(p);return m1(s._repo,s,_),()=>_1(s._repo,s,_)}function Ta(s,n,r,l){return L1(s,"value",n)}P0(Cr);N0(Cr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="FIREBASE_DATABASE_EMULATOR_HOST",rd={};let A1=!1;function N1(s,n,r,l){s.repoInfo_=new r_(`${n}:${r}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0),l&&(s.authTokenProvider_=l)}function D1(s,n,r,l,h){let p=l||s.options.databaseURL;p===void 0&&(s.options.projectId||Ai("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),It("Using default host for project ",s.options.projectId),p=`${s.options.projectId}-default-rtdb.firebaseio.com`);let _=Cm(p,h),w=_.repoInfo,S;typeof process<"u"&&Zp&&(S=Zp[M1]),S?(p=`http://${S}?ns=${w.namespace}`,_=Cm(p,h),w=_.repoInfo):_.repoInfo.secure;const x=new Hy(s.name,s.options,n);r1("Invalid Firebase Database URL",_),Ee(_.path)||Ai("Database URL must point to the root of a Firebase Database (not including a child path).");const A=b1(w,s,x,new Uy(s.name,r));return new O1(A,s)}function R1(s,n){const r=rd[n];(!r||r[s.key]!==s)&&Ai(`Database ${n}(${s.repoInfo_}) has already been deleted.`),g1(s),delete r[s.key]}function b1(s,n,r,l){let h=rd[n.name];h||(h={},rd[n.name]=h);let p=h[s.toURLString()];return p&&Ai("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),p=new u1(s,A1,r,l),h[s.toURLString()]=p,p}class O1{constructor(n,r){this._repoInternal=n,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(c1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cr(this._repo,Ae())),this._rootInternal}_delete(){return this._rootInternal!==null&&(R1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Ai("Cannot call "+n+" on a deleted database.")}}function z1(s=my(),n){const r=hy(s,"database").getImmediate({identifier:n});if(!r._instanceStarted){const l=ev("database");l&&F1(r,...l)}return r}function F1(s,n,r,l={}){s=mo(s),s._checkNotDeleted("useEmulator"),s._instanceStarted&&Ai("Cannot call useEmulator() after instance has already been initialized.");const h=s._repoInternal;let p;if(h.repoInfo_.nodeAdmin)l.mockUserToken&&Ai('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),p=new wu(wu.OWNER);else if(l.mockUserToken){const _=typeof l.mockUserToken=="string"?l.mockUserToken:tv(l.mockUserToken,s.app.options.projectId);p=new wu(_)}N1(h,n,r,p)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(s){Ty(py),Eu(new Da("database",(n,{instanceIdentifier:r})=>{const l=n.getProvider("app").getImmediate(),h=n.getProvider("auth-internal"),p=n.getProvider("app-check-internal");return D1(l,h,p,r)},"PUBLIC").setMultipleInstances(!0)),io(Vp,Gp,s),io(Vp,Gp,"esm2017")}Li.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};Li.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};B1();var W1="firebase",U1="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io(W1,U1,"app");const H1="AIzaSyAeTblY8O6XxWYrRfRl0Ar1TE-uOzPbF0M",j1="nightline-dce44.firebaseapp.com",Z1=void 0,V1="nightline-dce44",G1="nightline-dce44.firebasestorage.app",$1="610185897381",K1="1:610185897381:web:753908ea29d825a6e9344c",Q1="G-EFV275663B",Y1={apiKey:H1,authDomain:j1,databaseURL:Z1,projectId:V1,storageBucket:G1,messagingSenderId:$1,appId:K1,measurementId:Q1},q1=Um(Y1),ni=z1(q1),X1=({items:s})=>ae.jsx("div",{className:`
        w-screen
        bg-[#111]
        text-yellow-400
        whitespace-nowrap
        overflow-hidden
        box-border
        px-4
        py-2
        mb-2
      `,children:ae.jsx("div",{className:`
          inline-block
          pl-[100%]
          animate-news-ticker
        `,children:s.map((n,r)=>ae.jsx("span",{className:`
              inline-block
              mr-40
              font-bold
            `,children:n},r))})});function J1(s,n){const r=ve.useRef(n);ve.useEffect(function(){n!==r.current&&s.attributionControl!=null&&(r.current!=null&&s.attributionControl.removeAttribution(r.current),n!=null&&s.attributionControl.addAttribution(n)),r.current=n},[s,n])}Im();const eS=1;function tS(s){return Object.freeze({__version:eS,map:s})}const eg=ve.createContext(null),nS=eg.Provider;function tg(){const s=ve.useContext(eg);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function iS(s){function n(r,l){const{instance:h}=s(r).current;return ve.useImperativeHandle(l,()=>h),null}return ve.forwardRef(n)}function rS(s,n){const r=ve.useRef();ve.useEffect(function(){return n!=null&&s.instance.on(n),r.current=n,function(){r.current!=null&&s.instance.off(r.current),r.current=null}},[s,n])}function ng(s,n){const r=s.pane??n.pane;return r?{...s,pane:r}:s}var Pa={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var sS=Pa.exports,Tm;function oS(){return Tm||(Tm=1,function(s,n){(function(r,l){l(n)})(sS,function(r){var l="1.9.4";function h(t){var o,u,d,g;for(u=1,d=arguments.length;u<d;u++){g=arguments[u];for(o in g)t[o]=g[o]}return t}var p=Object.create||function(){function t(){}return function(o){return t.prototype=o,new t}}();function _(t,o){var u=Array.prototype.slice;if(t.bind)return t.bind.apply(t,u.call(arguments,1));var d=u.call(arguments,2);return function(){return t.apply(o,d.length?d.concat(u.call(arguments)):arguments)}}var w=0;function S(t){return"_leaflet_id"in t||(t._leaflet_id=++w),t._leaflet_id}function x(t,o,u){var d,g,y,E;return E=function(){d=!1,g&&(y.apply(u,g),g=!1)},y=function(){d?g=arguments:(t.apply(u,arguments),setTimeout(E,o),d=!0)},y}function A(t,o,u){var d=o[1],g=o[0],y=d-g;return t===d&&u?t:((t-g)%y+y)%y+g}function k(){return!1}function M(t,o){if(o===!1)return t;var u=Math.pow(10,o===void 0?6:o);return Math.round(t*u)/u}function Z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Q(t){return Z(t).split(/\s+/)}function K(t,o){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?p(t.options):{});for(var u in o)t.options[u]=o[u];return t.options}function le(t,o,u){var d=[];for(var g in t)d.push(encodeURIComponent(u?g.toUpperCase():g)+"="+encodeURIComponent(t[g]));return(!o||o.indexOf("?")===-1?"?":"&")+d.join("&")}var Ie=/\{ *([\w_ -]+) *\}/g;function Ne(t,o){return t.replace(Ie,function(u,d){var g=o[d];if(g===void 0)throw new Error("No value provided for variable "+u);return typeof g=="function"&&(g=g(o)),g})}var Le=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function Be(t,o){for(var u=0;u<t.length;u++)if(t[u]===o)return u;return-1}var lt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function qe(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var ht=0;function Ct(t){var o=+new Date,u=Math.max(0,16-(o-ht));return ht=o+u,window.setTimeout(t,u)}var Zt=window.requestAnimationFrame||qe("RequestAnimationFrame")||Ct,Vt=window.cancelAnimationFrame||qe("CancelAnimationFrame")||qe("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Ge(t,o,u){if(u&&Zt===Ct)t.call(o);else return Zt.call(window,_(t,o))}function $e(t){t&&Vt.call(window,t)}var Et={__proto__:null,extend:h,create:p,bind:_,get lastId(){return w},stamp:S,throttle:x,wrapNum:A,falseFn:k,formatNum:M,trim:Z,splitWords:Q,setOptions:K,getParamString:le,template:Ne,isArray:Le,indexOf:Be,emptyImageUrl:lt,requestFn:Zt,cancelFn:Vt,requestAnimFrame:Ge,cancelAnimFrame:$e};function Xe(){}Xe.extend=function(t){var o=function(){K(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=o.__super__=this.prototype,d=p(u);d.constructor=o,o.prototype=d;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(o[g]=this[g]);return t.statics&&h(o,t.statics),t.includes&&(Gt(t.includes),h.apply(null,[d].concat(t.includes))),h(d,t),delete d.statics,delete d.includes,d.options&&(d.options=u.options?p(u.options):{},h(d.options,t.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,E=d._initHooks.length;y<E;y++)d._initHooks[y].call(this)}},o},Xe.include=function(t){var o=this.prototype.options;return h(this.prototype,t),t.options&&(this.prototype.options=o,this.mergeOptions(t.options)),this},Xe.mergeOptions=function(t){return h(this.prototype.options,t),this},Xe.addInitHook=function(t){var o=Array.prototype.slice.call(arguments,1),u=typeof t=="function"?t:function(){this[t].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Gt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=Le(t)?t:[t];for(var o=0;o<t.length;o++)t[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var De={on:function(t,o,u){if(typeof t=="object")for(var d in t)this._on(d,t[d],o);else{t=Q(t);for(var g=0,y=t.length;g<y;g++)this._on(t[g],o,u)}return this},off:function(t,o,u){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var d in t)this._off(d,t[d],o);else{t=Q(t);for(var g=arguments.length===1,y=0,E=t.length;y<E;y++)g?this._off(t[y]):this._off(t[y],o,u)}return this},_on:function(t,o,u,d){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(t,o,u)===!1){u===this&&(u=void 0);var g={fn:o,ctx:u};d&&(g.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(g)}},_off:function(t,o,u){var d,g,y;if(this._events&&(d=this._events[t],!!d)){if(arguments.length===1){if(this._firingCount)for(g=0,y=d.length;g<y;g++)d[g].fn=k;delete this._events[t];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var E=this._listens(t,o,u);if(E!==!1){var N=d[E];this._firingCount&&(N.fn=k,this._events[t]=d=d.slice()),d.splice(E,1)}}},fire:function(t,o,u){if(!this.listens(t,u))return this;var d=h({},o,{type:t,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var g=this._events[t];if(g){this._firingCount=this._firingCount+1||1;for(var y=0,E=g.length;y<E;y++){var N=g[y],b=N.fn;N.once&&this.off(t,b,N.ctx),b.call(N.ctx||this,d)}this._firingCount--}}return u&&this._propagateEvent(d),this},listens:function(t,o,u,d){typeof t!="string"&&console.warn('"string" type argument expected');var g=o;typeof o!="function"&&(d=!!o,g=void 0,u=void 0);var y=this._events&&this._events[t];if(y&&y.length&&this._listens(t,g,u)!==!1)return!0;if(d){for(var E in this._eventParents)if(this._eventParents[E].listens(t,o,u,d))return!0}return!1},_listens:function(t,o,u){if(!this._events)return!1;var d=this._events[t]||[];if(!o)return!!d.length;u===this&&(u=void 0);for(var g=0,y=d.length;g<y;g++)if(d[g].fn===o&&d[g].ctx===u)return g;return!1},once:function(t,o,u){if(typeof t=="object")for(var d in t)this._on(d,t[d],o,!0);else{t=Q(t);for(var g=0,y=t.length;g<y;g++)this._on(t[g],o,u,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[S(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[S(t)],this},_propagateEvent:function(t){for(var o in this._eventParents)this._eventParents[o].fire(t.type,h({layer:t.target,propagatedFrom:t.target},t),!0)}};De.addEventListener=De.on,De.removeEventListener=De.clearAllEventListeners=De.off,De.addOneTimeEventListener=De.once,De.fireEvent=De.fire,De.hasEventListeners=De.listens;var be=Xe.extend(De);function B(t,o,u){this.x=u?Math.round(t):t,this.y=u?Math.round(o):o}var W=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(t){return this.clone()._add(O(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(O(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new B(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new B(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=W(this.x),this.y=W(this.y),this},distanceTo:function(t){t=O(t);var o=t.x-this.x,u=t.y-this.y;return Math.sqrt(o*o+u*u)},equals:function(t){return t=O(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=O(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function O(t,o,u){return t instanceof B?t:Le(t)?new B(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new B(t.x,t.y):new B(t,o,u)}function T(t,o){if(t)for(var u=o?[t,o]:t,d=0,g=u.length;d<g;d++)this.extend(u[d])}T.prototype={extend:function(t){var o,u;if(!t)return this;if(t instanceof B||typeof t[0]=="number"||"x"in t)o=u=O(t);else if(t=F(t),o=t.min,u=t.max,!o||!u)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=u.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(t){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var o,u;return typeof t[0]=="number"||t instanceof B?t=O(t):t=F(t),t instanceof T?(o=t.min,u=t.max):o=u=t,o.x>=this.min.x&&u.x<=this.max.x&&o.y>=this.min.y&&u.y<=this.max.y},intersects:function(t){t=F(t);var o=this.min,u=this.max,d=t.min,g=t.max,y=g.x>=o.x&&d.x<=u.x,E=g.y>=o.y&&d.y<=u.y;return y&&E},overlaps:function(t){t=F(t);var o=this.min,u=this.max,d=t.min,g=t.max,y=g.x>o.x&&d.x<u.x,E=g.y>o.y&&d.y<u.y;return y&&E},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var o=this.min,u=this.max,d=Math.abs(o.x-u.x)*t,g=Math.abs(o.y-u.y)*t;return F(O(o.x-d,o.y-g),O(u.x+d,u.y+g))},equals:function(t){return t?(t=F(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function F(t,o){return!t||t instanceof T?t:new T(t,o)}function J(t,o){if(t)for(var u=o?[t,o]:t,d=0,g=u.length;d<g;d++)this.extend(u[d])}J.prototype={extend:function(t){var o=this._southWest,u=this._northEast,d,g;if(t instanceof te)d=t,g=t;else if(t instanceof J){if(d=t._southWest,g=t._northEast,!d||!g)return this}else return t?this.extend(q(t)||ee(t)):this;return!o&&!u?(this._southWest=new te(d.lat,d.lng),this._northEast=new te(g.lat,g.lng)):(o.lat=Math.min(d.lat,o.lat),o.lng=Math.min(d.lng,o.lng),u.lat=Math.max(g.lat,u.lat),u.lng=Math.max(g.lng,u.lng)),this},pad:function(t){var o=this._southWest,u=this._northEast,d=Math.abs(o.lat-u.lat)*t,g=Math.abs(o.lng-u.lng)*t;return new J(new te(o.lat-d,o.lng-g),new te(u.lat+d,u.lng+g))},getCenter:function(){return new te((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new te(this.getNorth(),this.getWest())},getSouthEast:function(){return new te(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof te||"lat"in t?t=q(t):t=ee(t);var o=this._southWest,u=this._northEast,d,g;return t instanceof J?(d=t.getSouthWest(),g=t.getNorthEast()):d=g=t,d.lat>=o.lat&&g.lat<=u.lat&&d.lng>=o.lng&&g.lng<=u.lng},intersects:function(t){t=ee(t);var o=this._southWest,u=this._northEast,d=t.getSouthWest(),g=t.getNorthEast(),y=g.lat>=o.lat&&d.lat<=u.lat,E=g.lng>=o.lng&&d.lng<=u.lng;return y&&E},overlaps:function(t){t=ee(t);var o=this._southWest,u=this._northEast,d=t.getSouthWest(),g=t.getNorthEast(),y=g.lat>o.lat&&d.lat<u.lat,E=g.lng>o.lng&&d.lng<u.lng;return y&&E},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,o){return t?(t=ee(t),this._southWest.equals(t.getSouthWest(),o)&&this._northEast.equals(t.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ee(t,o){return t instanceof J?t:new J(t,o)}function te(t,o,u){if(isNaN(t)||isNaN(o))throw new Error("Invalid LatLng object: ("+t+", "+o+")");this.lat=+t,this.lng=+o,u!==void 0&&(this.alt=+u)}te.prototype={equals:function(t,o){if(!t)return!1;t=q(t);var u=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return u<=(o===void 0?1e-9:o)},toString:function(t){return"LatLng("+M(this.lat,t)+", "+M(this.lng,t)+")"},distanceTo:function(t){return ye.distance(this,q(t))},wrap:function(){return ye.wrapLatLng(this)},toBounds:function(t){var o=180*t/40075017,u=o/Math.cos(Math.PI/180*this.lat);return ee([this.lat-o,this.lng-u],[this.lat+o,this.lng+u])},clone:function(){return new te(this.lat,this.lng,this.alt)}};function q(t,o,u){return t instanceof te?t:Le(t)&&typeof t[0]!="object"?t.length===3?new te(t[0],t[1],t[2]):t.length===2?new te(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new te(t.lat,"lng"in t?t.lng:t.lon,t.alt):o===void 0?null:new te(t,o,u)}var Te={latLngToPoint:function(t,o){var u=this.projection.project(t),d=this.scale(o);return this.transformation._transform(u,d)},pointToLatLng:function(t,o){var u=this.scale(o),d=this.transformation.untransform(t,u);return this.projection.unproject(d)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var o=this.projection.bounds,u=this.scale(t),d=this.transformation.transform(o.min,u),g=this.transformation.transform(o.max,u);return new T(d,g)},infinite:!1,wrapLatLng:function(t){var o=this.wrapLng?A(t.lng,this.wrapLng,!0):t.lng,u=this.wrapLat?A(t.lat,this.wrapLat,!0):t.lat,d=t.alt;return new te(u,o,d)},wrapLatLngBounds:function(t){var o=t.getCenter(),u=this.wrapLatLng(o),d=o.lat-u.lat,g=o.lng-u.lng;if(d===0&&g===0)return t;var y=t.getSouthWest(),E=t.getNorthEast(),N=new te(y.lat-d,y.lng-g),b=new te(E.lat-d,E.lng-g);return new J(N,b)}},ye=h({},Te,{wrapLng:[-180,180],R:6371e3,distance:function(t,o){var u=Math.PI/180,d=t.lat*u,g=o.lat*u,y=Math.sin((o.lat-t.lat)*u/2),E=Math.sin((o.lng-t.lng)*u/2),N=y*y+Math.cos(d)*Math.cos(g)*E*E,b=2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N));return this.R*b}}),We=6378137,Tt={R:We,MAX_LATITUDE:85.0511287798,project:function(t){var o=Math.PI/180,u=this.MAX_LATITUDE,d=Math.max(Math.min(u,t.lat),-u),g=Math.sin(d*o);return new B(this.R*t.lng*o,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(t){var o=180/Math.PI;return new te((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*o,t.x*o/this.R)},bounds:function(){var t=We*Math.PI;return new T([-t,-t],[t,t])}()};function Ni(t,o,u,d){if(Le(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=o,this._c=u,this._d=d}Ni.prototype={transform:function(t,o){return this._transform(t.clone(),o)},_transform:function(t,o){return o=o||1,t.x=o*(this._a*t.x+this._b),t.y=o*(this._c*t.y+this._d),t},untransform:function(t,o){return o=o||1,new B((t.x/o-this._b)/this._a,(t.y/o-this._d)/this._c)}};function Di(t,o,u,d){return new Ni(t,o,u,d)}var Ri=h({},ye,{code:"EPSG:3857",projection:Tt,transformation:function(){var t=.5/(Math.PI*Tt.R);return Di(t,.5,-t,.5)}()}),yo=h({},Ri,{code:"EPSG:900913"});function wo(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function So(t,o){var u="",d,g,y,E,N,b;for(d=0,y=t.length;d<y;d++){for(N=t[d],g=0,E=N.length;g<E;g++)b=N[g],u+=(g?"L":"M")+b.x+" "+b.y;u+=o?se.svg?"z":"x":""}return u||"M0 0"}var Er=document.documentElement.style,Tr="ActiveXObject"in window,xo=Tr&&!document.addEventListener,bi="msLaunchUri"in navigator&&!("documentMode"in document),Hn=Mt("webkit"),cs=Mt("android"),Co=Mt("android 2")||Mt("android 3"),Ka=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qa=cs&&Mt("Google")&&Ka<537&&!("AudioNode"in window),hs=!!window.opera,ds=!bi&&Mt("chrome"),Pr=Mt("gecko")&&!Hn&&!hs&&!Tr,Ya=!ds&&Mt("safari"),Oi=Mt("phantom"),zi="OTransition"in Er,qu=navigator.platform.indexOf("Win")===0,Eo=Tr&&"transition"in Er,fs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Co,qa="MozPerspective"in Er,To=!window.L_DISABLE_3D&&(Eo||fs||qa)&&!zi&&!Oi,si=typeof orientation<"u"||Mt("mobile"),Po=si&&Hn,ko=si&&fs,ps=!window.PointerEvent&&window.MSPointerEvent,oi=!!(window.PointerEvent||ps),ai="ontouchstart"in window||!!window.TouchEvent,Xa=!window.L_NO_TOUCH&&(ai||oi),Ja=si&&hs,el=si&&Pr,tl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,nl=function(){var t=!1;try{var o=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",k,o),window.removeEventListener("testPassiveEventSupport",k,o)}catch{}return t}(),Io=function(){return!!document.createElement("canvas").getContext}(),ms=!!(document.createElementNS&&wo("svg").createSVGRect),kr=!!ms&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Lo=!ms&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var o=t.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),Ir=navigator.platform.indexOf("Mac")===0,Xu=navigator.platform.indexOf("Linux")===0;function Mt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var se={ie:Tr,ielt9:xo,edge:bi,webkit:Hn,android:cs,android23:Co,androidStock:Qa,opera:hs,chrome:ds,gecko:Pr,safari:Ya,phantom:Oi,opera12:zi,win:qu,ie3d:Eo,webkit3d:fs,gecko3d:qa,any3d:To,mobile:si,mobileWebkit:Po,mobileWebkit3d:ko,msPointer:ps,pointer:oi,touch:Xa,touchNative:ai,mobileOpera:Ja,mobileGecko:el,retina:tl,passiveEvents:nl,canvas:Io,svg:ms,vml:Lo,inlineSvg:kr,mac:Ir,linux:Xu},Lr=se.msPointer?"MSPointerDown":"pointerdown",_s=se.msPointer?"MSPointerMove":"pointermove",il=se.msPointer?"MSPointerUp":"pointerup",rl=se.msPointer?"MSPointerCancel":"pointercancel",Mo={touchstart:Lr,touchmove:_s,touchend:il,touchcancel:rl},jn={touchstart:Je,touchmove:gs,touchend:gs,touchcancel:gs},li={},Ao=!1;function Ju(t,o,u){return o==="touchstart"&&ec(),jn[o]?(u=jn[o].bind(this,u),t.addEventListener(Mo[o],u,!1),u):(console.warn("wrong event specified:",o),k)}function sl(t,o,u){if(!Mo[o]){console.warn("wrong event specified:",o);return}t.removeEventListener(Mo[o],u,!1)}function ol(t){li[t.pointerId]=t}function al(t){li[t.pointerId]&&(li[t.pointerId]=t)}function No(t){delete li[t.pointerId]}function ec(){Ao||(document.addEventListener(Lr,ol,!0),document.addEventListener(_s,al,!0),document.addEventListener(il,No,!0),document.addEventListener(rl,No,!0),Ao=!0)}function gs(t,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var u in li)o.touches.push(li[u]);o.changedTouches=[o],t(o)}}function Je(t,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&et(o),gs(t,o)}function tc(t){var o={},u,d;for(d in t)u=t[d],o[d]=u&&u.bind?u.bind(t):u;return t=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Do=200;function ll(t,o){t.addEventListener("dblclick",o);var u=0,d;function g(y){if(y.detail!==1){d=y.detail;return}if(!(y.pointerType==="mouse"||y.sourceCapabilities&&!y.sourceCapabilities.firesTouchEvents)){var E=hi(y);if(!(E.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!E.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var N=Date.now();N-u<=Do?(d++,d===2&&o(tc(y))):d=1,u=N}}}return t.addEventListener("click",g),{dblclick:o,simDblclick:g}}function vs(t,o){t.removeEventListener("dblclick",o.dblclick),t.removeEventListener("click",o.simDblclick)}var Ro=Ui(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Fi=Ui(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Mr=Fi==="webkitTransition"||Fi==="OTransition"?Fi+"End":"transitionend";function rn(t){return typeof t=="string"?document.getElementById(t):t}function Ar(t,o){var u=t.style[o]||t.currentStyle&&t.currentStyle[o];if((!u||u==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(t,null);u=d?d[o]:null}return u==="auto"?null:u}function _e(t,o,u){var d=document.createElement(t);return d.className=o||"",u&&u.appendChild(d),d}function Ke(t){var o=t.parentNode;o&&o.removeChild(t)}function ys(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Bi(t){var o=t.parentNode;o&&o.lastChild!==t&&o.appendChild(t)}function In(t){var o=t.parentNode;o&&o.firstChild!==t&&o.insertBefore(t,o.firstChild)}function Wi(t,o){if(t.classList!==void 0)return t.classList.contains(o);var u=ws(t);return u.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(u)}function me(t,o){if(t.classList!==void 0)for(var u=Q(o),d=0,g=u.length;d<g;d++)t.classList.add(u[d]);else if(!Wi(t,o)){var y=ws(t);bo(t,(y?y+" ":"")+o)}}function Ue(t,o){t.classList!==void 0?t.classList.remove(o):bo(t,Z((" "+ws(t)+" ").replace(" "+o+" "," ")))}function bo(t,o){t.className.baseVal===void 0?t.className=o:t.className.baseVal=o}function ws(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function At(t,o){"opacity"in t.style?t.style.opacity=o:"filter"in t.style&&ul(t,o)}function ul(t,o){var u=!1,d="DXImageTransform.Microsoft.Alpha";try{u=t.filters.item(d)}catch{if(o===1)return}o=Math.round(o*100),u?(u.Enabled=o!==100,u.Opacity=o):t.style.filter+=" progid:"+d+"(opacity="+o+")"}function Ui(t){for(var o=document.documentElement.style,u=0;u<t.length;u++)if(t[u]in o)return t[u];return!1}function sn(t,o,u){var d=o||new B(0,0);t.style[Ro]=(se.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(u?" scale("+u+")":"")}function it(t,o){t._leaflet_pos=o,se.any3d?sn(t,o):(t.style.left=o.x+"px",t.style.top=o.y+"px")}function Ln(t){return t._leaflet_pos||new B(0,0)}var Pe,Hi,Ss;if("onselectstart"in document)Pe=function(){de(window,"selectstart",et)},Hi=function(){Oe(window,"selectstart",et)};else{var ui=Ui(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Pe=function(){if(ui){var t=document.documentElement.style;Ss=t[ui],t[ui]="none"}},Hi=function(){ui&&(document.documentElement.style[ui]=Ss,Ss=void 0)}}function xs(){de(window,"dragstart",et)}function Cs(){Oe(window,"dragstart",et)}var Nr,Dr;function ji(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(on(),Nr=t,Dr=t.style.outlineStyle,t.style.outlineStyle="none",de(window,"keydown",on))}function on(){Nr&&(Nr.style.outlineStyle=Dr,Nr=void 0,Dr=void 0,Oe(window,"keydown",on))}function Mn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function mn(t){var o=t.getBoundingClientRect();return{x:o.width/t.offsetWidth||1,y:o.height/t.offsetHeight||1,boundingClientRect:o}}var Rr={__proto__:null,TRANSFORM:Ro,TRANSITION:Fi,TRANSITION_END:Mr,get:rn,getStyle:Ar,create:_e,remove:Ke,empty:ys,toFront:Bi,toBack:In,hasClass:Wi,addClass:me,removeClass:Ue,setClass:bo,getClass:ws,setOpacity:At,testProp:Ui,setTransform:sn,setPosition:it,getPosition:Ln,get disableTextSelection(){return Pe},get enableTextSelection(){return Hi},disableImageDrag:xs,enableImageDrag:Cs,preventOutline:ji,restoreOutline:on,getSizedParentNode:Mn,getScale:mn};function de(t,o,u,d){if(o&&typeof o=="object")for(var g in o)zo(t,g,o[g],u);else{o=Q(o);for(var y=0,E=o.length;y<E;y++)zo(t,o[y],u,d)}return this}var dt="_leaflet_events";function Oe(t,o,u,d){if(arguments.length===1)Oo(t),delete t[dt];else if(o&&typeof o=="object")for(var g in o)Es(t,g,o[g],u);else if(o=Q(o),arguments.length===2)Oo(t,function(N){return Be(o,N)!==-1});else for(var y=0,E=o.length;y<E;y++)Es(t,o[y],u,d);return this}function Oo(t,o){for(var u in t[dt]){var d=u.split(/\d/)[0];(!o||o(d))&&Es(t,d,null,null,u)}}var ci={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function zo(t,o,u,d){var g=o+S(u)+(d?"_"+S(d):"");if(t[dt]&&t[dt][g])return this;var y=function(N){return u.call(d||t,N||window.event)},E=y;!se.touchNative&&se.pointer&&o.indexOf("touch")===0?y=Ju(t,o,y):se.touch&&o==="dblclick"?y=ll(t,y):"addEventListener"in t?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?t.addEventListener(ci[o]||o,y,se.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(y=function(N){N=N||window.event,zr(t,N)&&E(N)},t.addEventListener(ci[o],y,!1)):t.addEventListener(o,E,!1):t.attachEvent("on"+o,y),t[dt]=t[dt]||{},t[dt][g]=y}function Es(t,o,u,d,g){g=g||o+S(u)+(d?"_"+S(d):"");var y=t[dt]&&t[dt][g];if(!y)return this;!se.touchNative&&se.pointer&&o.indexOf("touch")===0?sl(t,o,y):se.touch&&o==="dblclick"?vs(t,y):"removeEventListener"in t?t.removeEventListener(ci[o]||o,y,!1):t.detachEvent("on"+o,y),t[dt][g]=null}function _n(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ts(t){return zo(t,"wheel",_n),this}function br(t){return de(t,"mousedown touchstart dblclick contextmenu",_n),t._leaflet_disable_click=!0,this}function et(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function an(t){return et(t),_n(t),this}function hi(t){if(t.composedPath)return t.composedPath();for(var o=[],u=t.target;u;)o.push(u),u=u.parentNode;return o}function Or(t,o){if(!o)return new B(t.clientX,t.clientY);var u=mn(o),d=u.boundingClientRect;return new B((t.clientX-d.left)/u.x-o.clientLeft,(t.clientY-d.top)/u.y-o.clientTop)}var nc=se.linux&&se.chrome?window.devicePixelRatio:se.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cl(t){return se.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/nc:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function zr(t,o){var u=o.relatedTarget;if(!u)return!0;try{for(;u&&u!==t;)u=u.parentNode}catch{return!1}return u!==t}var Ps={__proto__:null,on:de,off:Oe,stopPropagation:_n,disableScrollPropagation:Ts,disableClickPropagation:br,preventDefault:et,stop:an,getPropagationPath:hi,getMousePosition:Or,getWheelDelta:cl,isExternalTarget:zr,addListener:de,removeListener:Oe},ks=be.extend({run:function(t,o,u,d){this.stop(),this._el=t,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=Ln(t),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ge(this._animate,this),this._step()},_step:function(t){var o=+new Date-this._startTime,u=this._duration*1e3;o<u?this._runFrame(this._easeOut(o/u),t):(this._runFrame(1),this._complete())},_runFrame:function(t,o){var u=this._startPos.add(this._offset.multiplyBy(t));o&&u._round(),it(this._el,u),this.fire("step")},_complete:function(){$e(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ce=be.extend({options:{crs:Ri,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,o){o=K(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(q(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Fi&&se.any3d&&!se.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),de(this._proxy,Mr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,o,u){if(o=o===void 0?this._zoom:this._limitZoom(o),t=this._limitCenter(q(t),o,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=h({animate:u.animate},u.zoom),u.pan=h({animate:u.animate,duration:u.duration},u.pan));var d=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,o,u.zoom):this._tryAnimatedPan(t,u.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(t,o,u.pan&&u.pan.noMoveStart),this},setZoom:function(t,o){return this._loaded?this.setView(this.getCenter(),t,{zoom:o}):(this._zoom=t,this)},zoomIn:function(t,o){return t=t||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,o)},zoomOut:function(t,o){return t=t||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,o)},setZoomAround:function(t,o,u){var d=this.getZoomScale(o),g=this.getSize().divideBy(2),y=t instanceof B?t:this.latLngToContainerPoint(t),E=y.subtract(g).multiplyBy(1-1/d),N=this.containerPointToLatLng(g.add(E));return this.setView(N,o,{zoom:u})},_getBoundsCenterZoom:function(t,o){o=o||{},t=t.getBounds?t.getBounds():ee(t);var u=O(o.paddingTopLeft||o.padding||[0,0]),d=O(o.paddingBottomRight||o.padding||[0,0]),g=this.getBoundsZoom(t,!1,u.add(d));if(g=typeof o.maxZoom=="number"?Math.min(o.maxZoom,g):g,g===1/0)return{center:t.getCenter(),zoom:g};var y=d.subtract(u).divideBy(2),E=this.project(t.getSouthWest(),g),N=this.project(t.getNorthEast(),g),b=this.unproject(E.add(N).divideBy(2).add(y),g);return{center:b,zoom:g}},fitBounds:function(t,o){if(t=ee(t),!t.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(t,o);return this.setView(u.center,u.zoom,o)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,o){return this.setView(t,this._zoom,{pan:o})},panBy:function(t,o){if(t=O(t).round(),o=o||{},!t.x&&!t.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ks,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){me(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,u,o.duration||.25,o.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,o,u){if(u=u||{},u.animate===!1||!se.any3d)return this.setView(t,o,u);this._stop();var d=this.project(this.getCenter()),g=this.project(t),y=this.getSize(),E=this._zoom;t=q(t),o=o===void 0?E:o;var N=Math.max(y.x,y.y),b=N*this.getZoomScale(E,o),U=g.distanceTo(d)||1,Y=1.42,ue=Y*Y;function ge(Re){var rr=Re?-1:1,_c=Re?b:N,gc=b*b-N*N+rr*ue*ue*U*U,vi=2*_c*ue*U,yi=gc/vi,wi=Math.sqrt(yi*yi+1)-yi,Us=wi<1e-9?-18:Math.log(wi);return Us}function ft(Re){return(Math.exp(Re)-Math.exp(-Re))/2}function ut(Re){return(Math.exp(Re)+Math.exp(-Re))/2}function Wt(Re){return ft(Re)/ut(Re)}var Dt=ge(0);function nr(Re){return N*(ut(Dt)/ut(Dt+Y*Re))}function ra(Re){return N*(ut(Dt)*Wt(Dt+Y*Re)-ft(Dt))/ue}function qn(Re){return 1-Math.pow(1-Re,1.5)}var Al=Date.now(),gi=(ge(1)-Dt)/Y,wn=u.duration?1e3*u.duration:1e3*gi*.8;function ir(){var Re=(Date.now()-Al)/wn,rr=qn(Re)*gi;Re<=1?(this._flyToFrame=Ge(ir,this),this._move(this.unproject(d.add(g.subtract(d).multiplyBy(ra(rr)/U)),E),this.getScaleZoom(N/nr(rr),E),{flyTo:!0})):this._move(t,o)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),ir.call(this),this},flyToBounds:function(t,o){var u=this._getBoundsCenterZoom(t,o);return this.flyTo(u.center,u.zoom,o)},setMaxBounds:function(t){return t=ee(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var o=this.options.minZoom;return this.options.minZoom=t,this._loaded&&o!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var o=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&o!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,o){this._enforcingBounds=!0;var u=this.getCenter(),d=this._limitCenter(u,this._zoom,ee(t));return u.equals(d)||this.panTo(d,o),this._enforcingBounds=!1,this},panInside:function(t,o){o=o||{};var u=O(o.paddingTopLeft||o.padding||[0,0]),d=O(o.paddingBottomRight||o.padding||[0,0]),g=this.project(this.getCenter()),y=this.project(t),E=this.getPixelBounds(),N=F([E.min.add(u),E.max.subtract(d)]),b=N.getSize();if(!N.contains(y)){this._enforcingBounds=!0;var U=y.subtract(N.getCenter()),Y=N.extend(y).getSize().subtract(b);g.x+=U.x<0?-Y.x:Y.x,g.y+=U.y<0?-Y.y:Y.y,this.panTo(this.unproject(g),o),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=h({animate:!1,pan:!0},t===!0?{animate:!0}:t);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),d=o.divideBy(2).round(),g=u.divideBy(2).round(),y=d.subtract(g);return!y.x&&!y.y?this:(t.animate&&t.pan?this.panBy(y):(t.pan&&this._rawPanBy(y),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=h({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=_(this._handleGeolocationResponse,this),u=_(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,u,t):navigator.geolocation.getCurrentPosition(o,u,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var o=t.code,u=t.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var o=t.coords.latitude,u=t.coords.longitude,d=new te(o,u),g=d.toBounds(t.coords.accuracy*2),y=this._locateOptions;if(y.setView){var E=this.getBoundsZoom(g);this.setView(d,y.maxZoom?Math.min(E,y.maxZoom):E)}var N={latlng:d,bounds:g,timestamp:t.timestamp};for(var b in t.coords)typeof t.coords[b]=="number"&&(N[b]=t.coords[b]);this.fire("locationfound",N)}},addHandler:function(t,o){if(!o)return this;var u=this[t]=new o(this);return this._handlers.push(u),this.options[t]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ke(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($e(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Ke(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,o){var u="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),d=_e("div",u,o||this._mapPane);return t&&(this._panes[t]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),o=this.unproject(t.getBottomLeft()),u=this.unproject(t.getTopRight());return new J(o,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,o,u){t=ee(t),u=O(u||[0,0]);var d=this.getZoom()||0,g=this.getMinZoom(),y=this.getMaxZoom(),E=t.getNorthWest(),N=t.getSouthEast(),b=this.getSize().subtract(u),U=F(this.project(N,d),this.project(E,d)).getSize(),Y=se.any3d?this.options.zoomSnap:1,ue=b.x/U.x,ge=b.y/U.y,ft=o?Math.max(ue,ge):Math.min(ue,ge);return d=this.getScaleZoom(ft,d),Y&&(d=Math.round(d/(Y/100))*(Y/100),d=o?Math.ceil(d/Y)*Y:Math.floor(d/Y)*Y),Math.max(g,Math.min(y,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,o){var u=this._getTopLeftPoint(t,o);return new T(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,o){var u=this.options.crs;return o=o===void 0?this._zoom:o,u.scale(t)/u.scale(o)},getScaleZoom:function(t,o){var u=this.options.crs;o=o===void 0?this._zoom:o;var d=u.zoom(t*u.scale(o));return isNaN(d)?1/0:d},project:function(t,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(q(t),o)},unproject:function(t,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(O(t),o)},layerPointToLatLng:function(t){var o=O(t).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(t){var o=this.project(q(t))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(q(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ee(t))},distance:function(t,o){return this.options.crs.distance(q(t),q(o))},containerPointToLayerPoint:function(t){return O(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return O(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var o=this.containerPointToLayerPoint(O(t));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(t)))},mouseEventToContainerPoint:function(t){return Or(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var o=this._container=rn(t);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");de(o,"scroll",this._onScroll,this),this._containerId=S(o)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&se.any3d,me(t,"leaflet-container"+(se.touch?" leaflet-touch":"")+(se.retina?" leaflet-retina":"")+(se.ielt9?" leaflet-oldie":"")+(se.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=Ar(t,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),it(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(me(t.markerPane,"leaflet-zoom-hide"),me(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,o,u){it(this._mapPane,new B(0,0));var d=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var g=this._zoom!==o;this._moveStart(g,u)._move(t,o)._moveEnd(g),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(t,o){return t&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(t,o,u,d){o===void 0&&(o=this._zoom);var g=this._zoom!==o;return this._zoom=o,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),d?u&&u.pinch&&this.fire("zoom",u):((g||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $e(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){it(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[S(this._container)]=this;var o=t?Oe:de;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),se.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$e(this._resizeRequest),this._resizeRequest=Ge(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,o){for(var u=[],d,g=o==="mouseout"||o==="mouseover",y=t.target||t.srcElement,E=!1;y;){if(d=this._targets[S(y)],d&&(o==="click"||o==="preclick")&&this._draggableMoved(d)){E=!0;break}if(d&&d.listens(o,!0)&&(g&&!zr(y,t)||(u.push(d),g))||y===this._container)break;y=y.parentNode}return!u.length&&!E&&!g&&this.listens(o,!0)&&(u=[this]),u},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var o=t.target||t.srcElement;if(!(!this._loaded||o._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(o))){var u=t.type;u==="mousedown"&&ji(o),this._fireDOMEvent(t,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,o,u){if(t.type==="click"){var d=h({},t);d.type="preclick",this._fireDOMEvent(d,d.type,u)}var g=this._findEventTargets(t,o);if(u){for(var y=[],E=0;E<u.length;E++)u[E].listens(o,!0)&&y.push(u[E]);g=y.concat(g)}if(g.length){o==="contextmenu"&&et(t);var N=g[0],b={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var U=N.getLatLng&&(!N._radius||N._radius<=10);b.containerPoint=U?this.latLngToContainerPoint(N.getLatLng()):this.mouseEventToContainerPoint(t),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=U?N.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(E=0;E<g.length;E++)if(g[E].fire(o,b,!0),b.originalEvent._stopped||g[E].options.bubblingMouseEvents===!1&&Be(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,o=this._handlers.length;t<o;t++)this._handlers[t].disable()},whenReady:function(t,o){return this._loaded?t.call(o||this,{target:this}):this.on("load",t,o),this},_getMapPanePos:function(){return Ln(this._mapPane)||new B(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,o){var u=t&&o!==void 0?this._getNewPixelOrigin(t,o):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,o){var u=this.getSize()._divideBy(2);return this.project(t,o)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,o,u){var d=this._getNewPixelOrigin(u,o);return this.project(t,o)._subtract(d)},_latLngBoundsToNewLayerBounds:function(t,o,u){var d=this._getNewPixelOrigin(u,o);return F([this.project(t.getSouthWest(),o)._subtract(d),this.project(t.getNorthWest(),o)._subtract(d),this.project(t.getSouthEast(),o)._subtract(d),this.project(t.getNorthEast(),o)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,o,u){if(!u)return t;var d=this.project(t,o),g=this.getSize().divideBy(2),y=new T(d.subtract(g),d.add(g)),E=this._getBoundsOffset(y,u,o);return Math.abs(E.x)<=1&&Math.abs(E.y)<=1?t:this.unproject(d.add(E),o)},_limitOffset:function(t,o){if(!o)return t;var u=this.getPixelBounds(),d=new T(u.min.add(t),u.max.add(t));return t.add(this._getBoundsOffset(d,o))},_getBoundsOffset:function(t,o,u){var d=F(this.project(o.getNorthEast(),u),this.project(o.getSouthWest(),u)),g=d.min.subtract(t.min),y=d.max.subtract(t.max),E=this._rebound(g.x,-y.x),N=this._rebound(g.y,-y.y);return new B(E,N)},_rebound:function(t,o){return t+o>0?Math.round(t-o)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(o))},_limitZoom:function(t){var o=this.getMinZoom(),u=this.getMaxZoom(),d=se.any3d?this.options.zoomSnap:1;return d&&(t=Math.round(t/d)*d),Math.max(o,Math.min(u,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ue(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,o){var u=this._getCenterOffset(t)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,o),!0)},_createAnimProxy:function(){var t=this._proxy=_e("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(o){var u=Ro,d=this._proxy.style[u];sn(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),d===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ke(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),o=this.getZoom();sn(this._proxy,this.project(t,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,o,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(o),g=this._getCenterOffset(t)._divideBy(1-1/d);return u.animate!==!0&&!this.getSize().contains(g)?!1:(Ge(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(t,o,!0)},this),!0)},_animateZoom:function(t,o,u,d){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=o,me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:o,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ue(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Zn(t,o){return new Ce(t,o)}var Ft=Xe.extend({options:{position:"topright"},initialize:function(t){K(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var o=this._map;return o&&o.removeControl(this),this.options.position=t,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var o=this._container=this.onAdd(t),u=this.getPosition(),d=t._controlCorners[u];return me(o,"leaflet-control"),u.indexOf("bottom")!==-1?d.insertBefore(o,d.firstChild):d.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ke(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Vn=function(t){return new Ft(t)};Ce.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},o="leaflet-",u=this._controlContainer=_e("div",o+"control-container",this._container);function d(g,y){var E=o+g+" "+o+y;t[g+y]=_e("div",E,u)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Ke(this._controlCorners[t]);Ke(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Fo=Ft.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,o,u,d){return u<d?-1:d<u?1:0}},initialize:function(t,o,u){K(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in t)this._addLayer(t[d],d);for(d in o)this._addLayer(o[d],d,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ft.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,o){return this._addLayer(t,o),this._map?this._update():this},addOverlay:function(t,o){return this._addLayer(t,o,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var o=this._getLayer(S(t));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Ue(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ue(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",o=this._container=_e("div",t),u=this.options.collapsed;o.setAttribute("aria-haspopup",!0),br(o),Ts(o);var d=this._section=_e("section",t+"-list");u&&(this._map.on("click",this.collapse,this),de(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=_e("a",t+"-toggle",o);g.href="#",g.title="Layers",g.setAttribute("role","button"),de(g,{keydown:function(y){y.keyCode===13&&this._expandSafely()},click:function(y){et(y),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=_e("div",t+"-base",d),this._separator=_e("div",t+"-separator",d),this._overlaysList=_e("div",t+"-overlays",d),o.appendChild(d)},_getLayer:function(t){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&S(this._layers[o].layer)===t)return this._layers[o]},_addLayer:function(t,o,u){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:o,overlay:u}),this.options.sortLayers&&this._layers.sort(_(function(d,g){return this.options.sortFunction(d.layer,g.layer,d.name,g.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ys(this._baseLayersList),ys(this._overlaysList),this._layerControlInputs=[];var t,o,u,d,g=0;for(u=0;u<this._layers.length;u++)d=this._layers[u],this._addItem(d),o=o||d.overlay,t=t||!d.overlay,g+=d.overlay?0:1;return this.options.hideSingleBase&&(t=t&&g>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=o&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var o=this._getLayer(S(t.target)),u=o.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;u&&this._map.fire(u,o)},_createRadioElement:function(t,o){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(o?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=u,d.firstChild},_addItem:function(t){var o=document.createElement("label"),u=this._map.hasLayer(t.layer),d;t.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=u):d=this._createRadioElement("leaflet-base-layers_"+S(this),u),this._layerControlInputs.push(d),d.layerId=S(t.layer),de(d,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+t.name;var y=document.createElement("span");o.appendChild(y),y.appendChild(d),y.appendChild(g);var E=t.overlay?this._overlaysList:this._baseLayersList;return E.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,o,u,d=[],g=[];this._handlingClick=!0;for(var y=t.length-1;y>=0;y--)o=t[y],u=this._getLayer(o.layerId).layer,o.checked?d.push(u):o.checked||g.push(u);for(y=0;y<g.length;y++)this._map.hasLayer(g[y])&&this._map.removeLayer(g[y]);for(y=0;y<d.length;y++)this._map.hasLayer(d[y])||this._map.addLayer(d[y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,o,u,d=this._map.getZoom(),g=t.length-1;g>=0;g--)o=t[g],u=this._getLayer(o.layerId).layer,o.disabled=u.options.minZoom!==void 0&&d<u.options.minZoom||u.options.maxZoom!==void 0&&d>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,de(t,"click",et),this.expand();var o=this;setTimeout(function(){Oe(t,"click",et),o._preventClick=!1})}}),Is=function(t,o,u){return new Fo(t,o,u)},Zi=Ft.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var o="leaflet-control-zoom",u=_e("div",o+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,o+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,o+"-out",u,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,o,u,d,g){var y=_e("a",u,d);return y.innerHTML=t,y.href="#",y.title=o,y.setAttribute("role","button"),y.setAttribute("aria-label",o),br(y),de(y,"click",an),de(y,"click",g,this),de(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var t=this._map,o="leaflet-disabled";Ue(this._zoomInButton,o),Ue(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(me(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(me(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ce.mergeOptions({zoomControl:!0}),Ce.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Zi,this.addControl(this.zoomControl))});var hl=function(t){return new Zi(t)},Nt=Ft.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var o="leaflet-control-scale",u=_e("div",o),d=this.options;return this._addScales(d,o+"-line",u),t.on(d.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),u},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,o,u){t.metric&&(this._mScale=_e("div",o,u)),t.imperial&&(this._iScale=_e("div",o,u))},_update:function(){var t=this._map,o=t.getSize().y/2,u=t.distance(t.containerPointToLatLng([0,o]),t.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(u)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var o=this._getRoundNum(t),u=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,u,o/t)},_updateImperial:function(t){var o=t*3.2808399,u,d,g;o>5280?(u=o/5280,d=this._getRoundNum(u),this._updateScale(this._iScale,d+" mi",d/u)):(g=this._getRoundNum(o),this._updateScale(this._iScale,g+" ft",g/o))},_updateScale:function(t,o,u){t.style.width=Math.round(this.options.maxWidth*u)+"px",t.innerHTML=o},_getRoundNum:function(t){var o=Math.pow(10,(Math.floor(t)+"").length-1),u=t/o;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,o*u}}),Vi=function(t){return new Nt(t)},Bo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',di=Ft.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(se.inlineSvg?Bo+" ":"")+"Leaflet</a>"},initialize:function(t){K(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=_e("div","leaflet-control-attribution"),br(this._container);for(var o in t._layers)t._layers[o].getAttribution&&this.addAttribution(t._layers[o].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var o in this._attributions)this._attributions[o]&&t.push(o);var u=[];this.options.prefix&&u.push(this.options.prefix),t.length&&u.push(t.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Ce.mergeOptions({attributionControl:!0}),Ce.addInitHook(function(){this.options.attributionControl&&new di().addTo(this)});var ic=function(t){return new di(t)};Ft.Layers=Fo,Ft.Zoom=Zi,Ft.Scale=Nt,Ft.Attribution=di,Vn.layers=Is,Vn.zoom=hl,Vn.scale=Vi,Vn.attribution=ic;var $t=Xe.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});$t.addTo=function(t,o){return t.addHandler(o,this),this};var Wo={Events:De},Gi=se.touch?"touchstart mousedown":"mousedown",ln=be.extend({options:{clickTolerance:3},initialize:function(t,o,u,d){K(this,d),this._element=t,this._dragStartTarget=o||t,this._preventOutline=u},enable:function(){this._enabled||(de(this._dragStartTarget,Gi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ln._dragging===this&&this.finishDrag(!0),Oe(this._dragStartTarget,Gi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Wi(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){ln._dragging===this&&this.finishDrag();return}if(!(ln._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ln._dragging=this,this._preventOutline&&ji(this._element),xs(),Pe(),!this._moving)){this.fire("down");var o=t.touches?t.touches[0]:t,u=Mn(this._element);this._startPoint=new B(o.clientX,o.clientY),this._startPos=Ln(this._element),this._parentScale=mn(u);var d=t.type==="mousedown";de(document,d?"mousemove":"touchmove",this._onMove,this),de(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var o=t.touches&&t.touches.length===1?t.touches[0]:t,u=new B(o.clientX,o.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,et(t),this._moved||(this.fire("dragstart"),this._moved=!0,me(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),it(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Ue(document.body,"leaflet-dragging"),this._lastTarget&&(Ue(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Oe(document,"mousemove touchmove",this._onMove,this),Oe(document,"mouseup touchend touchcancel",this._onUp,this),Cs(),Hi();var o=this._moved&&this._moving;this._moving=!1,ln._dragging=!1,o&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Uo(t,o,u){var d,g=[1,4,2,8],y,E,N,b,U,Y,ue,ge;for(y=0,Y=t.length;y<Y;y++)t[y]._code=fi(t[y],o);for(N=0;N<4;N++){for(ue=g[N],d=[],y=0,Y=t.length,E=Y-1;y<Y;E=y++)b=t[y],U=t[E],b._code&ue?U._code&ue||(ge=Ms(U,b,ue,o,u),ge._code=fi(ge,o),d.push(ge)):(U._code&ue&&(ge=Ms(U,b,ue,o,u),ge._code=fi(ge,o),d.push(ge)),d.push(b));t=d}return t}function dl(t,o){var u,d,g,y,E,N,b,U,Y;if(!t||t.length===0)throw new Error("latlngs not passed");Kt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var ue=q([0,0]),ge=ee(t),ft=ge.getNorthWest().distanceTo(ge.getSouthWest())*ge.getNorthEast().distanceTo(ge.getNorthWest());ft<1700&&(ue=Ho(t));var ut=t.length,Wt=[];for(u=0;u<ut;u++){var Dt=q(t[u]);Wt.push(o.project(q([Dt.lat-ue.lat,Dt.lng-ue.lng])))}for(N=b=U=0,u=0,d=ut-1;u<ut;d=u++)g=Wt[u],y=Wt[d],E=g.y*y.x-y.y*g.x,b+=(g.x+y.x)*E,U+=(g.y+y.y)*E,N+=E*3;N===0?Y=Wt[0]:Y=[b/N,U/N];var nr=o.unproject(O(Y));return q([nr.lat+ue.lat,nr.lng+ue.lng])}function Ho(t){for(var o=0,u=0,d=0,g=0;g<t.length;g++){var y=q(t[g]);o+=y.lat,u+=y.lng,d++}return q([o/d,u/d])}var rc={__proto__:null,clipPolygon:Uo,polygonCenter:dl,centroid:Ho};function Ls(t,o){if(!o||!t.length)return t.slice();var u=o*o;return t=ac(t,u),t=oc(t,u),t}function fl(t,o,u){return Math.sqrt(pi(t,o,u,!0))}function sc(t,o,u){return pi(t,o,u)}function oc(t,o){var u=t.length,d=typeof Uint8Array<"u"?Uint8Array:Array,g=new d(u);g[0]=g[u-1]=1,jo(t,g,o,0,u-1);var y,E=[];for(y=0;y<u;y++)g[y]&&E.push(t[y]);return E}function jo(t,o,u,d,g){var y=0,E,N,b;for(N=d+1;N<=g-1;N++)b=pi(t[N],t[d],t[g],!0),b>y&&(E=N,y=b);y>u&&(o[E]=1,jo(t,o,u,d,E),jo(t,o,u,E,g))}function ac(t,o){for(var u=[t[0]],d=1,g=0,y=t.length;d<y;d++)lc(t[d],t[g])>o&&(u.push(t[d]),g=d);return g<y-1&&u.push(t[y-1]),u}var Zo;function pl(t,o,u,d,g){var y=d?Zo:fi(t,u),E=fi(o,u),N,b,U;for(Zo=E;;){if(!(y|E))return[t,o];if(y&E)return!1;N=y||E,b=Ms(t,o,N,u,g),U=fi(b,u),N===y?(t=b,y=U):(o=b,E=U)}}function Ms(t,o,u,d,g){var y=o.x-t.x,E=o.y-t.y,N=d.min,b=d.max,U,Y;return u&8?(U=t.x+y*(b.y-t.y)/E,Y=b.y):u&4?(U=t.x+y*(N.y-t.y)/E,Y=N.y):u&2?(U=b.x,Y=t.y+E*(b.x-t.x)/y):u&1&&(U=N.x,Y=t.y+E*(N.x-t.x)/y),new B(U,Y,g)}function fi(t,o){var u=0;return t.x<o.min.x?u|=1:t.x>o.max.x&&(u|=2),t.y<o.min.y?u|=4:t.y>o.max.y&&(u|=8),u}function lc(t,o){var u=o.x-t.x,d=o.y-t.y;return u*u+d*d}function pi(t,o,u,d){var g=o.x,y=o.y,E=u.x-g,N=u.y-y,b=E*E+N*N,U;return b>0&&(U=((t.x-g)*E+(t.y-y)*N)/b,U>1?(g=u.x,y=u.y):U>0&&(g+=E*U,y+=N*U)),E=t.x-g,N=t.y-y,d?E*E+N*N:new B(g,y)}function Kt(t){return!Le(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function ml(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Kt(t)}function _l(t,o){var u,d,g,y,E,N,b,U;if(!t||t.length===0)throw new Error("latlngs not passed");Kt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Y=q([0,0]),ue=ee(t),ge=ue.getNorthWest().distanceTo(ue.getSouthWest())*ue.getNorthEast().distanceTo(ue.getNorthWest());ge<1700&&(Y=Ho(t));var ft=t.length,ut=[];for(u=0;u<ft;u++){var Wt=q(t[u]);ut.push(o.project(q([Wt.lat-Y.lat,Wt.lng-Y.lng])))}for(u=0,d=0;u<ft-1;u++)d+=ut[u].distanceTo(ut[u+1])/2;if(d===0)U=ut[0];else for(u=0,y=0;u<ft-1;u++)if(E=ut[u],N=ut[u+1],g=E.distanceTo(N),y+=g,y>d){b=(y-d)/g,U=[N.x-b*(N.x-E.x),N.y-b*(N.y-E.y)];break}var Dt=o.unproject(O(U));return q([Dt.lat+Y.lat,Dt.lng+Y.lng])}var gl={__proto__:null,simplify:Ls,pointToSegmentDistance:fl,closestPointOnSegment:sc,clipSegment:pl,_getEdgeIntersection:Ms,_getBitCode:fi,_sqClosestPointOnSegment:pi,isFlat:Kt,_flat:ml,polylineCenter:_l},Vo={project:function(t){return new B(t.lng,t.lat)},unproject:function(t){return new te(t.y,t.x)},bounds:new T([-180,-90],[180,90])},Go={R:6378137,R_MINOR:6356752314245179e-9,bounds:new T([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var o=Math.PI/180,u=this.R,d=t.lat*o,g=this.R_MINOR/u,y=Math.sqrt(1-g*g),E=y*Math.sin(d),N=Math.tan(Math.PI/4-d/2)/Math.pow((1-E)/(1+E),y/2);return d=-u*Math.log(Math.max(N,1e-10)),new B(t.lng*o*u,d)},unproject:function(t){for(var o=180/Math.PI,u=this.R,d=this.R_MINOR/u,g=Math.sqrt(1-d*d),y=Math.exp(-t.y/u),E=Math.PI/2-2*Math.atan(y),N=0,b=.1,U;N<15&&Math.abs(b)>1e-7;N++)U=g*Math.sin(E),U=Math.pow((1-U)/(1+U),g/2),b=Math.PI/2-2*Math.atan(y*U)-E,E+=b;return new te(E*o,t.x*o/u)}},uc={__proto__:null,LonLat:Vo,Mercator:Go,SphericalMercator:Tt},cc=h({},ye,{code:"EPSG:3395",projection:Go,transformation:function(){var t=.5/(Math.PI*Go.R);return Di(t,.5,-t,.5)}()}),vl=h({},ye,{code:"EPSG:4326",projection:Vo,transformation:Di(1/180,1,-1/180,.5)}),hc=h({},Te,{projection:Vo,transformation:Di(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,o){var u=o.lng-t.lng,d=o.lat-t.lat;return Math.sqrt(u*u+d*d)},infinite:!0});Te.Earth=ye,Te.EPSG3395=cc,Te.EPSG3857=Ri,Te.EPSG900913=yo,Te.EPSG4326=vl,Te.Simple=hc;var un=be.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[S(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[S(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var o=t.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var u=this.getEvents();o.on(u,this),this.once("remove",function(){o.off(u,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});Ce.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var o=S(t);return this._layers[o]?this:(this._layers[o]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var o=S(t);return this._layers[o]?(this._loaded&&t.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return S(t)in this._layers},eachLayer:function(t,o){for(var u in this._layers)t.call(o,this._layers[u]);return this},_addLayers:function(t){t=t?Le(t)?t:[t]:[];for(var o=0,u=t.length;o<u;o++)this.addLayer(t[o])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[S(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var o=S(t);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,o=-1/0,u=this._getZoomSpan();for(var d in this._zoomBoundLayers){var g=this._zoomBoundLayers[d].options;t=g.minZoom===void 0?t:Math.min(t,g.minZoom),o=g.maxZoom===void 0?o:Math.max(o,g.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=t===1/0?void 0:t,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gn=un.extend({initialize:function(t,o){K(this,o),this._layers={};var u,d;if(t)for(u=0,d=t.length;u<d;u++)this.addLayer(t[u])},addLayer:function(t){var o=this.getLayerId(t);return this._layers[o]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var o=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(t){var o=typeof t=="number"?t:this.getLayerId(t);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var o=Array.prototype.slice.call(arguments,1),u,d;for(u in this._layers)d=this._layers[u],d[t]&&d[t].apply(d,o);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,o){for(var u in this._layers)t.call(o,this._layers[u]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return S(t)}}),Fr=function(t,o){return new Gn(t,o)},An=Gn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Gn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Gn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new J;for(var o in this._layers){var u=this._layers[o];t.extend(u.getBounds?u.getBounds():u.getLatLng())}return t}}),yl=function(t,o){return new An(t,o)},mi=Xe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){K(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,o){var u=this._getIconUrl(t);if(!u){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(u,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(d,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(t,o){var u=this.options,d=u[o+"Size"];typeof d=="number"&&(d=[d,d]);var g=O(d),y=O(o==="shadow"&&u.shadowAnchor||u.iconAnchor||g&&g.divideBy(2,!0));t.className="leaflet-marker-"+o+" "+(u.className||""),y&&(t.style.marginLeft=-y.x+"px",t.style.marginTop=-y.y+"px"),g&&(t.style.width=g.x+"px",t.style.height=g.y+"px")},_createImg:function(t,o){return o=o||document.createElement("img"),o.src=t,o},_getIconUrl:function(t){return se.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function wl(t){return new mi(t)}var $i=mi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof $i.imagePath!="string"&&($i.imagePath=this._detectIconPath()),(this.options.imagePath||$i.imagePath)+mi.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var o=function(u,d,g){var y=d.exec(u);return y&&y[g]};return t=o(t,/^url\((['"])?(.+)\1\)$/,2),t&&o(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=_e("div","leaflet-default-icon-path",document.body),o=Ar(t,"background-image")||Ar(t,"backgroundImage");if(document.body.removeChild(t),o=this._stripUrl(o),o)return o;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),$o=$t.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ln(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),me(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ue(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var o=this._marker,u=o._map,d=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,y=Ln(o._icon),E=u.getPixelBounds(),N=u.getPixelOrigin(),b=F(E.min._subtract(N).add(g),E.max._subtract(N).subtract(g));if(!b.contains(y)){var U=O((Math.max(b.max.x,y.x)-b.max.x)/(E.max.x-b.max.x)-(Math.min(b.min.x,y.x)-b.min.x)/(E.min.x-b.min.x),(Math.max(b.max.y,y.y)-b.max.y)/(E.max.y-b.max.y)-(Math.min(b.min.y,y.y)-b.min.y)/(E.min.y-b.min.y)).multiplyBy(d);u.panBy(U,{animate:!1}),this._draggable._newPos._add(U),this._draggable._startPos._add(U),it(o._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Ge(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&($e(this._panRequest),this._panRequest=Ge(this._adjustPan.bind(this,t)))},_onDrag:function(t){var o=this._marker,u=o._shadow,d=Ln(o._icon),g=o._map.layerPointToLatLng(d);u&&it(u,d),o._latlng=g,t.latlng=g,t.oldLatLng=this._oldLatLng,o.fire("move",t).fire("drag",t)},_onDragEnd:function(t){$e(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Nn=un.extend({options:{icon:new $i,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,o){K(this,o),this._latlng=q(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var o=this._latlng;return this._latlng=q(t),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=t.icon.createIcon(this._icon),d=!1;u!==this._icon&&(this._icon&&this._removeIcon(),d=!0,t.title&&(u.title=t.title),u.tagName==="IMG"&&(u.alt=t.alt||"")),me(u,o),t.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&de(u,"focus",this._panOnFocus,this);var g=t.icon.createShadow(this._shadow),y=!1;g!==this._shadow&&(this._removeShadow(),y=!0),g&&(me(g,o),g.alt=""),this._shadow=g,t.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&y&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Oe(this._icon,"focus",this._panOnFocus,this),Ke(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ke(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&it(this._icon,t),this._shadow&&it(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),$o)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new $o(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&At(this._icon,t),this._shadow&&At(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var o=this.options.icon.options,u=o.iconSize?O(o.iconSize):O(0,0),d=o.iconAnchor?O(o.iconAnchor):O(0,0);t.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:u.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function dc(t,o){return new Nn(t,o)}var $n=un.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return K(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),As=$n.extend({options:{fill:!0,radius:10},initialize:function(t,o){K(this,o),this._latlng=q(t),this._radius=this.options.radius},setLatLng:function(t){var o=this._latlng;return this._latlng=q(t),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var o=t&&t.radius||this._radius;return $n.prototype.setStyle.call(this,t),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,o=this._radiusY||t,u=this._clickTolerance(),d=[t+u,o+u];this._pxBounds=new T(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Sl(t,o){return new As(t,o)}var Ns=As.extend({initialize:function(t,o,u){if(typeof o=="number"&&(o=h({},u,{radius:o})),K(this,o),this._latlng=q(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new J(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:$n.prototype.setStyle,_project:function(){var t=this._latlng.lng,o=this._latlng.lat,u=this._map,d=u.options.crs;if(d.distance===ye.distance){var g=Math.PI/180,y=this._mRadius/ye.R/g,E=u.project([o+y,t]),N=u.project([o-y,t]),b=E.add(N).divideBy(2),U=u.unproject(b).lat,Y=Math.acos((Math.cos(y*g)-Math.sin(o*g)*Math.sin(U*g))/(Math.cos(o*g)*Math.cos(U*g)))/g;(isNaN(Y)||Y===0)&&(Y=y/Math.cos(Math.PI/180*o)),this._point=b.subtract(u.getPixelOrigin()),this._radius=isNaN(Y)?0:b.x-u.project([U,t-Y]).x,this._radiusY=b.y-E.y}else{var ue=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(ue).x}this._updateBounds()}});function Br(t,o,u){return new Ns(t,o,u)}var Bt=$n.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,o){K(this,o),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var o=1/0,u=null,d=pi,g,y,E=0,N=this._parts.length;E<N;E++)for(var b=this._parts[E],U=1,Y=b.length;U<Y;U++){g=b[U-1],y=b[U];var ue=d(t,g,y,!0);ue<o&&(o=ue,u=d(t,g,y))}return u&&(u.distance=Math.sqrt(o)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _l(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,o){return o=o||this._defaultShape(),t=q(t),o.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new J,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Kt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var o=[],u=Kt(t),d=0,g=t.length;d<g;d++)u?(o[d]=q(t[d]),this._bounds.extend(o[d])):o[d]=this._convertLatLngs(t[d]);return o},_project:function(){var t=new T;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),o=new B(t,t);this._rawPxBounds&&(this._pxBounds=new T([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(t,o,u){var d=t[0]instanceof te,g=t.length,y,E;if(d){for(E=[],y=0;y<g;y++)E[y]=this._map.latLngToLayerPoint(t[y]),u.extend(E[y]);o.push(E)}else for(y=0;y<g;y++)this._projectLatlngs(t[y],o,u)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,u,d,g,y,E,N,b;for(u=0,g=0,y=this._rings.length;u<y;u++)for(b=this._rings[u],d=0,E=b.length;d<E-1;d++)N=pl(b[d],b[d+1],t,d,!0),N&&(o[g]=o[g]||[],o[g].push(N[0]),(N[1]!==b[d+1]||d===E-2)&&(o[g].push(N[1]),g++))}},_simplifyPoints:function(){for(var t=this._parts,o=this.options.smoothFactor,u=0,d=t.length;u<d;u++)t[u]=Ls(t[u],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,o){var u,d,g,y,E,N,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(u=0,y=this._parts.length;u<y;u++)for(N=this._parts[u],d=0,E=N.length,g=E-1;d<E;g=d++)if(!(!o&&d===0)&&fl(t,N[g],N[d])<=b)return!0;return!1}});function fc(t,o){return new Bt(t,o)}Bt._flat=ml;var Dn=Bt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return dl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var o=Bt.prototype._convertLatLngs.call(this,t),u=o.length;return u>=2&&o[0]instanceof te&&o[0].equals(o[u-1])&&o.pop(),o},_setLatLngs:function(t){Bt.prototype._setLatLngs.call(this,t),Kt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Kt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,o=this.options.weight,u=new B(o,o);if(t=new T(t.min.subtract(u),t.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,g=this._rings.length,y;d<g;d++)y=Uo(this._rings[d],t,!0),y.length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var o=!1,u,d,g,y,E,N,b,U;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(y=0,b=this._parts.length;y<b;y++)for(u=this._parts[y],E=0,U=u.length,N=U-1;E<U;N=E++)d=u[E],g=u[N],d.y>t.y!=g.y>t.y&&t.x<(g.x-d.x)*(t.y-d.y)/(g.y-d.y)+d.x&&(o=!o);return o||Bt.prototype._containsPoint.call(this,t,!0)}});function pc(t,o){return new Dn(t,o)}var gn=An.extend({initialize:function(t,o){K(this,o),this._layers={},t&&this.addData(t)},addData:function(t){var o=Le(t)?t:t.features,u,d,g;if(o){for(u=0,d=o.length;u<d;u++)g=o[u],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var y=this.options;if(y.filter&&!y.filter(t))return this;var E=Ki(t,y);return E?(E.feature=zs(t),E.defaultOptions=E.options,this.resetStyle(E),y.onEachFeature&&y.onEachFeature(t,E),this.addLayer(E)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=h({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(o){this._setLayerStyle(o,t)},this)},_setLayerStyle:function(t,o){t.setStyle&&(typeof o=="function"&&(o=o(t.feature)),t.setStyle(o))}});function Ki(t,o){var u=t.type==="Feature"?t.geometry:t,d=u?u.coordinates:null,g=[],y=o&&o.pointToLayer,E=o&&o.coordsToLatLng||Rs,N,b,U,Y;if(!d&&!u)return null;switch(u.type){case"Point":return N=E(d),Ds(y,t,N,o);case"MultiPoint":for(U=0,Y=d.length;U<Y;U++)N=E(d[U]),g.push(Ds(y,t,N,o));return new An(g);case"LineString":case"MultiLineString":return b=Wr(d,u.type==="LineString"?0:1,E),new Bt(b,o);case"Polygon":case"MultiPolygon":return b=Wr(d,u.type==="Polygon"?1:2,E),new Dn(b,o);case"GeometryCollection":for(U=0,Y=u.geometries.length;U<Y;U++){var ue=Ki({geometry:u.geometries[U],type:"Feature",properties:t.properties},o);ue&&g.push(ue)}return new An(g);case"FeatureCollection":for(U=0,Y=u.features.length;U<Y;U++){var ge=Ki(u.features[U],o);ge&&g.push(ge)}return new An(g);default:throw new Error("Invalid GeoJSON object.")}}function Ds(t,o,u,d){return t?t(o,u):new Nn(u,d&&d.markersInheritOptions&&d)}function Rs(t){return new te(t[1],t[0],t[2])}function Wr(t,o,u){for(var d=[],g=0,y=t.length,E;g<y;g++)E=o?Wr(t[g],o-1,u):(u||Rs)(t[g]),d.push(E);return d}function bs(t,o){return t=q(t),t.alt!==void 0?[M(t.lng,o),M(t.lat,o),M(t.alt,o)]:[M(t.lng,o),M(t.lat,o)]}function Os(t,o,u,d){for(var g=[],y=0,E=t.length;y<E;y++)g.push(o?Os(t[y],Kt(t[y])?0:o-1,u,d):bs(t[y],d));return!o&&u&&g.length>0&&g.push(g[0].slice()),g}function Qi(t,o){return t.feature?h({},t.feature,{geometry:o}):zs(o)}function zs(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Ko={toGeoJSON:function(t){return Qi(this,{type:"Point",coordinates:bs(this.getLatLng(),t)})}};Nn.include(Ko),Ns.include(Ko),As.include(Ko),Bt.include({toGeoJSON:function(t){var o=!Kt(this._latlngs),u=Os(this._latlngs,o?1:0,!1,t);return Qi(this,{type:(o?"Multi":"")+"LineString",coordinates:u})}}),Dn.include({toGeoJSON:function(t){var o=!Kt(this._latlngs),u=o&&!Kt(this._latlngs[0]),d=Os(this._latlngs,u?2:o?1:0,!0,t);return o||(d=[d]),Qi(this,{type:(u?"Multi":"")+"Polygon",coordinates:d})}}),Gn.include({toMultiPoint:function(t){var o=[];return this.eachLayer(function(u){o.push(u.toGeoJSON(t).geometry.coordinates)}),Qi(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(t){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(t);var u=o==="GeometryCollection",d=[];return this.eachLayer(function(g){if(g.toGeoJSON){var y=g.toGeoJSON(t);if(u)d.push(y.geometry);else{var E=zs(y);E.type==="FeatureCollection"?d.push.apply(d,E.features):d.push(E)}}}),u?Qi(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function xl(t,o){return new gn(t,o)}var cn=xl,Kn=un.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,o,u){this._url=t,this._bounds=ee(o),K(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ke(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Bi(this._image),this},bringToBack:function(){return this._map&&In(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ee(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",o=this._image=t?this._url:_e("img");if(me(o,"leaflet-image-layer"),this._zoomAnimated&&me(o,"leaflet-zoom-animated"),this.options.className&&me(o,this.options.className),o.onselectstart=k,o.onmousemove=k,o.onload=_(this.fire,this,"load"),o.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(t){var o=this._map.getZoomScale(t.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;sn(this._image,u,o)},_reset:function(){var t=this._image,o=new T(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=o.getSize();it(t,o.min),t.style.width=u.x+"px",t.style.height=u.y+"px"},_updateOpacity:function(){At(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Cl=function(t,o,u){return new Kn(t,o,u)},Qo=Kn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",o=this._image=t?this._url:_e("video");if(me(o,"leaflet-image-layer"),this._zoomAnimated&&me(o,"leaflet-zoom-animated"),this.options.className&&me(o,this.options.className),o.onselectstart=k,o.onmousemove=k,o.onloadeddata=_(this.fire,this,"load"),t){for(var u=o.getElementsByTagName("source"),d=[],g=0;g<u.length;g++)d.push(u[g].src);this._url=u.length>0?d:[o.src];return}Le(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var E=_e("source");E.src=this._url[y],o.appendChild(E)}}});function El(t,o,u){return new Qo(t,o,u)}var Yo=Kn.extend({_initImage:function(){var t=this._image=this._url;me(t,"leaflet-image-layer"),this._zoomAnimated&&me(t,"leaflet-zoom-animated"),this.options.className&&me(t,this.options.className),t.onselectstart=k,t.onmousemove=k}});function qo(t,o,u){return new Yo(t,o,u)}var vn=un.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,o){t&&(t instanceof te||Le(t))?(this._latlng=q(t),K(this,o)):(K(this,t),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&At(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&At(this._container,1),this.bringToFront(),this.options.interactive&&(me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(At(this._container,0),this._removeTimeout=setTimeout(_(Ke,void 0,this._container),200)):Ke(this._container),this.options.interactive&&(Ue(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=q(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bi(this._container),this},bringToBack:function(){return this._map&&In(this._container),this},_prepareOpen:function(t){var o=this._source;if(!o._map)return!1;if(o instanceof An){o=null;var u=this._source._layers;for(var d in u)if(u[d]._map){o=u[d];break}if(!o)return!1;this._source=o}if(!t)if(o.getCenter)t=o.getCenter();else if(o.getLatLng)t=o.getLatLng();else if(o.getBounds)t=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")t.innerHTML=o;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),o=O(this.options.offset),u=this._getAnchor();this._zoomAnimated?it(this._container,t.add(u)):o=o.add(t).add(u);var d=this._containerBottom=-o.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=d+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Ce.include({_initOverlay:function(t,o,u,d){var g=o;return g instanceof t||(g=new t(d).setContent(o)),u&&g.setLatLng(u),g}}),un.include({_initOverlay:function(t,o,u,d){var g=u;return g instanceof t?(K(g,d),g._source=this):(g=o&&!d?o:new t(d,this),g.setContent(u)),g}});var Fs=vn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,vn.prototype.openOn.call(this,t)},onAdd:function(t){vn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof $n||this._source.on("preclick",_n))},onRemove:function(t){vn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof $n||this._source.off("preclick",_n))},getEvents:function(){var t=vn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",o=this._container=_e("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=_e("div",t+"-content-wrapper",o);if(this._contentNode=_e("div",t+"-content",u),br(o),Ts(this._contentNode),de(o,"contextmenu",_n),this._tipContainer=_e("div",t+"-tip-container",o),this._tip=_e("div",t+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=_e("a",t+"-close-button",o);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',de(d,"click",function(g){et(g),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,o=t.style;o.width="",o.whiteSpace="nowrap";var u=t.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),o.width=u+1+"px",o.whiteSpace="",o.height="";var d=t.offsetHeight,g=this.options.maxHeight,y="leaflet-popup-scrolled";g&&d>g?(o.height=g+"px",me(t,y)):Ue(t,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),u=this._getAnchor();it(this._container,o.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,o=parseInt(Ar(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+o,d=this._containerWidth,g=new B(this._containerLeft,-u-this._containerBottom);g._add(Ln(this._container));var y=t.layerPointToContainerPoint(g),E=O(this.options.autoPanPadding),N=O(this.options.autoPanPaddingTopLeft||E),b=O(this.options.autoPanPaddingBottomRight||E),U=t.getSize(),Y=0,ue=0;y.x+d+b.x>U.x&&(Y=y.x+d-U.x+b.x),y.x-Y-N.x<0&&(Y=y.x-N.x),y.y+u+b.y>U.y&&(ue=y.y+u-U.y+b.y),y.y-ue-N.y<0&&(ue=y.y-N.y),(Y||ue)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Y,ue]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Yi=function(t,o){return new Fs(t,o)};Ce.mergeOptions({closePopupOnClick:!0}),Ce.include({openPopup:function(t,o,u){return this._initOverlay(Fs,t,o,u).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),un.include({bindPopup:function(t,o){return this._popup=this._initOverlay(Fs,this._popup,t,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof An||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){an(t);var o=t.layer||t.target;if(this._popup._source===o&&!(o instanceof $n)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=o,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var qi=vn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){vn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){vn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=vn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",o=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=_e("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+S(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var o,u,d=this._map,g=this._container,y=d.latLngToContainerPoint(d.getCenter()),E=d.layerPointToContainerPoint(t),N=this.options.direction,b=g.offsetWidth,U=g.offsetHeight,Y=O(this.options.offset),ue=this._getAnchor();N==="top"?(o=b/2,u=U):N==="bottom"?(o=b/2,u=0):N==="center"?(o=b/2,u=U/2):N==="right"?(o=0,u=U/2):N==="left"?(o=b,u=U/2):E.x<y.x?(N="right",o=0,u=U/2):(N="left",o=b+(Y.x+ue.x)*2,u=U/2),t=t.subtract(O(o,u,!0)).add(Y).add(ue),Ue(g,"leaflet-tooltip-right"),Ue(g,"leaflet-tooltip-left"),Ue(g,"leaflet-tooltip-top"),Ue(g,"leaflet-tooltip-bottom"),me(g,"leaflet-tooltip-"+N),it(g,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&At(this._container,t)},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(o)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ur=function(t,o){return new qi(t,o)};Ce.include({openTooltip:function(t,o,u){return this._initOverlay(qi,t,o,u).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),un.include({bindTooltip:function(t,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(qi,this._tooltip,t,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var o=t?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[o](u),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof An||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var o=typeof t.getElement=="function"&&t.getElement();o&&(de(o,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),de(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var o=typeof t.getElement=="function"&&t.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var o=t.latlng,u,d;this._tooltip.options.sticky&&t.originalEvent&&(u=this._map.mouseEventToContainerPoint(t.originalEvent),d=this._map.containerPointToLayerPoint(u),o=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(o)}});var Bs=mi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var o=t&&t.tagName==="DIV"?t:document.createElement("div"),u=this.options;if(u.html instanceof Element?(ys(o),o.appendChild(u.html)):o.innerHTML=u.html!==!1?u.html:"",u.bgPos){var d=O(u.bgPos);o.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function Tl(t){return new Bs(t)}mi.Default=$i;var Qn=un.extend({options:{tileSize:256,opacity:1,updateWhenIdle:se.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){K(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Ke(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(In(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof B?t:new B(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var o=this.getPane().children,u=-t(-1/0,1/0),d=0,g=o.length,y;d<g;d++)y=o[d].style.zIndex,o[d]!==this._container&&y&&(u=t(u,+y));isFinite(u)&&(this.options.zIndex=u+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!se.ielt9){At(this._container,this.options.opacity);var t=+new Date,o=!1,u=!1;for(var d in this._tiles){var g=this._tiles[d];if(!(!g.current||!g.loaded)){var y=Math.min(1,(t-g.loaded)/200);At(g.el,y),y<1?o=!0:(g.active?u=!0:this._onOpaqueTile(g),g.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),o&&($e(this._fadeFrame),this._fadeFrame=Ge(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=_e("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,o=this.options.maxZoom;if(t!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===t?(this._levels[u].el.style.zIndex=o-Math.abs(t-u),this._onUpdateLevel(u)):(Ke(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var d=this._levels[t],g=this._map;return d||(d=this._levels[t]={},d.el=_e("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=o,d.origin=g.project(g.unproject(g.getPixelOrigin()),t).round(),d.zoom=t,this._setZoomTransform(d,g.getCenter(),g.getZoom()),k(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var t,o,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)o=this._tiles[t],o.retain=o.current;for(t in this._tiles)if(o=this._tiles[t],o.current&&!o.active){var d=o.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var o in this._tiles)this._tiles[o].coords.z===t&&this._removeTile(o)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Ke(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,o,u,d){var g=Math.floor(t/2),y=Math.floor(o/2),E=u-1,N=new B(+g,+y);N.z=+E;var b=this._tileCoordsToKey(N),U=this._tiles[b];return U&&U.active?(U.retain=!0,!0):(U&&U.loaded&&(U.retain=!0),E>d?this._retainParent(g,y,E,d):!1)},_retainChildren:function(t,o,u,d){for(var g=2*t;g<2*t+2;g++)for(var y=2*o;y<2*o+2;y++){var E=new B(g,y);E.z=u+1;var N=this._tileCoordsToKey(E),b=this._tiles[N];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);u+1<d&&this._retainChildren(g,y,u+1,d)}},_resetView:function(t){var o=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var o=this.options;return o.minNativeZoom!==void 0&&t<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<t?o.maxNativeZoom:t},_setView:function(t,o,u,d){var g=Math.round(o);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var y=this.options.updateWhenZooming&&g!==this._tileZoom;(!d||y)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(t),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(t,o)},_setZoomTransforms:function(t,o){for(var u in this._levels)this._setZoomTransform(this._levels[u],t,o)},_setZoomTransform:function(t,o,u){var d=this._map.getZoomScale(u,t.zoom),g=t.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(o,u)).round();se.any3d?sn(t.el,g,d):it(t.el,g)},_resetGrid:function(){var t=this._map,o=t.options.crs,u=this._tileSize=this.getTileSize(),d=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,o.wrapLng[0]],d).x/u.x),Math.ceil(t.project([0,o.wrapLng[1]],d).x/u.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([o.wrapLat[0],0],d).y/u.x),Math.ceil(t.project([o.wrapLat[1],0],d).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var o=this._map,u=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),d=o.getZoomScale(u,this._tileZoom),g=o.project(t,this._tileZoom).floor(),y=o.getSize().divideBy(d*2);return new T(g.subtract(y),g.add(y))},_update:function(t){var o=this._map;if(o){var u=this._clampZoom(o.getZoom());if(t===void 0&&(t=o.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(t),g=this._pxBoundsToTileRange(d),y=g.getCenter(),E=[],N=this.options.keepBuffer,b=new T(g.getBottomLeft().subtract([N,-N]),g.getTopRight().add([N,-N]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var U in this._tiles){var Y=this._tiles[U].coords;(Y.z!==this._tileZoom||!b.contains(new B(Y.x,Y.y)))&&(this._tiles[U].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(t,u);return}for(var ue=g.min.y;ue<=g.max.y;ue++)for(var ge=g.min.x;ge<=g.max.x;ge++){var ft=new B(ge,ue);if(ft.z=this._tileZoom,!!this._isValidTile(ft)){var ut=this._tiles[this._tileCoordsToKey(ft)];ut?ut.current=!0:E.push(ft)}}if(E.sort(function(Dt,nr){return Dt.distanceTo(y)-nr.distanceTo(y)}),E.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wt=document.createDocumentFragment();for(ge=0;ge<E.length;ge++)this._addTile(E[ge],Wt);this._level.el.appendChild(Wt)}}}},_isValidTile:function(t){var o=this._map.options.crs;if(!o.infinite){var u=this._globalTileRange;if(!o.wrapLng&&(t.x<u.min.x||t.x>u.max.x)||!o.wrapLat&&(t.y<u.min.y||t.y>u.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(t);return ee(this.options.bounds).overlaps(d)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var o=this._map,u=this.getTileSize(),d=t.scaleBy(u),g=d.add(u),y=o.unproject(d,t.z),E=o.unproject(g,t.z);return[y,E]},_tileCoordsToBounds:function(t){var o=this._tileCoordsToNwSe(t),u=new J(o[0],o[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var o=t.split(":"),u=new B(+o[0],+o[1]);return u.z=+o[2],u},_removeTile:function(t){var o=this._tiles[t];o&&(Ke(o.el),delete this._tiles[t],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){me(t,"leaflet-tile");var o=this.getTileSize();t.style.width=o.x+"px",t.style.height=o.y+"px",t.onselectstart=k,t.onmousemove=k,se.ielt9&&this.options.opacity<1&&At(t,this.options.opacity)},_addTile:function(t,o){var u=this._getTilePos(t),d=this._tileCoordsToKey(t),g=this.createTile(this._wrapCoords(t),_(this._tileReady,this,t));this._initTile(g),this.createTile.length<2&&Ge(_(this._tileReady,this,t,null,g)),it(g,u),this._tiles[d]={el:g,coords:t,current:!0},o.appendChild(g),this.fire("tileloadstart",{tile:g,coords:t})},_tileReady:function(t,o,u){o&&this.fire("tileerror",{error:o,tile:u,coords:t});var d=this._tileCoordsToKey(t);u=this._tiles[d],u&&(u.loaded=+new Date,this._map._fadeAnimated?(At(u.el,0),$e(this._fadeFrame),this._fadeFrame=Ge(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),o||(me(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),se.ielt9||!this._map._fadeAnimated?Ge(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var o=new B(this._wrapX?A(t.x,this._wrapX):t.x,this._wrapY?A(t.y,this._wrapY):t.y);return o.z=t.z,o},_pxBoundsToTileRange:function(t){var o=this.getTileSize();return new T(t.min.unscaleBy(o).floor(),t.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Xi(t){return new Qn(t)}var Yn=Qn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,o){this._url=t,o=K(this,o),o.detectRetina&&se.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,o){return this._url===t&&o===void 0&&(o=!0),this._url=t,o||this.redraw(),this},createTile:function(t,o){var u=document.createElement("img");return de(u,"load",_(this._tileOnLoad,this,o,u)),de(u,"error",_(this._tileOnError,this,o,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(t),u},getTileUrl:function(t){var o={r:se.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-t.y;this.options.tms&&(o.y=u),o["-y"]=u}return Ne(this._url,h(o,this.options))},_tileOnLoad:function(t,o){se.ielt9?setTimeout(_(t,this,null,o),0):t(null,o)},_tileOnError:function(t,o,u){var d=this.options.errorTileUrl;d&&o.getAttribute("src")!==d&&(o.src=d),t(u,o)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,o=this.options.maxZoom,u=this.options.zoomReverse,d=this.options.zoomOffset;return u&&(t=o-t),t+d},_getSubdomain:function(t){var o=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var t,o;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(o=this._tiles[t].el,o.onload=k,o.onerror=k,!o.complete)){o.src=lt;var u=this._tiles[t].coords;Ke(o),delete this._tiles[t],this.fire("tileabort",{tile:o,coords:u})}},_removeTile:function(t){var o=this._tiles[t];if(o)return o.el.setAttribute("src",lt),Qn.prototype._removeTile.call(this,t)},_tileReady:function(t,o,u){if(!(!this._map||u&&u.getAttribute("src")===lt))return Qn.prototype._tileReady.call(this,t,o,u)}});function Xo(t,o){return new Yn(t,o)}var Hr=Yn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,o){this._url=t;var u=h({},this.defaultWmsParams);for(var d in o)d in this.options||(u[d]=o[d]);o=K(this,o);var g=o.detectRetina&&se.retina?2:1,y=this.getTileSize();u.width=y.x*g,u.height=y.y*g,this.wmsParams=u},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,Yn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var o=this._tileCoordsToNwSe(t),u=this._crs,d=F(u.project(o[0]),u.project(o[1])),g=d.min,y=d.max,E=(this._wmsVersion>=1.3&&this._crs===vl?[g.y,g.x,y.y,y.x]:[g.x,g.y,y.x,y.y]).join(","),N=Yn.prototype.getTileUrl.call(this,t);return N+le(this.wmsParams,N,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+E},setParams:function(t,o){return h(this.wmsParams,t),o||this.redraw(),this}});function Pl(t,o){return new Hr(t,o)}Yn.WMS=Hr,Xo.wms=Pl;var yn=un.extend({options:{padding:.1},initialize:function(t){K(this,t),S(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,o){var u=this._map.getZoomScale(o,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,o),y=d.multiplyBy(-u).add(g).subtract(this._map._getNewPixelOrigin(t,o));se.any3d?sn(this._container,y,u):it(this._container,y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,o=this._map.getSize(),u=this._map.containerPointToLayerPoint(o.multiplyBy(-t)).round();this._bounds=new T(u,u.add(o.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Jo=yn.extend({options:{tolerance:0},getEvents:function(){var t=yn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){yn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");de(t,"mousemove",this._onMouseMove,this),de(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),de(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){$e(this._redrawRequest),delete this._ctx,Ke(this._container),Oe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var o in this._layers)t=this._layers[o],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yn.prototype._update.call(this);var t=this._bounds,o=this._container,u=t.getSize(),d=se.retina?2:1;it(o,t.min),o.width=d*u.x,o.height=d*u.y,o.style.width=u.x+"px",o.style.height=u.y+"px",se.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){yn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[S(t)]=t;var o=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var o=t._order,u=o.next,d=o.prev;u?u.prev=d:this._drawLast=d,d?d.next=u:this._drawFirst=u,delete t._order,delete this._layers[S(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var o=t.options.dashArray.split(/[, ]+/),u=[],d,g;for(g=0;g<o.length;g++){if(d=Number(o[g]),isNaN(d))return;u.push(d)}t.options._dashArray=u}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Ge(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var o=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new T,this._redrawBounds.extend(t._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(t._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var o=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,o=this._redrawBounds;if(this._ctx.save(),o){var u=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)t=d.layer,(!o||t._pxBounds&&t._pxBounds.intersects(o))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,o){if(this._drawing){var u,d,g,y,E=t._parts,N=E.length,b=this._ctx;if(N){for(b.beginPath(),u=0;u<N;u++){for(d=0,g=E[u].length;d<g;d++)y=E[u][d],b[d?"lineTo":"moveTo"](y.x,y.y);o&&b.closePath()}this._fillStroke(b,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var o=t._point,u=this._ctx,d=Math.max(Math.round(t._radius),1),g=(Math.max(Math.round(t._radiusY),1)||d)/d;g!==1&&(u.save(),u.scale(1,g)),u.beginPath(),u.arc(o.x,o.y/g,d,0,Math.PI*2,!1),g!==1&&u.restore(),this._fillStroke(u,t)}},_fillStroke:function(t,o){var u=o.options;u.fill&&(t.globalAlpha=u.fillOpacity,t.fillStyle=u.fillColor||u.color,t.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(t.setLineDash&&t.setLineDash(o.options&&o.options._dashArray||[]),t.globalAlpha=u.opacity,t.lineWidth=u.weight,t.strokeStyle=u.color,t.lineCap=u.lineCap,t.lineJoin=u.lineJoin,t.stroke())},_onClick:function(t){for(var o=this._map.mouseEventToLayerPoint(t),u,d,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(o)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(u))&&(d=u);this._fireEvent(d?[d]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,o)}},_handleMouseOut:function(t){var o=this._hoveredLayer;o&&(Ue(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,o){if(!this._mouseHoverThrottled){for(var u,d,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(o)&&(d=u);d!==this._hoveredLayer&&(this._handleMouseOut(t),d&&(me(this._container,"leaflet-interactive"),this._fireEvent([d],t,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,o,u){this._map._fireDOMEvent(o,u||o.type,t)},_bringToFront:function(t){var o=t._order;if(o){var u=o.next,d=o.prev;if(u)u.prev=d;else return;d?d.next=u:u&&(this._drawFirst=u),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(t)}},_bringToBack:function(t){var o=t._order;if(o){var u=o.next,d=o.prev;if(d)d.next=u;else return;u?u.prev=d:d&&(this._drawLast=d),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(t)}}});function ea(t){return se.canvas?new Jo(t):null}var Ji=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),kl={_initContainer:function(){this._container=_e("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(yn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var o=t._container=Ji("shape");me(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",t._path=Ji("path"),o.appendChild(t._path),this._updateStyle(t),this._layers[S(t)]=t},_addPath:function(t){var o=t._container;this._container.appendChild(o),t.options.interactive&&t.addInteractiveTarget(o)},_removePath:function(t){var o=t._container;Ke(o),t.removeInteractiveTarget(o),delete this._layers[S(t)]},_updateStyle:function(t){var o=t._stroke,u=t._fill,d=t.options,g=t._container;g.stroked=!!d.stroke,g.filled=!!d.fill,d.stroke?(o||(o=t._stroke=Ji("stroke")),g.appendChild(o),o.weight=d.weight+"px",o.color=d.color,o.opacity=d.opacity,d.dashArray?o.dashStyle=Le(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=d.lineCap.replace("butt","flat"),o.joinstyle=d.lineJoin):o&&(g.removeChild(o),t._stroke=null),d.fill?(u||(u=t._fill=Ji("fill")),g.appendChild(u),u.color=d.fillColor||d.color,u.opacity=d.fillOpacity):u&&(g.removeChild(u),t._fill=null)},_updateCircle:function(t){var o=t._point.round(),u=Math.round(t._radius),d=Math.round(t._radiusY||u);this._setPath(t,t._empty()?"M0 0":"AL "+o.x+","+o.y+" "+u+","+d+" 0,"+65535*360)},_setPath:function(t,o){t._path.v=o},_bringToFront:function(t){Bi(t._container)},_bringToBack:function(t){In(t._container)}},hn=se.vml?Ji:wo,_i=yn.extend({_initContainer:function(){this._container=hn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ke(this._container),Oe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yn.prototype._update.call(this);var t=this._bounds,o=t.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,u.setAttribute("width",o.x),u.setAttribute("height",o.y)),it(u,t.min),u.setAttribute("viewBox",[t.min.x,t.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(t){var o=t._path=hn("path");t.options.className&&me(o,t.options.className),t.options.interactive&&me(o,"leaflet-interactive"),this._updateStyle(t),this._layers[S(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Ke(t._path),t.removeInteractiveTarget(t._path),delete this._layers[S(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var o=t._path,u=t.options;o&&(u.stroke?(o.setAttribute("stroke",u.color),o.setAttribute("stroke-opacity",u.opacity),o.setAttribute("stroke-width",u.weight),o.setAttribute("stroke-linecap",u.lineCap),o.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?o.setAttribute("stroke-dasharray",u.dashArray):o.removeAttribute("stroke-dasharray"),u.dashOffset?o.setAttribute("stroke-dashoffset",u.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),u.fill?(o.setAttribute("fill",u.fillColor||u.color),o.setAttribute("fill-opacity",u.fillOpacity),o.setAttribute("fill-rule",u.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(t,o){this._setPath(t,So(t._parts,o))},_updateCircle:function(t){var o=t._point,u=Math.max(Math.round(t._radius),1),d=Math.max(Math.round(t._radiusY),1)||u,g="a"+u+","+d+" 0 1,0 ",y=t._empty()?"M0 0":"M"+(o.x-u)+","+o.y+g+u*2+",0 "+g+-u*2+",0 ";this._setPath(t,y)},_setPath:function(t,o){t._path.setAttribute("d",o)},_bringToFront:function(t){Bi(t._path)},_bringToBack:function(t){In(t._path)}});se.vml&&_i.include(kl);function Ws(t){return se.svg||se.vml?new _i(t):null}Ce.include({getRenderer:function(t){var o=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var o=this._paneRenderers[t];return o===void 0&&(o=this._createRenderer({pane:t}),this._paneRenderers[t]=o),o},_createRenderer:function(t){return this.options.preferCanvas&&ea(t)||Ws(t)}});var Il=Dn.extend({initialize:function(t,o){Dn.prototype.initialize.call(this,this._boundsToLatLngs(t),o)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ee(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function mc(t,o){return new Il(t,o)}_i.create=hn,_i.pointsToPath=So,gn.geometryToLayer=Ki,gn.coordsToLatLng=Rs,gn.coordsToLatLngs=Wr,gn.latLngToCoords=bs,gn.latLngsToCoords=Os,gn.getFeature=Qi,gn.asFeature=zs,Ce.mergeOptions({boxZoom:!0});var er=$t.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){de(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Oe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ke(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Pe(),xs(),this._startPoint=this._map.mouseEventToContainerPoint(t),de(document,{contextmenu:an,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=_e("div","leaflet-zoom-box",this._container),me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var o=new T(this._point,this._startPoint),u=o.getSize();it(this._box,o.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Ke(this._box),Ue(this._container,"leaflet-crosshair")),Hi(),Cs(),Oe(document,{contextmenu:an,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var o=new J(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ce.addInitHook("addHandler","boxZoom",er),Ce.mergeOptions({doubleClickZoom:!0});var Ll=$t.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var o=this._map,u=o.getZoom(),d=o.options.zoomDelta,g=t.originalEvent.shiftKey?u-d:u+d;o.options.doubleClickZoom==="center"?o.setZoom(g):o.setZoomAround(t.containerPoint,g)}});Ce.addInitHook("addHandler","doubleClickZoom",Ll),Ce.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ta=$t.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ln(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ue(this._map._container,"leaflet-grab"),Ue(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=ee(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var o=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(o),this._prunePositions(o)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,o){return t-(t-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;t.x<o.min.x&&(t.x=this._viscousLimit(t.x,o.min.x)),t.y<o.min.y&&(t.y=this._viscousLimit(t.y,o.min.y)),t.x>o.max.x&&(t.x=this._viscousLimit(t.x,o.max.x)),t.y>o.max.y&&(t.y=this._viscousLimit(t.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,o=Math.round(t/2),u=this._initialWorldOffset,d=this._draggable._newPos.x,g=(d-o+u)%t+o-u,y=(d+o+u)%t-o-u,E=Math.abs(g+u)<Math.abs(y+u)?g:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=E},_onDragEnd:function(t){var o=this._map,u=o.options,d=!u.inertia||t.noInertia||this._times.length<2;if(o.fire("dragend",t),d)o.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1e3,E=u.easeLinearity,N=g.multiplyBy(E/y),b=N.distanceTo([0,0]),U=Math.min(u.inertiaMaxSpeed,b),Y=N.multiplyBy(U/b),ue=U/(u.inertiaDeceleration*E),ge=Y.multiplyBy(-ue/2).round();!ge.x&&!ge.y?o.fire("moveend"):(ge=o._limitOffset(ge,o.options.maxBounds),Ge(function(){o.panBy(ge,{duration:ue,easeLinearity:E,noMoveStart:!0,animate:!0})}))}}});Ce.addInitHook("addHandler","dragging",ta),Ce.mergeOptions({keyboard:!0,keyboardPanDelta:80});var na=$t.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),de(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Oe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,o=document.documentElement,u=t.scrollTop||o.scrollTop,d=t.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(d,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var o=this._panKeys={},u=this.keyCodes,d,g;for(d=0,g=u.left.length;d<g;d++)o[u.left[d]]=[-1*t,0];for(d=0,g=u.right.length;d<g;d++)o[u.right[d]]=[t,0];for(d=0,g=u.down.length;d<g;d++)o[u.down[d]]=[0,t];for(d=0,g=u.up.length;d<g;d++)o[u.up[d]]=[0,-1*t]},_setZoomDelta:function(t){var o=this._zoomKeys={},u=this.keyCodes,d,g;for(d=0,g=u.zoomIn.length;d<g;d++)o[u.zoomIn[d]]=t;for(d=0,g=u.zoomOut.length;d<g;d++)o[u.zoomOut[d]]=-t},_addHooks:function(){de(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Oe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var o=t.keyCode,u=this._map,d;if(o in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(d=this._panKeys[o],t.shiftKey&&(d=O(d).multiplyBy(3)),u.options.maxBounds&&(d=u._limitOffset(O(d),u.options.maxBounds)),u.options.worldCopyJump){var g=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(d)));u.panTo(g)}else u.panBy(d)}else if(o in this._zoomKeys)u.setZoom(u.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;an(t)}}});Ce.addInitHook("addHandler","keyboard",na),Ce.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ze=$t.extend({addHooks:function(){de(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Oe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var o=cl(t),u=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var d=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),d),an(t)},_performZoom:function(){var t=this._map,o=t.getZoom(),u=this._map.options.zoomSnap||0;t._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,y=u?Math.ceil(g/u)*u:g,E=t._limitZoom(o+(this._delta>0?y:-y))-o;this._delta=0,this._startTime=null,E&&(t.options.scrollWheelZoom==="center"?t.setZoom(o+E):t.setZoomAround(this._lastMousePos,o+E))}});Ce.addInitHook("addHandler","scrollWheelZoom",ze);var ia=600;Ce.mergeOptions({tapHold:se.touchNative&&se.safari&&se.mobile,tapTolerance:15});var jr=$t.extend({addHooks:function(){de(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Oe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var o=t.touches[0];this._startPos=this._newPos=new B(o.clientX,o.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(de(document,"touchend",et),de(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),ia),de(document,"touchend touchcancel contextmenu",this._cancel,this),de(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Oe(document,"touchend",et),Oe(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Oe(document,"touchend touchcancel contextmenu",this._cancel,this),Oe(document,"touchmove",this._onMove,this)},_onMove:function(t){var o=t.touches[0];this._newPos=new B(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,o){var u=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});u._simulated=!0,o.target.dispatchEvent(u)}});Ce.addInitHook("addHandler","tapHold",jr),Ce.mergeOptions({touchZoom:se.touch,bounceAtZoomLimits:!0});var tr=$t.extend({addHooks:function(){me(this._map._container,"leaflet-touch-zoom"),de(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ue(this._map._container,"leaflet-touch-zoom"),Oe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var o=this._map;if(!(!t.touches||t.touches.length!==2||o._animatingZoom||this._zooming)){var u=o.mouseEventToContainerPoint(t.touches[0]),d=o.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(u.add(d)._divideBy(2))),this._startDist=u.distanceTo(d),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),de(document,"touchmove",this._onTouchMove,this),de(document,"touchend touchcancel",this._onTouchEnd,this),et(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var o=this._map,u=o.mouseEventToContainerPoint(t.touches[0]),d=o.mouseEventToContainerPoint(t.touches[1]),g=u.distanceTo(d)/this._startDist;if(this._zoom=o.getScaleZoom(g,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&g<1||this._zoom>o.getMaxZoom()&&g>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var y=u._add(d)._divideBy(2)._subtract(this._centerPoint);if(g===1&&y.x===0&&y.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),$e(this._animRequest);var E=_(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ge(E,this,!0),et(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$e(this._animRequest),Oe(document,"touchmove",this._onTouchMove,this),Oe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ce.addInitHook("addHandler","touchZoom",tr),Ce.BoxZoom=er,Ce.DoubleClickZoom=Ll,Ce.Drag=ta,Ce.Keyboard=na,Ce.ScrollWheelZoom=ze,Ce.TapHold=jr,Ce.TouchZoom=tr,r.Bounds=T,r.Browser=se,r.CRS=Te,r.Canvas=Jo,r.Circle=Ns,r.CircleMarker=As,r.Class=Xe,r.Control=Ft,r.DivIcon=Bs,r.DivOverlay=vn,r.DomEvent=Ps,r.DomUtil=Rr,r.Draggable=ln,r.Evented=be,r.FeatureGroup=An,r.GeoJSON=gn,r.GridLayer=Qn,r.Handler=$t,r.Icon=mi,r.ImageOverlay=Kn,r.LatLng=te,r.LatLngBounds=J,r.Layer=un,r.LayerGroup=Gn,r.LineUtil=gl,r.Map=Ce,r.Marker=Nn,r.Mixin=Wo,r.Path=$n,r.Point=B,r.PolyUtil=rc,r.Polygon=Dn,r.Polyline=Bt,r.Popup=Fs,r.PosAnimation=ks,r.Projection=uc,r.Rectangle=Il,r.Renderer=yn,r.SVG=_i,r.SVGOverlay=Yo,r.TileLayer=Yn,r.Tooltip=qi,r.Transformation=Ni,r.Util=Et,r.VideoOverlay=Qo,r.bind=_,r.bounds=F,r.canvas=ea,r.circle=Br,r.circleMarker=Sl,r.control=Vn,r.divIcon=Tl,r.extend=h,r.featureGroup=yl,r.geoJSON=xl,r.geoJson=cn,r.gridLayer=Xi,r.icon=wl,r.imageOverlay=Cl,r.latLng=q,r.latLngBounds=ee,r.layerGroup=Fr,r.map=Zn,r.marker=dc,r.point=O,r.polygon=pc,r.polyline=fc,r.popup=Yi,r.rectangle=mc,r.setOptions=K,r.stamp=S,r.svg=Ws,r.svgOverlay=qo,r.tileLayer=Xo,r.tooltip=Ur,r.transformation=Di,r.version=l,r.videoOverlay=El;var Ml=window.L;r.noConflict=function(){return window.L=Ml,this},window.L=r})}(Pa,Pa.exports)),Pa.exports}var Zd=oS();const aS=km(Zd);function lS(s,n,r){return Object.freeze({instance:s,context:n,container:r})}function uS(s,n){return n==null?function(l,h){const p=ve.useRef();return p.current||(p.current=s(l,h)),p}:function(l,h){const p=ve.useRef();p.current||(p.current=s(l,h));const _=ve.useRef(l),{instance:w}=p.current;return ve.useEffect(function(){_.current!==l&&(n(w,l,_.current),_.current=l)},[w,l,h]),p}}function cS(s,n){ve.useEffect(function(){return(n.layerContainer??n.map).addLayer(s.instance),function(){var p;(p=n.layerContainer)==null||p.removeLayer(s.instance),n.map.removeLayer(s.instance)}},[n,s])}function hS(s){return function(r){const l=tg(),h=s(ng(r,l),l);return J1(l.map,r.attribution),rS(h.current,r.eventHandlers),cS(h.current,l),h}}function dS(s,n){const r=uS(s,n),l=hS(r);return iS(l)}function fS(s,n,r){const{opacity:l,zIndex:h}=n;l!=null&&l!==r.opacity&&s.setOpacity(l),h!=null&&h!==r.zIndex&&s.setZIndex(h)}function pS(){return tg().map}function sd(){return sd=Object.assign||function(s){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])}return s},sd.apply(this,arguments)}function mS({bounds:s,boundsOptions:n,center:r,children:l,className:h,id:p,placeholder:_,style:w,whenReady:S,zoom:x,...A},k){const[M]=ve.useState({className:h,id:p,style:w}),[Z,Q]=ve.useState(null);ve.useImperativeHandle(k,()=>(Z==null?void 0:Z.map)??null,[Z]);const K=ve.useCallback(Ie=>{if(Ie!==null&&Z===null){const Ne=new Zd.Map(Ie,A);r!=null&&x!=null?Ne.setView(r,x):s!=null&&Ne.fitBounds(s,n),S!=null&&Ne.whenReady(S),Q(tS(Ne))}},[]);ve.useEffect(()=>()=>{Z==null||Z.map.remove()},[Z]);const le=Z?zh.createElement(nS,{value:Z},l):_??null;return zh.createElement("div",sd({},M,{ref:K}),le)}const _S=ve.forwardRef(mS),gS=dS(function({url:n,...r},l){const h=new Zd.TileLayer(n,ng(r,l));return lS(h,l)},function(n,r,l){fS(n,r,l);const{url:h}=r;h!=null&&h!==l.url&&n.setUrl(h)});(function(){function s(n){return this instanceof s?(this._canvas=n=typeof n=="string"?document.getElementById(n):n,this._ctx=n.getContext("2d"),this._width=n.width,this._height=n.height,this._max=1,void this.clear()):new s(n)}s.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(n,r){return this._data=n,this},max:function(n){return this._max=n,this},add:function(n){return this._data.push(n),this},clear:function(){return this._data=[],this},radius:function(n,r){r=r||15;var l=this._circle=document.createElement("canvas"),h=l.getContext("2d"),p=this._r=n+r;return l.width=l.height=2*p,h.shadowOffsetX=h.shadowOffsetY=200,h.shadowBlur=r,h.shadowColor="black",h.beginPath(),h.arc(p-200,p-200,n,0,2*Math.PI,!0),h.closePath(),h.fill(),this},gradient:function(n){var r=document.createElement("canvas"),l=r.getContext("2d"),h=l.createLinearGradient(0,0,0,256);r.width=1,r.height=256;for(var p in n)h.addColorStop(p,n[p]);return l.fillStyle=h,l.fillRect(0,0,1,256),this._grad=l.getImageData(0,0,1,256).data,this},draw:function(n){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var r=this._ctx;r.clearRect(0,0,this._width,this._height);for(var l,h=0,p=this._data.length;p>h;h++)l=this._data[h],r.globalAlpha=Math.max(l[2]/this._max,n||.05),r.drawImage(this._circle,l[0]-this._r,l[1]-this._r);var _=r.getImageData(0,0,this._width,this._height);return this._colorize(_.data,this._grad),r.putImageData(_,0,0),this},_colorize:function(n,r){for(var l,h=3,p=n.length;p>h;h+=4)l=4*n[h],l&&(n[h-3]=r[l],n[h-2]=r[l+1],n[h-1]=r[l+2])}},window.simpleheat=s})(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(s,n){this._latlngs=s,L.setOptions(this,n)},setLatLngs:function(s){return this._latlngs=s,this.redraw()},addLatLng:function(s){return this._latlngs.push(s),this.redraw()},setOptions:function(s){return L.setOptions(this,s),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(s){this._map=s,this._canvas||this._initCanvas(),s._panes.overlayPane.appendChild(this._canvas),s.on("moveend",this._reset,this),s.options.zoomAnimation&&L.Browser.any3d&&s.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(s){s.getPanes().overlayPane.removeChild(this._canvas),s.off("moveend",this._reset,this),s.options.zoomAnimation&&s.off("zoomanim",this._animateZoom,this)},addTo:function(s){return s.addLayer(this),this},_initCanvas:function(){var s=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),n=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);s.style[n]="50% 50%";var r=this._map.getSize();s.width=r.x,s.height=r.y;var l=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(s,"leaflet-zoom-"+(l?"animated":"hide")),this._heat=simpleheat(s),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var s=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,s);var n=this._map.getSize();this._heat._width!==n.x&&(this._canvas.width=this._heat._width=n.x),this._heat._height!==n.y&&(this._canvas.height=this._heat._height=n.y),this._redraw()},_redraw:function(){var s,n,r,l,h,p,_,w,S,x=[],A=this._heat._r,k=this._map.getSize(),M=new L.Bounds(L.point([-A,-A]),k.add([A,A])),Z=this.options.max===void 0?1:this.options.max,Q=this.options.maxZoom===void 0?this._map.getMaxZoom():this.options.maxZoom,K=1/Math.pow(2,Math.max(0,Math.min(Q-this._map.getZoom(),12))),le=A/2,Ie=[],Ne=this._map._getMapPanePos(),Le=Ne.x%le,Be=Ne.y%le;for(s=0,n=this._latlngs.length;n>s;s++)if(r=this._map.latLngToContainerPoint(this._latlngs[s]),M.contains(r)){h=Math.floor((r.x-Le)/le)+2,p=Math.floor((r.y-Be)/le)+2;var lt=this._latlngs[s].alt!==void 0?this._latlngs[s].alt:this._latlngs[s][2]!==void 0?+this._latlngs[s][2]:1;S=lt*K,Ie[p]=Ie[p]||[],l=Ie[p][h],l?(l[0]=(l[0]*l[2]+r.x*S)/(l[2]+S),l[1]=(l[1]*l[2]+r.y*S)/(l[2]+S),l[2]+=S):Ie[p][h]=[r.x,r.y,S]}for(s=0,n=Ie.length;n>s;s++)if(Ie[s])for(_=0,w=Ie[s].length;w>_;_++)l=Ie[s][_],l&&x.push([Math.round(l[0]),Math.round(l[1]),Math.min(l[2],Z)]);this._heat.data(x).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(s){var n=this._map.getZoomScale(s.zoom),r=this._map._getCenterOffset(s.center)._multiplyBy(-n).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,r,n):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(r)+" scale("+n+")"}}),L.heatLayer=function(s,n){return new L.HeatLayer(s,n)};function vS({userLocations:s}){const n=pS();return zh.useEffect(()=>{n.eachLayer(l=>{l.options&&l.options.pane==="overlayPane"&&n.removeLayer(l)});const r=s.map(l=>[l.lat,l.lng]);r.length>0&&aS.heatLayer(r,{radius:25,blur:1,maxZoom:17}).addTo(n)},[s,n]),null}function yS({userLocations:s}){const n=[32.75491,-117.205];return ae.jsxs("div",{className:"mb-2 mt-4 p-4 bg-gray-900 rounded-lg shadow-lg text-center w-full max-w-2xl",children:[ae.jsx("h2",{className:"text-md font-bold text-neon-purple mb-2 text-center",children:"See Where Other Users are Checked In!"}),ae.jsx("div",{className:"w-full h-96",children:ae.jsxs(_S,{center:n,zoom:12,className:"w-full h-full rounded-lg z-0",children:[ae.jsx(gS,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'}),ae.jsx(vS,{userLocations:s})]})})]})}const Pm=["The Owl San Diego","Mavericks Beach Club","Nova SD","Hideaway","PB Shore Club","Parq","The Duck Dive","Side Bar","Phantom Lounge and Nightclub","The Casbah","The Rail","Oxford Social Club","The Tipsy Crow","Onyx","F6ix","Bloom","Omertà","Sevilla","Mr Tempo","TORO","Prohibition Lounge","Spin","Moonshine Flats","710 Beach Club","Lahaina Beach House","PB Avenue","Moonshine Beach","Thrusters Lounge","The Local","Open Bar","Tavern at the Beach","Silver Fox Lounge","The Collective","Firehouse","Nolita Hall","Camino Riviera","Waterfront","Waterbar","Beachcomber","Sidecar","Park & Rec","American Junkie","Lafayette"],wS={"The Owl San Diego":"https://www.google.com/maps/dir//420+E+St,+San+Diego,+CA+92101/@32.7147923,-117.2430872,12z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80d9534cb0a81c6d:0x5019f947b72d2e76!2m2!1d-117.160686!2d32.7148192?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Mavericks Beach Club":"https://www.google.com/maps/dir//860+Garnet+Ave,+San+Diego,+CA+92109/@32.7969665,-117.33696,12z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80dc01ed4a33ca67:0xe5ccf145c43dc856!2m2!1d-117.2545606!2d32.79694?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Nova SD":"https://www.google.com/maps/dir//NOVA+SD,+Sixth+Avenue,+San+Diego,+CA/@32.7101391,-117.200703,13z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80d953f3984d8373:0xb88af52513d84244!2m2!1d-117.1594389!2d32.7103071?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",Hideaway:"https://www.google.com/maps/dir//4474+Mission+Blvd,+San+Diego,+CA+92109/@32.7961665,-117.3379473,12z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80dc01001f5b1d7f:0x668aa995fcd00ddf!2m2!1d-117.2555461!2d32.7961935?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","PB Shore Club":"https://www.google.com/maps/dir//4343+Ocean+Blvd,+San+Diego,+CA+92109/@32.7941901,-117.3382093,12z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80dc01f27f56f293:0x97c43960eb48a464!2m2!1d-117.2558081!2d32.7942171?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",Parq:"https://www.google.com/maps?rlz=1C5CHFA_enUS920US923&gs_lcrp=EgZjaHJvbWUqFggBEC4YgwEYrwEYxwEYsQMYgAQYjgUyEAgAEAAYgwEY4wIYsQMYgAQyFggBEC4YgwEYrwEYxwEYsQMYgAQYjgUyEAgCEC4YrwEYxwEYgAQYjgUyCQgDEAAYChiABDINCAQQABiSAxiABBiKBTINCAUQABiSAxiABBiKBTIJCAYQABgKGIAEMg0IBxAAGIMBGLEDGIAEMgcICBAAGI8CMgcICRAAGI8C0gEIMjU1MGowajeoAgCwAgA&um=1&ie=UTF-8&fb=1&gl=us&sa=X&geocode=KYMRw4OnVNmAMZCeW4E7HeND&daddr=615+Broadway,+San+Diego,+CA+92101","The Duck Dive":"https://www.google.com/maps/dir//4650+Mission+Blvd,+San+Diego,+CA+92109/@32.7985183,-117.3387285,12z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80dc018d6698aebd:0x4cbe323a6529d2b8!2m2!1d-117.2562648!2d32.7985589?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Side Bar":"https://www.google.com/maps/dir//Side+Bar,+6th+St,+San+Diego,+CA/@32.711662,-117.2006022,13z/data=!3m1!5s0x80d95359a4e152fb:0xf3c479bdd8d3d169!4m8!4m7!1m0!1m5!1m1!1s0x80d95359a4f71dad:0xd2b90b558faaa352!2m2!1d-117.1594024!2d32.7116687?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Phantom Lounge and Nightclub":"https://www.google.com/maps/dir//Phantom+Lounge+and+Nightclub,+Fifth+Avenue,+San+Diego,+CA/@32.7161033,-117.2015132,13z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80d954a7eb148127:0x44196b16bdd29423!2m2!1d-117.1603191!2d32.7161098?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","The Casbah":"https://www.google.com/maps/dir//2501+Kettner+Blvd,+San+Diego,+CA+92101/@32.7302243,-117.254322,12z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80d954b4e0c59087:0x9856d4b4f58e630d!2m2!1d-117.1719232!2d32.7302504?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","The Rail":"https://www.google.com/maps/dir//The+Rail,+Fifth+Avenue,+San+Diego,+CA/@32.7468236,-117.2019392,13z/data=!3m1!5s0x80d954daba064b2d:0xfac8d05b29e51124!4m8!4m7!1m0!1m5!1m1!1s0x80d954dab76bd2c1:0x1a9b56ef49ce662!2m2!1d-117.1607394!2d32.7468303?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Oxford Social Club":"https://www.google.com/maps/dir//Oxford+Social+Club,+Fifth+Avenue,+San+Diego,+CA/@32.7099353,-117.2011073,13z/data=!3m1!5s0x80d954daba064b2d:0xfac8d05b29e51124!4m8!4m7!1m0!1m5!1m1!1s0x80d953598b01edd1:0x70fd57ffd095aa19!2m2!1d-117.1599652!2d32.7099594?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","The Tipsy Crow":"https://www.google.com/maps/dir//The+Tipsy+Crow,+Fifth+Avenue,+San+Diego,+CA/@32.7134629,-117.2015364,13z/data=!3m2!4b1!5s0x80d954daba064b2d:0xfac8d05b29e51124!4m8!4m7!1m0!1m5!1m1!1s0x80d953584079c39f:0x6b62100a8ea8f55b!2m2!1d-117.1603229!2d32.7134995?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",Onyx:"https://www.google.com/maps/dir//Onyx+Nightclub,+Fifth+Avenue,+San+Diego,+CA/@32.7143675,-117.2015212,13z/data=!3m2!4b1!5s0x80d954daba064b2d:0xfac8d05b29e51124!4m8!4m7!1m0!1m5!1m1!1s0x80d9535872cb4d5f:0xb235e251e95ae194!2m2!1d-117.1603214!2d32.7143742?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",F6ix:"https://www.google.com/maps/dir//F6ix,+F+Street,+San+Diego,+CA/@32.7137283,-117.2008865,13z/data=!3m2!4b1!5s0x80d954daba064b2d:0xfac8d05b29e51124!4m8!4m7!1m0!1m5!1m1!1s0x80d9535842863f95:0xd8e8315e4f2df1f0!2m2!1d-117.1596867!2d32.713735?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",Bloom:"https://www.google.com/maps/dir//Bloom+Nightclub,+Fourth+Avenue,+San+Diego,+CA/@32.7147662,-117.2018293,13z/data=!3m2!4b1!5s0x80d954daba064b2d:0xfac8d05b29e51124!4m8!4m7!1m0!1m5!1m1!1s0x80d955738175f68b:0xa29e164aa485c40b!2m2!1d-117.1606295!2d32.7147729?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",Omertà:"https://www.google.com/maps/dir//Omert%C3%A0,+Fifth+Avenue,+San+Diego,+CA/@32.7133939,-117.2011198,13z/data=!3m2!4b1!5s0x80d954daba064b2d:0xfac8d05b29e51124!4m8!4m7!1m0!1m5!1m1!1s0x80d953f3e4c03593:0x3cf954846d4d86f7!2m2!1d-117.15992!2d32.7134006?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",Sevilla:"https://www.google.com/maps/dir//Sevilla+Nightclub+of+San+Diego,+Fifth+Avenue,+San+Diego,+CA/@32.7089068,-117.2008934,13z/data=!3m2!4b1!5s0x80d954daba064b2d:0xfac8d05b29e51124!4m8!4m7!1m0!1m5!1m1!1s0x80d9535a3bb8a035:0xf32dbb01a11ac53a!2m2!1d-117.1597593!2d32.708913?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Mr Tempo":"https://www.google.com/maps/dir//Mr+Tempo+Gaslamp+San+Diego,+Fifth+Avenue,+San+Diego,+CA/@32.7127076,-117.2011452,13z/data=!3m2!4b1!5s0x80d954daba064b2d:0xfac8d05b29e51124!4m8!4m7!1m0!1m5!1m1!1s0x80d95367ff5b792d:0x14eca75f6af381a8!2m2!1d-117.1599454!2d32.7127143?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",TORO:"https://www.google.com/maps/dir//TORO,+Fifth+Avenue,+San+Diego,+CA/@32.7124125,-117.2016055,13z/data=!3m2!4b1!5s0x80d954daba064b2d:0xfac8d05b29e51124!4m8!4m7!1m0!1m5!1m1!1s0x80d9530b1afdc975:0x43c1f338f12b2d7f!2m2!1d-117.1602967!2d32.7123966?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Prohibition Lounge":"https://www.google.com/maps/dir//Prohibition+Lounge,+Fifth+Avenue,+San+Diego,+CA/@32.7111088,-117.2015526,13z/data=!3m2!4b1!5s0x80d95359c06594ff:0x3166420b734815bc!4m8!4m7!1m0!1m5!1m1!1s0x80d95359969f1e8d:0x80cb5720a7079ba3!2m2!1d-117.1603528!2d32.7111155?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",Spin:"https://www.google.com/maps/dir//Spin+Nightclub,+Hancock+Street,+San+Diego,+CA/@32.7445654,-117.2293474,13z/data=!3m1!5s0x80d95359c06594ff:0x3166420b734815bc!4m8!4m7!1m0!1m5!1m1!1s0x80deab242d3119e5:0xb8d04372de076287!2m2!1d-117.1881637!2d32.7445481?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Moonshine Flats":"https://www.google.com/maps/dir//Moonshine+Flats,+Seventh+Avenue,+San+Diego,+CA/@32.7089493,-117.199623,13z/data=!3m1!5s0x80d95359c06594ff:0x3166420b734815bc!4m8!4m7!1m0!1m5!1m1!1s0x80d9535bcbbdbbf3:0x70f8f39ad9af97b1!2m2!1d-117.1584272!2d32.708955?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","710 Beach Club":"https://www.google.com/maps/dir//710+Beach+Club,+Garnet+Avenue,+San+Diego,+CA/@32.7965157,-117.2976933,13z/data=!3m1!5s0x80d95359c06594ff:0x3166420b734815bc!4m8!4m7!1m0!1m5!1m1!1s0x80dc01f2ae65c6af:0x99146f5ac448de12!2m2!1d-117.2564872!2d32.7965637?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Lahaina Beach House":"https://www.google.com/maps/dir//Lahaina+Beach+House,+Oliver+Court,+San+Diego,+CA/@32.7917427,-117.2963409,13z/data=!3m2!4b1!5s0x80d95359c06594ff:0x3166420b734815bc!4m8!4m7!1m0!1m5!1m1!1s0x80dc01ee061546bd:0xbd48db964c21ad6c!2m2!1d-117.2550899!2d32.7917616?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","PB Avenue":"https://www.google.com/maps/dir//PB+Avenue,+Garnet+Avenue,+San+Diego,+CA/@32.7979223,-117.2918438,13z/data=!3m2!4b1!5s0x80d95359c06594ff:0x3166420b734815bc!4m8!4m7!1m0!1m5!1m1!1s0x80dc01ecade3c4b9:0x8e6a606260c46304!2m2!1d-117.250644!2d32.797929?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Moonshine Beach":"https://www.google.com/maps/dir//Moonshine+Beach,+Garnet+Avenue,+San+Diego,+CA/@32.7979634,-117.2896629,13z/data=!3m2!4b1!5s0x80d95359c06594ff:0x3166420b734815bc!4m8!4m7!1m0!1m5!1m1!1s0x80dc01eb38c46dc3:0x5808904c07a7b1f2!2m2!1d-117.2484565!2d32.797999?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Thrusters Lounge":"https://www.google.com/maps/dir//Thrusters+Lounge,+Mission+Boulevard,+San+Diego,+CA/@32.7982273,-117.2969628,13z/data=!3m2!4b1!5s0x80d95359c06594ff:0x3166420b734815bc!4m8!4m7!1m0!1m5!1m1!1s0x80dc018d5f89c50b:0xf1f9875f9b06e172!2m2!1d-117.2558522!2d32.7982176?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","The Local":"https://www.google.com/maps/dir//809+Thomas+Ave,+San+Diego,+CA+92109/@32.7936275,-117.3363491,12z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80dc01edbf3c2c65:0x2f493bf3ca6c6079!2m2!1d-117.2540394!2d32.7936796?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Open Bar":"https://www.google.com/maps/dir//Open+Bar,+Mission+Boulevard,+San+Diego,+CA/@32.7937911,-117.2960545,13z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80dc01ed96ac9633:0x4b0c8d05f128d28c!2m2!1d-117.2548546!2d32.7937491?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Tavern at the Beach":"https://www.google.com/maps/dir//Tavern+at+the+Beach,+Garnet+Avenue,+San+Diego,+CA/@32.7984768,-117.2892881,13z/data=!3m1!4b1!4m8!4m7!1m0!1m5!1m1!1s0x80dc01eb37514d83:0x358745da5581e5a5!2m2!1d-117.2480576!2d32.7983846?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Silver Fox Lounge":"https://www.google.com/maps/dir//The+Silver+Fox+Lounge,+Garnet+Avenue,+San+Diego,+CA/@32.8005407,-117.2774869,13z/data=!3m1!4b1!4m8!4m7!1m0!1m5!1m1!1s0x80dc01c774748387:0xa39b4fb191cf801e!2m2!1d-117.2362871!2d32.8005474?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","The Collective":"https://www.google.com/maps/dir//The+Collective,+Garnet+Avenue,+San+Diego,+CA/@32.7982636,-117.2879825,13z/data=!3m1!4b1!4m8!4m7!1m0!1m5!1m1!1s0x80dc01ce7fc3aa59:0xf2501c9f34e7985!2m2!1d-117.2468131!2d32.7983677?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",Firehouse:"https://www.google.com/maps/dir//Firehouse+American+Eatery+%26+Lounge,+Grand+Avenue,+San+Diego,+CA/@32.7947957,-117.2967235,13z/data=!3m1!4b1!4m8!4m7!1m0!1m5!1m1!1s0x80dc01ed7c120c7f:0xa18cdb473d169ff1!2m2!1d-117.2555753!2d32.7947897?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Nolita Hall":"https://www.google.com/maps/dir//Nolita+Hall,+India+Street,+San+Diego,+CA/@32.728561,-117.2113885,13z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80d955913bee6bf9:0x8bf38d28551a3fd2!2m2!1d-117.1702488!2d32.7285764?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Camino Riviera":"https://www.google.com/maps/dir//Camino+Riviera,+India+Street,+San+Diego,+CA/@32.7294067,-117.2121488,13z/data=!3m1!4b1!4m8!4m7!1m0!1m5!1m1!1s0x80d954b48b162d19:0xe99ec63692a39c2e!2m2!1d-117.1709429!2d32.7294262?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",Waterfront:"https://www.google.com/maps/dir//2044+Kettner+Blvd,+San+Diego,+CA+92101/@32.7256045,-117.2526514,12z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80d954b254babbb7:0x2ca8e2b66ea7a63b!2m2!1d-117.1702169!2d32.7256472?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",Waterbar:"https://www.google.com/maps/dir//Waterbar,+Ocean+Boulevard,+San+Diego,+CA/@32.7939291,-117.2968878,13z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80dc015375084dbd:0x634c6477aeb3b63c!2m2!1d-117.255688!2d32.7939358?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",Beachcomber:"https://www.google.com/maps/dir//Beachcomber,+Mission+Boulevard,+San+Diego,+CA/@32.7657266,-117.2922311,13z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80deaa11ec763f7d:0xf7912f6359f52908!2m2!1d-117.251111!2d32.7657344?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",Sidecar:"https://www.google.com/maps/dir//Sidecar+Bar,+Morena+Boulevard,+San+Diego,+CA/@32.771923,-117.2435618,13z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80deaa946d2899ff:0x96ee9d4bda91acc9!2m2!1d-117.202362!2d32.7719297?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","Park & Rec":"https://www.google.com/maps/dir//Park+%26+Rec,+Park+Boulevard,+San+Diego,+CA/@32.7613763,-117.1878217,13z/data=!3m1!5s0x80d9551e48530d97:0xb1935eacdbc64fe3!4m8!4m7!1m0!1m5!1m1!1s0x80d9551e499e69ad:0x56dc709d96ebf5e5!2m2!1d-117.1466219!2d32.761383?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D","American Junkie":"https://www.google.com/maps/dir//American+Junkie,+Fifth+Avenue,+San+Diego,+CA/@32.7121188,-117.2015705,13z/data=!3m1!5s0x80d9551e48530d97:0xb1935eacdbc64fe3!4m8!4m7!1m0!1m5!1m1!1s0x80d95359ca427f0b:0xb7463c3520c7b591!2m2!1d-117.1603707!2d32.7121255?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D",Lafayette:"https://www.google.com/maps/dir//2223+El+Cajon+Blvd,+San+Diego,+CA+92104/@32.7548874,-117.2230642,12z/data=!4m8!4m7!1m0!1m5!1m1!1s0x80d954e48e9c792f:0xf683f1f59b87baf5!2m2!1d-117.1406668!2d32.7549633?entry=ttu&g_ep=EgoyMDI1MDEyOS4xIKXMDSoASAFQAw%3D%3D"},SS=["Mavericks Beach Club: Come watch Super Bowl LIX on February 9th!","Most Underrated: The Duck Dive (check it out!)","Newest Venue Added: Hideaway","Longest Top Rated Streak: Parq","Hideaway: HAPPY HOUR from 3-6:30PM Monday thru Friday!","710 Beach Club: Trivia Night EVERY Tuesday @ 7:00PM","Firehouse: DJ GMRF performing June 4 @ 9:00PM","The Collective: Jam Night EVERY Wednesday 7-11PM","Silver Fox Lounge: Voted Best Happy Hour and Best Neighborhood Bar in SD!","Lahaina Beach Houe: Best Sunsets since '83","Moonshine Beach: Ty Myers brings The Select Tour on Wednesday May 21!","Mr Tempo: Banda EVERY Friday from 8PM-2AM","Side Bar: LIMITED SPOTS for DJ Master Class February 2 thru February 6!","Spin Nightclub: Damien Shane B2B Yoey performing January 30!"],xS=s=>s>=7?"text-green-500":s<5?"text-red-500":"text-gray-200",CS=s=>s?Math.min(1,s/10):0,ES=()=>{const[s,n]=ve.useState({}),[r,l]=ve.useState(new Set),[h,p]=ve.useState(null),[_,w]=ve.useState(Pm.reduce((W,O)=>(W[O]=[],W),{})),[S,x]=ve.useState(""),[A,k]=ve.useState(!1),[M,Z]=ve.useState(""),[Q,K]=ve.useState(""),[le,Ie]=ve.useState(""),[Ne,Le]=ve.useState(null),[Be,lt]=ve.useState(""),[qe,ht]=ve.useState({}),[Ct,Zt]=ve.useState(new Set),[Vt,Ge]=ve.useState([]);ve.useEffect(()=>{const W=ti(ni,"ratings");Ta(W,O=>{const T=O.val();T&&n(T)})},[]),ve.useEffect(()=>{const W=ti(ni,"userLocations"),O=Ta(W,T=>{if(T.exists()){const F=T.val(),J=Object.values(F);Ge(J)}else Ge([])});return()=>O()},[]),ve.useEffect(()=>{const W=ti(ni,"checkIns");Ta(W,O=>{const T=O.val()||{};ht(T)})},[]),ve.useEffect(()=>{const W=ti(ni,"topRating");Ta(W,O=>{const T=O.val();Le(T||null)})},[]),ve.useEffect(()=>{if(!h)return;const W=ti(ni,`comments/${h}`),O=Ta(W,T=>{const F=T.val();if(F){const J=Object.values(F).sort((ee,te)=>te.timestamp-ee.timestamp);w(ee=>({...ee,[h]:J}))}else w(J=>({...J,[h]:[]}))});return()=>O()},[h]);const $e=W=>{const O=s[W];if(!O||O.count===0)return ae.jsx("span",{className:"text-gray-400",children:"No ratings yet"});const T=O.total/O.count,F=xS(T);return ae.jsx("span",{className:F,children:T.toFixed(1)})},Et=()=>{if(!S.trim()||!h)return;const W=Date.now(),O=ti(ni,`comments/${h}/${W}`);yu(O,{text:S,timestamp:W}),x("")},Xe=(W,O)=>{if(r.has(W)){alert("You have already rated this location.");return}const T=ti(ni,`ratings/${W}`),F=s[W]||{total:0,count:0};yu(T,{total:F.total+O,count:F.count+1}),l(J=>new Set(J).add(W))},Gt=()=>{if(le.trim()){alert("Spam detected! Honeypot field was filled.");return}if(!M.trim()||!Q.trim())return;const W=Date.now(),O=ti(ni,`clubSubmissions/${W}`);yu(O,{email:M,message:Q,timestamp:W}),Z(""),K(""),k(!1),alert("Your message was submitted successfully! Thank you for improving Club Hoppr!")},De=W=>{if(Ct.has(W)){alert("You have already checked in at this location.");return}"geolocation"in navigator?navigator.geolocation.getCurrentPosition(O=>{var te;const{latitude:T,longitude:F}=O.coords,J=k1(ti(ni,"userLocations"));I1(J,{lat:T,lng:F,timestamp:Date.now()});const ee=((te=qe[W])==null?void 0:te.count)||0;yu(ti(ni,`checkIns/${W}`),{count:ee+1}).then(()=>{console.log(`Check-in successful for ${W}`),Zt(q=>new Set(q).add(W))}).catch(q=>console.error("Check-in failed:",q))},O=>{console.error("Error getting geolocation:",O),alert("Unable to retrieve location. Check-in canceled. Check your settings to make sure your browser can access your location.")}):alert("Geolocation is not supported by your browser.")},B=[...Pm].sort((W,O)=>{const T=s[W],F=s[O],J=T&&T.count>0?T.total/T.count:0;return(F&&F.count>0?F.total/F.count:0)-J}).filter(W=>W.toLowerCase().includes(Be.toLowerCase()));return ae.jsxs("div",{className:"min-h-screen w-screen flex flex-col items-center bg-black pt-0 p-4",children:[ae.jsx(X1,{items:SS}),ae.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-b from-purple-500 to-violet-800 bg-clip-text text-transparent mb-6 text-center",children:"CLUB HOPPR"}),ae.jsx("h2",{className:"text-1xl font-bold text-neon-purple mb-6 text-center",children:"Give YOUR Rating of the Hottest Spots in Downtown SD & PB!"}),Ne&&ae.jsxs("div",{className:"mb-6 p-4 bg-gray-900 rounded-lg shadow-lg text-center",children:[ae.jsx("h2",{className:"text-md font-bold text-neon-purple mb-2 text-center",children:"⭐️ Top Rated from the Previous Night ⭐️"}),ae.jsx("h3",{className:"text-white font-bold text-3xl mt-2 mb-1 text-center",children:Ne.club}),ae.jsxs("p",{className:"text-yellow-400",children:["Average Rating: ",Ne.average.toFixed(1)]})]}),ae.jsx("div",{className:"w-full max-w-md mb-6",children:ae.jsx("input",{type:"text",className:"w-full p-2 rounded bg-gray-800 text-white",placeholder:"Search for a club...",value:Be,onChange:W=>lt(W.target.value)})}),ae.jsx("div",{className:"w-screen max-w-2xl bg-gray-900 shadow-lg rounded-lg p-4 sm:p-6 md:p-8",children:B.map(W=>{var J;const O=s[W];let T=null;O&&O.count>0&&(T=O.total/O.count);const F=T?CS(T):0;return qe[W],ae.jsxs("div",{className:"border-b border-neon-purple py-4",children:[ae.jsx("button",{className:"float-right px-4 py-2 text-sm sm:text-base sm:px-6 sm:py-3 bg-neon-purple text-black rounded hover:bg-purple-800 disabled:opacity-50",onClick:()=>p(W),children:"View Comments"}),ae.jsxs("h2",{className:"text-2xl font-semibold text-white mb-2",children:[ae.jsx("a",{href:wS[W]||"#",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:underline",children:W}),T&&ae.jsx("span",{style:{marginLeft:"0.5rem",opacity:F},"aria-label":"Fire Emoji",children:"🔥"})]}),ae.jsxs("p",{className:"text-gray-400 mb-2",children:["Average Rating: ",$e(W)]}),ae.jsx("div",{className:"flex flex-wrap space-x-1 mb-2",children:[1,2,3,4,5,6,7,8,9,10].map(ee=>ae.jsx("button",{onClick:()=>Xe(W,ee),className:"px-2 py-0.5 bg-neon-purple text-black rounded hover:bg-purple-800 disabled:opacity-50",disabled:r.has(W),children:ee},ee))}),ae.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[ae.jsx("button",{onClick:()=>De(W),className:"bg-blue-600 px-3 py-1 rounded hover:bg-blue-700 text-white",children:"Check In"}),ae.jsxs("p",{className:"text-white",children:["Crowd Meter: ",ae.jsx("span",{className:"text-yellow-400 font-bold",children:((J=qe[W])==null?void 0:J.count)||0})," people"]})]})]},W)})}),ae.jsx(yS,{userLocations:Vt}),ae.jsx("footer",{className:"mt-6 text-gray-400 text-sm text-center",children:"Ratings, Comments, & Check-Ins reset daily at 6:00 AM PST"}),ae.jsx("button",{className:"mt-4 bg-neon-purple px-4 py-2 rounded hover:bg-purple-800 text-black",onClick:()=>k(!0),children:"Send Us Feedback"}),h&&ae.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-end z-50",children:ae.jsxs("div",{className:"bg-gray-900 text-white w-80 h-full shadow-lg overflow-y-auto p-4 relative",children:[ae.jsx("button",{className:"float-right top-4 right-4 text-gray-400 hover:text-gray-200",onClick:()=>p(null),children:"Close"}),ae.jsx("h2",{className:"text-2xl font-bold mb-4",children:h}),ae.jsxs("div",{className:"mt-4",children:[ae.jsx("textarea",{className:"w-full bg-gray-800 text-white rounded p-2",rows:"3",value:S,onChange:W=>x(W.target.value),placeholder:"Add a comment..."}),ae.jsx("button",{className:"mt-2 bg-neon-purple px-4 py-2 rounded hover:bg-purple-800",onClick:Et,children:"Submit"})]}),ae.jsx("div",{className:"flex flex-col space-y-4 mt-4",children:_[h].map((W,O)=>ae.jsxs("div",{className:"border-b border-gray-700 pb-2",children:[ae.jsx("p",{children:W.text}),ae.jsx("p",{className:"text-sm text-gray-500",children:new Date(W.timestamp).toLocaleString()})]},O))})]})}),A&&ae.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:ae.jsxs("div",{className:"bg-gray-900 text-white w-80 rounded-lg shadow-lg p-4 relative",children:[ae.jsx("button",{className:"float-right mr-0.5 top-2 right-2 text-gray-400 hover:text-gray-200",onClick:()=>k(!1),children:"Close"}),ae.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Submit Feedback"}),ae.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Your Email:"}),ae.jsx("input",{type:"email",value:M,onChange:W=>Z(W.target.value),className:"w-full mb-4 p-2 rounded bg-gray-800 text-white",placeholder:"email@example.com"}),ae.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Your Message:"}),ae.jsx("textarea",{value:Q,onChange:W=>K(W.target.value),rows:3,className:"w-full mb-4 p-2 rounded bg-gray-800 text-white",placeholder:"Tell us which venue you want added, concerns, questions, suggestions, etc..."}),ae.jsx("input",{type:"text",name:"honeypot",value:le,onChange:W=>Ie(W.target.value),style:{display:"none"},autoComplete:"off"}),ae.jsx("button",{onClick:Gt,className:"bg-neon-purple px-4 py-2 rounded hover:bg-purple-800 text-black",children:"Submit"})]})})]})};Zg.createRoot(document.getElementById("root")).render(ae.jsx(ve.StrictMode,{children:ae.jsx(ES,{})}));
